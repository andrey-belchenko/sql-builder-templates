<?xml version="1.0" encoding="utf-8"?>
<root timestamp="2025-07-10T22:21:14.0247488+03:00">
  <customers child-name="customer" key-name="id" />
  <queries child-name="query" key-name="name">
    <query name="45567-r023" timestamp="21.01.2020 12:56:40" title="Перечень КЛ в сводке за период" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_d1" column-mandatory="1" title="На" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="cmn_date" title="На" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-FRemList1.xlsx" title="Перечень КЛ в сводке за период" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="t" column="name" as="uks" key="0" />
        <column column="name" table="b" title="Район" as="rer" key="0" />
        <column column="num_failure" table="a" title="номер повреждения" as="num_failure" key="0" />
        <column column="dat_repair" table="a" title="Дата" type="date" as="dat_repair" key="0" />
        <column column="line_name" table="a" title="Наименование" as="line_name" key="0" />
        <column column="name" table="kod_use_line" title="Назначение КЛ" as="type_line" key="0" />
        <column table="a" column="id_parent_failure" as="id_parent_failure" key="0" />
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="hr_otg_repair" as="r" table="hr_otg_repair" child="hr_otg_failure" field="hr_otg_repair" parent="hr_otg_repair" back="hr_otg_failure" />
          <link name="kod_use_line" as="kod_use_line" table="hk_otg_use_line" child="hr_otg_failure" field="kod_use_line" parent="hk_otg_use_line" back="hr_otg_failure" />
        </query>
        <query name="hv_otg_rpdistrict" as="b" join="right outer" dname="45567-r023">
          <call function="=">
            <column table="a" column="rer" />
            <column table="b" column="kodp" />
          </call>
        </query>
        <query name="hv_otg_okrug" as="t" join="right outer" dname="45567-r023">
          <call function="=">
            <column table="b" column="kod_parent" />
            <column table="t" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="=">
            <column table="a" column="kod_typeline" />
            <const>'1'</const>
          </call>
          <call function="lt">
            <column table="a" column="dat_repair" />
            <useparam name="p_d1" />
          </call>
          <call function="ge">
            <call function="nvl">
              <column table="r" column="dat_work_on" />
              <const type="string">to_date('01.01.9000','DD.MM.YYYY')</const>
            </call>
            <useparam name="p_d1" />
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
          <call function="not in">
            <column table="a" column="id_failure" />
            <const>(select d.id_failure from hr_otg_failure d where d.id_failure = a.id_parent_failure)</const>
          </call>
          <call function="=0">
            <column table="a" column="pr_proboi" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r16" timestamp="25.10.2018 20:16:27" title="Ф.016 Распределение повреждений оборудования по причинам" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" haskeys="1">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_year" controlType="UICombo" title="Год" type="number" timestamp="16.04.2018 17:49:12" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_016(:p_year, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <print-templates>
        <excel>
          <template name="45567-F016.xlsx" title="РАСПРЕДЕЛЕНИЕ поврежденного электрооборудования" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="a" column="kod_cause_failure" as="kod_cause_failure" key="1" />
        <column table="a" column="name" as="name" key="0" />
        <column table="a" column="type" as="type" key="0" />
        <column table="a" column="type_name" title="тип" as="type_name" key="0" />
        <column table="a" column="v_0" group="sum" title="v1" as="v_0" key="0" />
        <column table="a" column="v_22" group="sum" title="v22" as="v_22" key="0" />
        <column table="a" column="v_21" group="sum" title="v21" as="v_21" key="0" />
        <column table="a" column="v_19" group="sum" title="v19" as="v_19" key="0" />
        <column table="a" column="v_18" group="sum" title="v18" as="v_18" key="0" />
        <column table="a" column="v_16" group="sum" title="v16" as="v_16" key="0" />
        <column table="a" column="v_14" group="sum" title="v14" as="v_14" key="0" />
        <column table="a" column="v_13" group="sum" title="v13" as="v_13" key="0" />
        <column table="a" column="v_12" group="sum" title="v12" as="v_12" key="0" />
        <column table="a" column="v_11" group="sum" title="v11" as="v_11" key="0" />
        <column table="a" column="v_10" group="sum" title="v10" as="v_10" key="0" />
        <column table="a" column="v_9" group="sum" title="v9" as="v_9" key="0" />
        <column table="a" column="v_8" group="sum" title="v8" as="v_8" key="0" />
        <column table="a" column="v_7" group="sum" title="v7" as="v_7" key="0" />
      </select>
      <from>
        <query name="hv_otg_rep_r016" as="a" />
      </from>
      <grouping>
        <grset as="itog">
          <where>
            <call function="!=">
              <column table="this" column="kod_cause_failure" />
              <const>-10</const>
            </call>
          </where>
          <grset as="tip">
            <group>
              <column table="this" column="type_name" />
            </group>
            <grset as="row">
              <group>
                <column table="this" column="name" />
              </group>
            </grset>
          </grset>
        </grset>
        <grset as="err">
          <where>
            <call function="=">
              <column table="this" column="kod_cause_failure" />
              <const>-10</const>
            </call>
          </where>
        </grset>
      </grouping>
    </query>
    <query name="45567-r26" timestamp="30.11.2018 18:40:37" title="График выполнения благоустройства" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="C" name="p_d1" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_d2" title="По" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-FSviks_F2.xlsx" title="График выполнения благоустройства" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call function="rownum" as="num_row" key="0" />
        <column table="a" column="rer_name" as="rer_name" key="0" />
        <column table="a" column="dat_repair" as="dat_repair" key="0" />
        <column table="a" column="line_name" as="line_name" key="0" />
        <column table="a" column="bal_name" as="bal_name" key="0" />
        <column table="a" column="dat_omp" as="dat_omp" key="0" />
        <column table="a" column="dat_repair_start" as="dat_repair_start" key="0" />
        <column table="a" column="dat_repair_end" as="dat_repair_end" key="0" />
        <column table="a" column="dat_test" as="dat_test" key="0" />
        <column table="a" column="dat_work_on" as="dat_work_on" key="0" />
        <column table="a" column="adr_mp" as="adr_mp" key="0" />
        <column table="a" column="info_dat_tel_oati" as="info_dat_tel_oati" key="0" />
        <column table="a" column="info_num_tel_oati" as="info_num_tel_oati" key="0" />
        <column table="a" column="blag_dat_start" as="blag_dat_start" key="0" />
        <column table="a" column="blag_num_tel_start" as="blag_num_tel_start" key="0" />
        <column table="a" column="blag_dat_vost" as="blag_dat_vost" key="0" />
        <column table="a" column="blag_dat_bal" as="blag_dat_bal" key="0" />
        <column table="a" column="blag_dat_end_ati" as="blag_dat_end_ati" key="0" />
        <column table="a" column="blag_dat_end_oati" as="blag_dat_end_oati" key="0" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f036" timestamp="30.11.2018 17:34:58" title="Ф.036 Объем ремонта и демонтажа" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="C" name="p_d1" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_d2" title="По" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-F036.xlsx" title="Ф.036 Объем ремонта и демонтажа" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call function="rownum" as="num_row" key="0" />
        <column table="a" column="dat_repair_end" as="dat_repair_end" key="0" />
        <column table="a" column="line_name" as="line_name" key="0" />
        <column table="a" column="ins_marka_name" as="ins_marka_name" key="0" />
        <column table="a" column="ins_section_name" as="ins_section_name" key="0" />
        <column table="a" column="ins_dist" as="ins_dist" key="0" />
        <column table="a" column="sm_marka_name" as="sm_marka_name" key="0" />
        <column table="a" column="sm_count" as="sm_count" key="0" />
        <column table="a" column="sm2_marka_name" as="sm2_marka_name" key="0" />
        <column table="a" column="sm2_count" as="sm2_count" key="0" />
        <column table="a" column="kz_marka_name" as="kz_marka_name" key="0" />
        <column table="a" column="kz_count" as="kz_count" key="0" />
        <column table="a" column="sm_marka_dem_name" as="sm_marka_dem_name" key="0" />
        <column table="a" column="sm_count_dem" as="sm_count_dem" key="0" />
        <column table="a" column="sm2_marka_dem_name" as="sm2_marka_dem_name" key="0" />
        <column table="a" column="sm2_count_dem" as="sm2_count_dem" key="0" />
        <column table="a" column="kz_marka_dem_name" as="kz_marka_dem_name" key="0" />
        <column table="a" column="kz_count_dem" as="kz_count_dem" key="0" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f237" timestamp="30.11.2018 11:59:06" title="Ф.237 Сводка ремонта отказов" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_ym" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="год.месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="ym" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F237.xlsx" title="Ф.237 Сводка ремонта отказов" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call function="rownum" as="num_row" key="0" />
        <column table="a" column="rer_name" as="rer_name" key="0" />
        <column table="a" column="num_failure" as="num_failure" key="0" />
        <column table="a" column="dat_repair" as="dat_repair" key="0" />
        <column table="a" column="line_name" as="line_name" key="0" />
        <column table="a" column="dat_repair_end" as="dat_repair_end" key="0" />
        <column table="a" column="life_time" as="life_time" key="0" />
        <column table="a" column="dat_test" as="dat_test" key="0" />
        <column table="a" column="equip_elem" as="equip_elem" key="0" />
        <column table="a" column="mark_elem" as="mark_elem" key="0" />
        <column table="a" column="cause_failure" as="cause_failure" key="0" />
        <column table="a" column="sm_marka_name" as="sm_marka_name" key="0" />
        <column table="a" column="sm_count" as="sm_count" key="0" />
        <column table="a" column="sm2_marka_name" as="sm2_marka_name" key="0" />
        <column table="a" column="sm2_count" as="sm2_count" key="0" />
        <column table="a" column="kz_marka_name" as="kz_marka_name" key="0" />
        <column table="a" column="kz_count" as="kz_count" key="0" />
        <column table="a" column="ins_marka_name" as="ins_marka_name" key="0" />
        <column table="a" column="ins_section_name" as="ins_section_name" key="0" />
        <column table="a" column="ins_dist" as="ins_dist" key="0" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null">
            <column table="a" column="dat_work_on" />
          </call>
          <call function="between">
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end time">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r022" timestamp="23.04.2019 12:58:23" title="Справка о повреждениях и ремонтах КЛ" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" haskeys="1">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="C" name="p_d1" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_d2" title="По" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-FSpravka2.xlsx" title="Сводка поврежденных КЛ" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="b" column="name" group="1" as="name" key="1" fixed="1" />
        <call as="count_nrs" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="lt">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_nrp" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="lt">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d2" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_cfa" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(1,2)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_cfp" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>2</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_cra" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(1,2)</const>
            </call>
            <call function="in">
              <column column="kod_kind_failure" table="a" />
              <const>(1,2)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crp" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>2</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crkz" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_equip_elem" table="r" />
              <const>3</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crpr" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>3</const>
            </call>
            <call function="between">
              <column table="r" column="dat_work_on" />
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crus" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>4</const>
            </call>
            <call function="between">
              <column table="r" column="dat_work_on" />
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_pkl" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const>1</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_rkl" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const>(2,3,8)</const>
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_nn" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="NN">(4,13)</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_kl" function="if" type="number" group="sum" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(1,2,3,4)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer" as="rer" table="hv_otg_rpdistrict" child="hr_otg_failure" field="rer" parent="hv_otg_rpdistrict" back="hr_otg_failure">
            <link name="kod_parent" as="kod_parent" table="hv_otg_rpdistrict" child="hv_otg_rpdistrict" field="kod_parent" parent="hv_otg_rpdistrict" back="hv_otg_rpdistrict" />
          </link>
          <link name="kod_typeline" as="kod_typeline" table="hk_otg_typeline" child="hr_otg_failure" field="kod_typeline" parent="hk_otg_typeline" back="hr_otg_failure" />
          <link name="hr_otg_repair" as="r" table="hr_otg_repair" child="hr_otg_failure" field="hr_otg_repair" parent="hr_otg_repair" back="hr_otg_failure" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer" dname="45567-r022">
          <call function="=">
            <column table="rer" column="kod_parent" />
            <column table="b" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Признак удаленного">0</const>
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f010" timestamp="25.10.2018 14:37:13" title="Ф.010 Перечень КЛ повредившихся более 2-х раз в год" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_year" controlType="UICombo" title="Год" type="number" timestamp="16.04.2018 17:49:12" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F010.xlsx" title="Ф.010 Перечень КЛ повредившихся более 2-х раз в год" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call table="a" function="rownum" as="n_row" key="0" />
        <column table="a" column="rer_name" as="rer_name" key="0" />
        <column table="a" column="num_failure" as="num_failure" key="0" />
        <column table="a" column="dat_repair" as="dat_repair" key="0" />
        <column table="a" column="type_detect" as="type_detect" key="0" />
        <column table="a" column="line_name" as="line_name" key="0" />
        <column table="a" column="life_time" as="life_time" key="0" />
        <column table="a" column="equip_elem" as="equip_elem" key="0" />
        <column table="a" column="mark_elem" as="mark_elem" key="0" />
        <column table="a" column="degree_failure" as="degree_failure" key="0" />
        <column table="a" column="exec_r" as="exec_r" key="0" />
        <column table="a" column="type_layr" as="type_layr" key="0" />
      </select>
      <from>
        <query name="45567-line_2x_repair" as="a" title="Больше 2х повреждений КЛ в год">
          <withparams>
            <useparam name="p_year" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="a" column="count_name" />
            <const>1</const>
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-line_2x_repair" title="Больше 2х повреждений КЛ в год" timestamp="30.11.2018 17:37:53" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param type="date" name="p_year" title="p_year" field="year" />
      </params>
      <select>
        <column table="a" column="rer" as="rer" key="0" />
        <call function="row_number" as="rank_name" type="number" key="0">
          <call function="partition by">
            <column table="a" column="line_name" />
          </call>
          <call function="order by rows * *">
            <column table="a" column="id_failure" />
          </call>
        </call>
        <call function="over" as="count_name" type="number" key="0">
          <call function="count">
            <column table="a" column="line_name" />
          </call>
          <call function="partition by">
            <column table="a" column="line_name" />
          </call>
          <call function="order by rows * *">
            <column table="a" column="id_failure" />
          </call>
        </call>
        <column table="a" column="rer_name" as="rer_name" key="0" />
        <column table="a" column="num_failure" as="num_failure" key="0" />
        <column table="a" column="dat_repair" as="dat_repair" key="0" />
        <column table="a" column="type_detect" as="type_detect" key="0" />
        <column table="a" column="line_name" as="line_name" key="0" />
        <column table="a" column="life_time" as="life_time" key="0" />
        <column table="a" column="equip_elem" as="equip_elem" key="0" />
        <column table="a" column="mark_elem" as="mark_elem" key="0" />
        <column table="a" column="degree_failure" as="degree_failure" key="0" />
        <column table="a" column="exec_r" as="exec_r" key="0" />
        <column table="a" column="type_layr" as="type_layr" key="0" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call part="column" function="=">
          <useparam name="p_year" />
          <call function="year">
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <column table="a" column="dat_repair" />
              <column table="a" column="data_dop" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f003" timestamp="25.10.2018 20:05:30" title="Ф.003 Классификация аварий и отказов в сети 6-10" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_ym" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="год.месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="ym" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F003.xlsx" title="Ф.003 Классификация аварий и отказов в сети 6-10" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F003(:p_ym, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <select>
        <call function="||" as="key_full" key="0">
          <column table="a" column="pr" />
          <const>'_'</const>
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="klass_group_type" type="number" />
          <const>'_'</const>
          <column table="a" column="kod_degree_failure" />
        </call>
        <column table="a" column="value_count" as="value_count" key="0" />
      </select>
      <from>
        <query name="hv_otg_rep_f003" as="a" />
      </from>
    </query>
    <query name="45567-f004" timestamp="25.10.2018 19:59:10" title="Ф.004 Распределение повреждений по способу выявления " is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_ym" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="год.месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="ym" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F004.xlsx" title="Ф.004 Распределение повреждений по способу выявления " del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F004(:p_ym, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <select>
        <call function="||" as="key_full" key="0">
          <column table="a" column="pr" />
          <const>'_'</const>
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="klass_group_type" type="number" />
          <const>'_'</const>
          <column table="a" column="kod_degree_failure" />
        </call>
        <column table="a" column="value_count" as="value_count" key="0" />
      </select>
      <from>
        <query name="hv_otg_rep_f003" as="a" />
      </from>
    </query>
    <query name="45567-f011" timestamp="25.10.2018 20:12:14" title="Ф.011 Распределение повреждений по элементам по способу выявления" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_year" controlType="UICombo" title="Год" type="number" timestamp="16.04.2018 17:49:12" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F011.xlsx" title="Ф.011 Распределение повреждений по элементам по способу выявления" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod'; 
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F011(:p_year, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <select>
        <call function="||" as="key_full" key="0">
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="kod_equip_elem" />
          <const>'_'</const>
          <column table="a" column="pr" type="number" />
          <const>'_'</const>
          <column table="a" column="kod_type_detect" />
        </call>
        <column table="a" column="value_count" as="value_count" key="0" />
      </select>
      <from>
        <query name="hv_otg_rep_f011" as="a" />
      </from>
    </query>
    <query name="45567-f025" timestamp="25.10.2018 20:14:08" title="Ф.025 Распределение ОМП кабелей по способам и исполнителям" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_year" controlType="UICombo" title="Год" type="number" timestamp="16.04.2018 17:49:12" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F025.xlsx" title="Ф.025 Распределение ОМП кабелей по способам и исполнителям" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F025(:p_year, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <select>
        <call function="||" as="key_full" key="0">
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="pr_exec" />
          <const>'_'</const>
          <column table="a" column="kod_use_line" type="number" />
        </call>
        <column table="a" column="value_count" as="value_count" key="0" />
      </select>
      <from>
        <query name="hv_otg_rep_f025" as="a" />
      </from>
    </query>
    <query name="45567-f021" timestamp="03.07.2020 14:55:22" title="Ф.021 Распределение ремонтов КЛ по виду, исполнителям и назначению КЛ" is-report="1" mode="excel" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_d1" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="Отчетный месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-F021.xlsx" title="Сводка поврежденных КЛ" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="rer" column="name" as="name_rer" key="0" />
        <column table="b" column="name" as="name_okr" key="0" />
        <call function="if" type="number" group="sum" as="m_pkl" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rkl" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_nn" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_kz" key="0">
          <call function="and">
            <call function="like2">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_r" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_ro" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_a" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_abc" key="0">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <call function="array">
                <const>3</const>
                <const>6</const>
                <const>7</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_oth" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_first" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="первичные ремонты">1</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_sec" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="повторный ремонты">2</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_rec" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="реконструкция">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_tec" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="Устранение течи">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <const>1</const>
        </call>
        <call type="number" group="avg" as="m_avg_ex_r" function="if" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_ro" function="if" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_a" function="if" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_abc" function="if" key="0">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <call function="array">
                <const>3</const>
                <const>6</const>
                <const>7</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_oth" function="if" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call function="if" type="number" group="avg" as="m_avg_pkl" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="m_avg_rkl" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="m_avg_nn" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="between">
              <column column="dat_repair_end" table="hr_otg_repair" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="sum" as="y_pkl" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rkl" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_nn" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_kz" key="0">
          <call function="and">
            <call function="like2">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_r" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_ro" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_a" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_abc" key="0">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <call function="array">
                <const>3</const>
                <const>6</const>
                <const>7</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_oth" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_first" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="первичные ремонты">1</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_sec" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="повторный ремонты">2</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_rec" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="реконструкция">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_tec" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="Устранение течи">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call type="number" group="avg" as="y_avg_ex_r" function="if" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_ro" function="if" key="0">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <call function="array">
                <const>2</const>
                <const>3</const>
                <const>4</const>
                <const>5</const>
                <const>6</const>
                <const>7</const>
                <const>-10</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_a" function="if" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_abc" function="if" key="0">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <call function="array">
                <const>3</const>
                <const>6</const>
                <const>7</const>
              </call>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_oth" function="if" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call function="if" type="number" group="avg" as="y_avg_pkl" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="y_avg_rkl" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="y_avg_nn" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer" as="rer" table="hv_otg_rpdistrict" child="hr_otg_failure" field="rer" parent="hv_otg_rpdistrict" back="hr_otg_failure">
            <link name="kod_parent" as="kod_parent" table="hv_otg_rpdistrict" child="hv_otg_rpdistrict" field="kod_parent" parent="hv_otg_rpdistrict" back="hv_otg_rpdistrict" />
          </link>
          <link name="kod_typeline" as="kod_typeline" table="hk_otg_typeline" child="hr_otg_failure" field="kod_typeline" parent="hk_otg_typeline" back="hr_otg_failure" />
          <link name="hr_otg_repair" as="hr_otg_repair" table="hr_otg_repair" child="hr_otg_failure" field="hr_otg_repair" parent="hr_otg_repair" back="hr_otg_failure">
            <link name="kod_brig" as="kod_brig" table="kr_org" child="hr_otg_repair" field="kod_brig" parent="kr_org" back="hr_otg_repair">
              <link name="kod_parent" as="kod_parent" table="kr_org" child="kr_org" field="kod_parent" parent="kr_org" back="kr_org">
                <link name="kod_parent" as="rer_brig" table="kr_org" child="kr_org" field="kod_parent" parent="kr_org" back="kr_org" />
              </link>
            </link>
          </link>
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer" dname="45567-f021">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="or">
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="and">
              <call function="in">
                <column table="rer_brig" column="kodp" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
          </call>
          <call function="=1">
            <column table="hr_otg_repair" column="sign_2" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="between">
            <call function="trunc">
              <column column="dat_repair_end" table="hr_otg_repair" />
            </call>
            <call function="year begin time">
              <call function="trunc" name="p_d1">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="ym end day">
              <useparam name="p_d1" />
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="i">
          <grset as="o">
            <group>
              <column column="name_okr" table="this" />
            </group>
            <grset as="r">
              <group>
                <column column="name_rer" table="this" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-r20" title="Данные для смет по ремонтным работам на КЛ" is-report="1" timestamp="30.11.2018 17:41:38" mode="excel" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="C" name="p_d1" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_d2" title="По" column-mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-r20.xlsx" title="Данные для смет по ремонтным работам на КЛ" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call function="rownum" as="num_row" key="0" />
        <column table="a" column="num_failure" as="num_failure" key="0" />
        <column table="a" column="dat_repair" as="dat_repair" key="0" />
        <column table="a" column="rer_name" as="rer_name" key="0" />
        <column table="a" column="line_name" as="line_name" key="0" />
        <column table="a" column="use_line" as="use_line" key="0" />
        <column table="a" column="kod_assets_inv" as="kod_assets_inv" key="0" />
        <column table="a" column="insautor" as="insautor" key="0" />
        <column table="a" column="adr_mp" as="adr_mp" key="0" />
        <column table="a" column="dat_repair_start" as="dat_repair_start" key="0" />
        <column table="a" column="dat_repair_end" as="dat_repair_end" key="0" />
        <column table="a" column="mark_elem" as="mark_elem" key="0" />
        <column table="a" column="ins_marka_name" as="ins_marka_name" key="0" />
        <column table="a" column="ins_section" as="ins_section" key="0" />
        <column table="a" column="ins_dist" as="ins_dist" key="0" />
        <column table="a" column="sm_marka_name" as="sm_marka_name" key="0" />
        <column table="a" column="sm_count" as="sm_count" key="0" />
        <column table="a" column="sm2_marka_name" as="sm2_marka_name" key="0" />
        <column table="a" column="sm2_count" as="sm2_count" key="0" />
        <column table="a" column="blag_road" as="blag_road" key="0" />
        <column table="a" column="blag_sidewalk" as="blag_sidewalk" key="0" />
        <column table="a" column="blag_grass" as="blag_grass" key="0" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" />
          </call>
        </call>
      </where>
    </query>
    <query name="b" title="Данные для смет по ремонтным работам на КЛ" timestamp="25.10.2018 22:12:34" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <select />
      <from />
    </query>
    <query name="45567-r21-summ" title="запрос сумм" timestamp="08.07.2020 11:14:29" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call table="a" column="rer" group="count" function="if" as="kl" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_orderby" />
              <call function="array">
                <const>0</const>
                <const>7</const>
                <const>8</const>
              </call>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="kz" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_orderby" />
              <const>7</const>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="itogo_rer" key="0">
          <call function="or">
            <call function="in">
              <column table="a" column="kod_orderby" />
              <call function="array">
                <const>1</const>
              </call>
            </call>
            <call function="and">
              <call function="in">
                <column table="a" column="kod_orderby" />
                <call function="array">
                  <const>7</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam name="rer" />
              </call>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="defect" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_orderby" />
              <const>8</const>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="abonent" key="0">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>4</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="abc" key="0">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>3</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="other_uks" key="0">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>2</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="other_rer" key="0">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>6</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="podrorg" key="0">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>5</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="predypr" key="0">
          <call function="=">
            <column table="a" column="kod_type_repair" />
            <const comment="Предупредительные">3</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="predypr_rer" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупредительные">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer_brig" />
              <useparam name="rer" />
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="predypr_rer_kz" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупредительные">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer_brig" />
              <useparam name="rer" />
            </call>
            <call function="=">
              <column table="a" column="kod_orderby" />
              <const type="number">7</const>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="sum" function="if" as="all_work" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_orderby" />
              <call function="array">
                <const>0</const>
                <const>2</const>
              </call>
            </call>
          </call>
          <column column="work_count" table="a" />
        </call>
        <call table="a" column="rer" group="sum" function="if" as="rer_work" key="0">
          <call function="or">
            <call function="in">
              <column table="a" column="kod_orderby" />
              <call function="array">
                <const>1</const>
                <const>6</const>
              </call>
            </call>
            <call function="and">
              <call function="not in">
                <column table="a" column="kod_orderby" />
                <call function="array">
                  <const>0</const>
                  <const>2</const>
                  <const>3</const>
                  <const>4</const>
                  <const>5</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam name="rer" />
              </call>
            </call>
          </call>
          <column column="work_count" table="a" />
        </call>
      </select>
      <from>
        <query name="45567-r21-main-data" as="a" title="Основная таблица">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="45567-r21-isnull" title="Не вошли в отчет из за пустых значений" timestamp="11.08.2021 12:01:57" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" haskeys="1">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="rownum" as="row_id1" key="1" />
        <column table="a" column="num_failure" as="num_failure" />
        <column table="a" column="dat_repair" as="dat_repair" />
        <column table="a" column="rer_name" as="rer_name" />
        <column table="a" column="line_name" as="line_name" />
        <call function="nvl" as="nvl_bal">
          <column table="a" column="bal_name" />
          <const>'-'</const>
        </call>
        <call function="nvl" as="nvl_adr">
          <column table="a" column="adr_mp" />
          <const>'-'</const>
        </call>
        <call function="nvl" as="nvl_dat_oati" type="string">
          <call function="to_char">
            <column column="info_dat_tel_oati" table="a" />
            <const>'dd.mm.yyyy'</const>
          </call>
          <const>'-'</const>
        </call>
        <call function="nvl" as="nvl_tel_oati">
          <column table="a" column="info_num_tel_oati" />
          <const>'-'</const>
        </call>
        <call function="if" as="sign_2">
          <call function="=1">
            <column table="a" column="sign_2" />
          </call>
          <const type="string">'Да'</const>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="or">
            <call function="is null">
              <column table="a" column="bal_name" />
            </call>
            <call function="is null">
              <column table="a" column="adr_mp" />
            </call>
            <call function="!=">
              <column table="a" column="sign_2" />
              <const>1</const>
            </call>
          </call>
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f3_t1" timestamp="06.09.2019 14:22:12" title="Распределение по месяцам" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="trunc" as="dat" type="date" group="max" key="0">
          <call function="if">
            <call function="=">
              <useglobparam name="PARAM_PR_SECRET" />
              <const>0</const>
            </call>
            <column table="a" column="dat_repair" />
            <column table="a" column="data_dop" />
          </call>
        </call>
        <call function="year" as="god" group="max" key="0">
          <column table="this" column="dat" group="" />
        </call>
        <call function="month" as="mes" group="max" key="0">
          <column table="this" column="dat" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_all" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="=">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
              <column table="this" column="god" group="" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m1" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>1</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m2" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>2</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m3" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>3</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m4" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>4</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m5" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>5</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m6" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>6</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m7" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>7</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m8" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>8</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m9" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>9</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m10" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>10</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m11" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>11</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m12" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>12</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_all" key="0">
          <call function="and">
            <call function="=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="=">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
              <column table="this" column="god" group="" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_kind_failure" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_type_detect" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_equip_elem" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_mark_elem" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_cause_failure" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m1" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>1</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m2" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>2</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m3" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>3</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m4" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>4</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m5" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>5</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m6" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>6</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m7" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>7</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m8" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>8</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m9" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>9</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m10" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>10</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m11" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>11</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m12" key="0">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="" />
              <const>12</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="" />
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_all" key="0">
          <call function="and">
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m1" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call function="trunc">
                  <useparam name="p_ym" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">1</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m2" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">1</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">2</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m3" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="март">2</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">3</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m4" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">3</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">4</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m5" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">4</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">5</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m6" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">5</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">6</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m7" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">6</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">7</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m8" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">7</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">8</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m9" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">8</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">9</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m10" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">9</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">10</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m11" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">10</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">11</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m12" key="0">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">11</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">12</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="year begin time">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
            </call>
            <call function="year end time">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
            </call>
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f3_t3" timestamp="06.09.2019 14:22:36" title="Распределение по месяцам" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="if" type="number" group="sum" as="t3_i_all" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="is not null">
              <column column="kod_klass_group" table="a" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_1_1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Оперативного-111">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_1_2" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Ремонтного-112">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_1_3" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Эксплуатационного-113">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_2_1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Заводов-изготовителей-21">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_2_5" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Монтажных-25">5</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_3_3" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Посторонних лиц ( механич. повреждения )-33">6</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гроза-41">7</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_2" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гололед-42">8</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_3" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Сильный ветер-43">9</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_4" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Температурное атмосферное воздействие-44">10</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_5" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Попад.воды (протечка кровли,затопл.КЗ)-45">13</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_6" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Пожар, возгорание-46">14</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_5_0" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Естественный износ ( более 25 лет )-50">11</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_7_0" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Причина не установлена-70">12</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_all" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="is not null">
              <column column="kod_klass_group" table="a" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_1_1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Оперативного-111">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_1_2" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Ремонтного-112">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_1_3" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Эксплуатационного-113">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_2_1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Заводов-изготовителей-21">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_2_5" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Монтажных-25">5</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_3_3" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Посторонних лиц ( механич. повреждения )-33">6</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гроза-41">7</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_2" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гололед-42">8</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_3" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Сильный ветер-43">9</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_4" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Температурное атмосферное воздействие-44">10</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_5" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Попад.воды (протечка кровли,затопл.КЗ)-45">13</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_6" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Пожар, возгорание-46">14</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_5_0" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Естественный износ ( более 25 лет )-50">11</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_7_0" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Причина не установлена-70">12</const>
            </call>
          </call>
          <const>1</const>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
          <call function="between">
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <column table="a" column="dat_repair" />
              <column table="a" column="data_dop" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end time">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f3_t2" timestamp="04.12.2020 15:28:14" title="Распределение по месяцам" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="if" type="number" group="sum" as="t2_pkl_is" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_au" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_fa" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_os" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_du" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_na" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_kz" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_me" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_el" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_meh" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_nd" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_kv" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_is" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_au" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_fa" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_os" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_du" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_na" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_kz" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_me" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_el" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_meh" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_nd" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_kv" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_is" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_au" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_fa" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_os" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_du" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_na" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_kz" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_me" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_el" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_meh" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_nd" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_kv" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_is" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_au" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_fa" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_os" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_du" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_na" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_kz" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_me" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_el" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_meh" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_nd" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_kv" key="0">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_is" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_au" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_fa" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_os" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_du" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_na" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_kz" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_me" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_el" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_meh" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_nd" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_kv" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="case" as="t2_else" type="string" key="0">
          <call function="when">
            <call function="=">
              <call function="case" group="sum">
                <call function="when">
                  <call function="or">
                    <call function="=">
                      <column table="a" column="kod_type_detect" />
                      <const type="number">-10</const>
                    </call>
                    <call function="=">
                      <column table="a" column="kod_use_line" />
                      <const type="number">-10</const>
                    </call>
                  </call>
                  <const type="number">1</const>
                </call>
                <call function="else">
                  <const type="number">0</const>
                </call>
              </call>
              <const type="number">0</const>
            </call>
            <const type="string">''</const>
          </call>
          <call function="else">
            <const type="string">'Имеются повреждения, не классифицированные по способу выявления.'</const>
          </call>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
          <call function="between">
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <column table="a" column="dat_repair" />
              <column table="a" column="data_dop" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end time">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r21-exec" timestamp="24.06.2019 11:03:30" title="Исполнители ремонтов" order="DECODE(exec_r, 'СРСЭО', 0, 1), exec_r" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" haskeys="1">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="distinct" as="exec_r" key="1" type="string">
          <call function="case">
            <call function="when">
              <call function="and">
                <call function="=">
                  <column table="a" column="kod_type_repair" />
                  <const>4</const>
                </call>
                <call function="=">
                  <column table="a" column="kod_equip_elem" />
                  <const>3</const>
                </call>
              </call>
              <const type="string">'Концевые заделки'</const>
            </call>
            <call function="else">
              <column table="a" column="exec_r" />
            </call>
          </call>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null">
            <column table="a" column="adr_mp" />
          </call>
          <call function="is not null">
            <column table="a" column="bal_name" />
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
      <order>
        <column column="DECODE(exec_r" />
        <column column="'СРСЭО'" />
        <column column="0" />
        <column column="1)" />
        <column column="exec_r" />
      </order>
    </query>
    <query name="45567-f034" timestamp="26.04.2019 17:28:45" title="Ф.034 Расшифровка выполненых ремонтов по назначению КЛ и длительности ремонтов" is-report="1" mode="excel" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param controlType="UICombo" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIText" type="string" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="rer_name" column-visible="0" />
        <param name="p_d1" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="Отчетный месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="cmn_combo_num" name="rer" default="rer" mandatory="rer" column-mandatory="1">
          <listquery>
            <query name="hv_otg_rpdistrict" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict" />
          </defaultquery>
        </usefield>
        <usefield field="cmn_string" name="rer_name" column-visible="0">
          <listquery>
            <query name="hv_otg_rpdistrict_str" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict_str" />
          </defaultquery>
        </usefield>
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-F034.xlsx" title="Ф.034 Расшифровка выполненых ремонтов по назначению КЛ и длительности ремонтов" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call function="if" type="number" group="sum" as="SM_1_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 16)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_1_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 16)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_2_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 18)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_2_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 18)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_3_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 19)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_3_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 19)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_4_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 20)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_4_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 20)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_1_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Одно- жильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 60)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_1_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Одно- жильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 60)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_2_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Трех- и четырехжильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 61)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_2_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Трех- и четырехжильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 61)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_3_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Прочие">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 62)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_3_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Прочие">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 62)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="DEF_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(3,4)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="DEF_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(3,4)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call type="number" group="sum" as="KAB_1" function="if" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_count">1</column>
        </call>
        <call function="if" type="number" group="sum" as="KAB_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_count">1</column>
        </call>
        <call function="if" type="number" group="sum" as="SUMM_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_dist">1</column>
        </call>
        <call function="if" type="number" group="sum" as="SUMM_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_dist">1</column>
        </call>
        <call function="if" type="number" group="sum" as="R_1" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="R_2" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="R_3" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RS_1" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Повторный">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RS_2" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Повторный">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RS_3" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Повторный">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RP_1" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупр. рем.">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RP_2" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупр. рем.">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RP_3" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупр. рем.">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RY_1" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RY_2" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RY_3" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="avg" as="AVG_1" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_work_on" />
            <column table="a" column="dat_repair" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="AVG_2" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_work_on" />
            <column table="a" column="dat_repair" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="AVG_3" key="0">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_work_on" />
            <column table="a" column="dat_repair" />1</call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer" as="rer" table="hv_otg_rpdistrict" child="hr_otg_failure" field="rer" parent="hv_otg_rpdistrict" back="hr_otg_failure">
            <link name="kod_parent" as="kod_parent" table="hv_otg_rpdistrict" child="hv_otg_rpdistrict" field="kod_parent" parent="hv_otg_rpdistrict" back="hv_otg_rpdistrict" />
          </link>
          <link name="kod_typeline" as="kod_typeline" table="hk_otg_typeline" child="hr_otg_failure" field="kod_typeline" parent="hk_otg_typeline" back="hr_otg_failure" />
          <link name="hr_otg_repair" as="hr_otg_repair" table="hr_otg_repair" child="hr_otg_failure" field="hr_otg_repair" parent="hr_otg_repair" back="hr_otg_failure" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer" dname="45567-f034">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
          <call function="between">
            <column table="a" column="dat_repair" />
            <call name="p_d1" function="ym begin time">
              <useparam name="p_d1" />
            </call>
            <call name="p_d1" function="ym end day">
              <useparam name="p_d1" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f035" timestamp="14.06.2019 17:49:03" title="Ф.035 Сведения о демонтированных соединительных и концевых муфт" is-report="1" mode="excel" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param controlType="UICombo" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIText" type="string" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="rer_name" column-visible="0" />
        <param name="p_d1" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="Отчетный месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="cmn_combo_num" name="rer" default="rer" mandatory="rer" column-mandatory="1">
          <listquery>
            <query name="hv_otg_rpdistrict" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict" />
          </defaultquery>
        </usefield>
        <usefield field="cmn_string" name="rer_name" column-visible="0">
          <listquery>
            <query name="hv_otg_rpdistrict_str" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict_str" />
          </defaultquery>
        </usefield>
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-F035.xlsx" title="Ф.035 Сведения о демонтированных соединительных и концевых муфт" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="45567-f035_all" as="a" title="Распределение по месяцам">
          <withparams>
            <useparam name="rer" />
            <useparam name="p_d1" />
          </withparams>
        </query>
      </from>
      <where />
    </query>
    <query name="45567-f035_sm" timestamp="14.06.2019 18:05:42" title="Распределение по месяцам" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="number">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_d1" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="if" type="number" group="sum" as="sm_m_1_1" key="0">
          <call function="and">
            <call function="in">
              <column column="sm_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_1" key="0">
          <call function="and">
            <call function="in">
              <column column="sm_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer" as="rer" table="hv_otg_rpdistrict" child="hr_otg_failure" field="rer" parent="hv_otg_rpdistrict" back="hr_otg_failure">
            <link name="kod_parent" as="kod_parent" table="hv_otg_rpdistrict" child="hv_otg_rpdistrict" field="kod_parent" parent="hv_otg_rpdistrict" back="hv_otg_rpdistrict" />
          </link>
          <link name="kod_typeline" as="kod_typeline" table="hk_otg_typeline" child="hr_otg_failure" field="kod_typeline" parent="hk_otg_typeline" back="hr_otg_failure" />
          <link name="hr_otg_repair" as="hr_otg_repair" table="hr_otg_repair" child="hr_otg_failure" field="hr_otg_repair" parent="hr_otg_repair" back="hr_otg_failure" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer" dname="45567-f035_sm">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f035_kz" timestamp="14.06.2019 14:33:28" title="Распределение по месяцам" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="number">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_d1" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="if" type="number" group="sum" as="kz_m_1_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kz_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_7" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_6" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_5" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="ym begin time">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_4" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_3" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_2" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_1" key="0">
          <call function="and">
            <call function="in">
              <column column="kz_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer" as="rer" table="hv_otg_rpdistrict" child="hr_otg_failure" field="rer" parent="hv_otg_rpdistrict" back="hr_otg_failure">
            <link name="kod_parent" as="kod_parent" table="hv_otg_rpdistrict" child="hv_otg_rpdistrict" field="kod_parent" parent="hv_otg_rpdistrict" back="hv_otg_rpdistrict" />
          </link>
          <link name="kod_typeline" as="kod_typeline" table="hk_otg_typeline" child="hr_otg_failure" field="kod_typeline" parent="hk_otg_typeline" back="hr_otg_failure" />
          <link name="hr_otg_repair" as="hr_otg_repair" table="hr_otg_repair" child="hr_otg_failure" field="hr_otg_repair" parent="hr_otg_repair" back="hr_otg_failure" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer" dname="45567-f035_kz">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f031" timestamp="07.10.2021 13:34:36" title="Наряд на сдельные работы" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" haskeys="1">
      <params>
        <param controlType="UICombo" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIText" type="string" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="rer_name" column-visible="0" />
        <param name="p_d1" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="Отчетный месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1" />
      </params>
      <content>
        <usefield field="cmn_combo_num" name="rer" default="rer" mandatory="rer" column-mandatory="1">
          <listquery>
            <query name="hv_otg_rpdistrict" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict" />
          </defaultquery>
        </usefield>
        <usefield field="cmn_string" name="rer_name" column-visible="0">
          <listquery>
            <query name="hv_otg_rpdistrict_str" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict_str" />
          </defaultquery>
        </usefield>
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-F031.xlsx" title="Наряд на сдельные работы" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="br" column="name" as="br_name" group="max" key="0" />
        <call function="||" as="br_name1" group="max" key="0">
          <column table="br" column="name" />
          <const>' ('</const>
          <column table="rer" column="name" />
          <const>')'</const>
        </call>
        <column table="r" column="kod_brig" as="kod_brig" reference="kr_org" refcol="kodp" key="0" />
        <column table="ar" column="name" as="ar_name" group="max" key="0" />
        <column table="r" column="kod_area" as="kod_area" reference="kr_org" refcol="kodp" key="0" />
        <column table="r" column="dat_repair_end" group="max" as="dat_repair_end" key="0" />
        <column table="a" column="line_name" group="max" as="line_name" key="0" />
        <column table="kod_use_line" column="name" as="use_line" group="max" key="0" />
        <column table="r" column="work_num_shifr" group="max" as="work_num_shifr" key="0" />
        <column table="r" column="work_count" group="max" as="work_count" key="0" />
        <column table="r" column="ins_dist" group="max" as="ins_dist" key="0" />
        <column table="a" column="id_failure" as="id_failure" key="1" fixed="1" />
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="hr_otg_repair" as="r" table="hr_otg_repair" child="hr_otg_failure" field="hr_otg_repair" parent="hr_otg_repair" back="hr_otg_failure" />
          <link name="kod_use_line" as="kod_use_line" table="hk_otg_use_line" child="hr_otg_failure" field="kod_use_line" parent="hk_otg_use_line" back="hr_otg_failure" />
        </query>
        <query name="hv_otg_rpdistrict" as="b" join="right outer" dname="45567-f031">
          <call function="=">
            <column table="a" column="rer" />
            <column table="b" column="kodp" />
          </call>
        </query>
        <query name="hv_otg_okrug" as="t" join="right outer" dname="45567-f031">
          <call function="=">
            <column table="b" column="kod_parent" />
            <column table="t" column="kodp" />
          </call>
        </query>
        <query name="kr_org" as="br" join="left outer" dname="45567-f031">
          <call function="=">
            <column table="r" column="kod_brig" />
            <column table="br" column="kodp" />
          </call>
          <link name="kod_parent" as="kod_parent" table="kr_org" child="kr_org" field="kod_parent" parent="kr_org" back="kr_org">
            <link name="kod_parent" as="rer" table="kr_org" child="kr_org" field="kod_parent" parent="kr_org" back="kr_org" />
          </link>
        </query>
        <query name="kr_org" as="ar" join="left outer" dname="45567-f031">
          <call function="=">
            <column table="r" column="kod_area" />
            <column table="ar" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="is not null">
            <column table="r" column="kod_area" />
          </call>
          <call function="is not null">
            <column table="r" column="kod_brig" />
          </call>
          <call function="=">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="between">
            <call function="trunc">
              <column table="r" column="dat_repair_end" />
            </call>
            <call name="p_d1" function="ym begin time">
              <useparam name="p_d1" />
            </call>
            <call name="p_d1" function="ym end day">
              <useparam name="p_d1" />
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="brig">
          <group>
            <column table="r" column="kod_brig" />
          </group>
          <grset as="list_name">
            <group>
              <column table="r" column="kod_area" />
            </group>
            <grset as="rows">
              <group>
                <column table="a" column="id_failure" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-f035_all" timestamp="14.06.2019 14:11:45" title="Распределение по месяцам" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="number">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_d1" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <column table="a" column="*" as="*" key="0" />
        <column table="b" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="45567-f035_sm" as="a" title="Распределение по месяцам">
          <withparams>
            <useparam name="rer" />
            <useparam name="p_d1" />
          </withparams>
        </query>
        <query name="45567-f035_kz" as="b" join="cross" title="Распределение по месяцам">
          <withparams>
            <useparam name="rer" />
            <useparam name="p_d1" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="45567-r21-main-data" timestamp="04.12.2020 14:48:48" title="Основная таблица" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <call function="case" type="string" as="kod_orderby" key="0">
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>2</const>
                  <const>3</const>
                  <const>4</const>
                  <const>5</const>
                  <const>6</const>
                  <const>7</const>
                  <const>-10</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <call function="nvl">
                  <column table="a" column="rer_brig" />
                  <column table="a" column="rer" />
                </call>
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">1</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>2</const>
                  <const>3</const>
                  <const>4</const>
                  <const>5</const>
                  <const>6</const>
                  <const>7</const>
                  <const>-10</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="not in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">2</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>3</const>
                  <const>6</const>
                  <const>7</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">3</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>2</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">4</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>4</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">5</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">6</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="like2">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">7</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">8</const>
          </call>
          <call function="else">
            <const type="number">0</const>
          </call>
        </call>
        <call function="case" type="string" as="name_gr" key="0">
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>2</const>
                  <const>3</const>
                  <const>4</const>
                  <const>5</const>
                  <const>6</const>
                  <const>7</const>
                  <const>-10</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <call function="nvl">
                  <column table="a" column="rer_brig" />
                  <column table="a" column="rer" />
                </call>
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column type="number" table="a" column="rer_name">1</column>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>2</const>
                  <const>3</const>
                  <const>4</const>
                  <const>5</const>
                  <const>6</const>
                  <const>7</const>
                  <const>-10</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="not in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column type="number" table="a" column="rer_brig_name">1</column>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>3</const>
                  <const>6</const>
                  <const>7</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>2</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <call function="array">
                  <const>4</const>
                </call>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <call type="number" function="||">
              <const type="string">'Работы бригад '</const>
              <column table="a" column="rer_brig_name" />
              <const type="string">' в других подразделениях'</const>6</call>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="like2">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="string">'Замена КЗ'</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="string">'Устранение дефектов'</const>
          </call>
          <call function="else">
            <const type="string">'Нет'</const>
          </call>
        </call>
        <column table="a" column="rer_name" as="rer_name" key="0" />
        <column table="a" column="num_failure" as="num_failure" key="0" />
        <column table="a" column="dat_repair_end" as="dat_repair_end" key="0" />
        <column table="a" column="line_name" as="line_name" key="0" />
        <column table="a" column="num_kalk" as="num_kalk" key="0" />
        <column table="a" column="num_book" as="num_book" key="0" />
        <column table="a" column="bal_name" as="bal_name" key="0" />
        <column table="a" column="life_time" as="life_time" key="0" />
        <column table="a" column="ins_dist" as="ins_dist" key="0" />
        <column table="a" column="deep" as="deep" key="0" />
        <column table="a" column="work_num_shifr" as="work_num_shifr" key="0" />
        <column table="a" column="work_count" as="work_count" key="0" />
        <column table="a" column="type_repair" as="type_repair" key="0" />
        <column table="a" column="id_failure" as="id_failure" key="0" />
        <column table="a" column="kod_type_repair" as="kod_type_repair" key="0" />
        <column table="a" column="rer_brig" as="rer_brig" key="0" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null">
            <column table="a" column="adr_mp" />
          </call>
          <call function="=">
            <column table="a" column="sign_2" />
            <const>1</const>
          </call>
          <call function="is not null">
            <column table="a" column="bal_name" />
          </call>
          <call function="or">
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="and">
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
          </call>
          <call function="between">
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r21-title" timestamp="11.06.2020 17:40:45" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <column table="a" column="sname" group="stragg_dist" as="rer_name" key="0" />
        <call function="()" as="ym" type="string" key="0">
          <useparam name="p_ym" />
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="in" optional="1">
            <column table="a" column="kodp" />
            <useparam name="rer" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r21-main" timestamp="04.12.2020 14:49:35" title="Основная таблица" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_orderby" as="kod_orderby" key="0" />
        <column table="a" column="name_gr" as="name_gr" key="0" />
        <column table="a" column="rer_name" group="max" as="rer_name" key="0" />
        <column table="a" column="num_failure" group="max" as="num_failure" key="0" />
        <column table="a" column="dat_repair_end" as="dat_repair_end" key="0" />
        <column table="a" column="line_name" group="max" as="line_name" key="0" />
        <column table="a" column="num_kalk" group="max" as="num_kalk" key="0" />
        <column table="a" column="num_book" group="max" as="num_book" key="0" />
        <column table="a" column="bal_name" group="max" as="bal_name" key="0" />
        <column table="a" column="life_time" group="max" as="life_time" key="0" />
        <column table="a" column="ins_dist" group="max" as="ins_dist" key="0" />
        <column table="a" column="deep" group="max" as="deep" key="0" />
        <column table="a" column="work_num_shifr" group="max" as="work_num_shifr" key="0" />
        <column table="a" column="work_count" group="max" as="work_count" key="0" />
        <column table="a" column="type_repair" group="max" as="type_repair" key="0" />
        <column table="a" column="id_failure" as="id_failure" key="0" />
        <column table="a" column="kod_type_repair" group="max" as="kod_type_repair" key="0" />
        <column table="a" column="rer_brig" group="max" as="rer_brig" key="0" />
      </select>
      <from>
        <query name="45567-r21-main-data" as="a" title="Основная таблица">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="name_gr" order="kod_orderby">
          <group>
            <column table="this" column="name_gr" />
            <column table="this" column="kod_orderby" />
          </group>
          <grset as="repair" order="dat_repair_end">
            <group>
              <column table="this" column="id_failure" />
              <column table="this" column="dat_repair_end" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-f3-title" timestamp="04.12.2020 15:12:41" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <column table="a" column="sname" group="stragg_dist" as="rer_name" key="0" />
        <call function="()" as="ym" type="string" key="0">
          <useparam name="p_ym" />
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="in" optional="1">
            <column table="a" column="kodp" />
            <useparam name="rer" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-svod-date" timestamp="22.10.2021 16:13:16" mode="default" title="Сводка на дату" can-use-simple-params="1" order="rer_name,num_failure" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" haskeys="1">
      <params>
        <param name="date_svod" type="date" />
      </params>
      <select>
        <call function="rownum" as="num_row" key="1" />
        <column table="a" column="id_failure" as="id_failure" />
        <column table="a" column="rer" as="rer" />
        <column table="a" column="date_svod" as="date_svod" />
        <column table="a" column="okr_name" title="УКС" as="okr_name" />
        <column table="a" column="rer_name" title="Район" as="rer_name" />
        <column table="a" column="num_failure" title="№ повреждения" format="N0" as="num_failure" />
        <column table="a" column="num_failure_parent" title="№ родительского повреждения" format="N0" as="num_failure_parent" />
        <column table="a" column="num_failure_iteration" title="№ итерации" format="N0" as="num_failure_iteration" />
        <column table="a" column="id_group" title="Индекс группы" format="N0" as="id_group" />
        <column table="a" column="dat_repair" title="Дата повреждения" as="dat_repair" />
        <column table="a" column="sign_2" title="Подпись Ф002" format="N0" as="sign_2" />
        <column table="a" column="line_name" title="Диспетчерское наименование" as="line_name" />
        <column table="a" column="typeline" title="Элемент сети" as="typeline" />
        <column table="a" column="bal_name" title="Балансовая принадлежность" as="bal_name" />
        <column table="a" column="gar_name" title="Гарантия Договор" as="gar_name" />
        <column table="a" column="type_repair" title="Вид ремонта" as="type_repair" />
        <column table="a" column="equip_elem" title="Элемент повреждения" as="equip_elem" />
        <column table="a" column="dat_omp" title="Дата ОМП" as="dat_omp" />
        <column table="a" column="dat_repair_start" title="Дата начала ремонта (раскопки)" as="dat_repair_start" />
        <column table="a" column="dat_repair_end" title="Дата конца ремонта" as="dat_repair_end" />
        <column table="a" column="dat_test" title="Дата испытания" as="dat_test" />
        <column table="a" column="dat_work_on" title="Дата вкл. В работу" as="dat_work_on" />
        <column table="a" column="inscomp" title="Компьютер ввода" as="inscomp" />
        <column table="a" column="insautor" title="Пользователь добавивший" as="insautor" />
        <column table="a" column="pr_blag" title="Благоустройство" format="N0" as="pr_blag" />
        <column table="a" column="pr_start_repair" title="КЛ в ремонте" format="N0" as="pr_start_repair" />
        <column table="a" column="days_without_repair" title="Количество дней без ремонта" format="N0" as="days_without_repair" />
        <column table="a" column="days_without_on" title="Количество дней без включения" format="N0" as="days_without_on" />
        <column table="a" column="pr_proboi" title="Пробой" format="N0" as="pr_proboi" />
      </select>
      <from>
        <query name="vv_repository_summary" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="date_svod" />
            <useparam name="date_svod" />
          </call>
        </call>
      </where>
      <order>
        <column column="rer_name" />
        <column column="num_failure" />
      </order>
    </query>
    <query name="45567-svod-date_rer" timestamp="06.10.2021 12:57:52" mode="default" title="Сводка на дату по РЭР" can-use-simple-params="1" order="rer_name,num_failure" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" haskeys="1">
      <params>
        <param name="date_svod" type="date" />
      </params>
      <select>
        <call function="rownum" as="num_row" key="1" />
        <column table="a" column="rer" as="rer" />
        <column table="a" column="id_failure" group="2" as="id_failure" />
        <column table="a" column="date_svod" as="date_svod" />
        <column table="a" column="okr_name" title="УКС" group="max" as="okr_name" />
        <column table="a" column="rer_name" title="Район" group="1" as="rer_name" />
        <column table="a" column="num_failure" title="№ повреждения" format="N0" group="max" as="num_failure" />
        <column table="a" column="num_failure_parent" title="№ родительского повреждения" format="N0" group="max" as="num_failure_parent" />
        <column table="a" column="num_failure_iteration" title="№ итерации" format="N0" group="max" as="num_failure_iteration" />
        <column table="a" column="id_group" title="Индекс группы" format="N0" group="max" as="id_group" />
        <column table="a" column="dat_repair" title="Дата повреждения" group="max" as="dat_repair" />
        <column table="a" column="sign_2" title="Подпись Ф002" format="N0" group="max" as="sign_2" />
        <column table="a" column="line_name" title="Диспетчерское наименование" group="max" as="line_name" />
        <column table="a" column="typeline" title="Элемент сети" group="max" as="typeline" />
        <column table="a" column="bal_name" title="Балансовая принадлежность" group="max" as="bal_name" />
        <column table="a" column="gar_name" title="Гарантия Договор" group="max" as="gar_name" />
        <column table="a" column="type_repair" title="Вид ремонта" group="max" as="type_repair" />
        <column table="a" column="equip_elem" title="Элемент повреждения" group="max" as="equip_elem" />
        <column table="a" column="dat_omp" title="Дата ОМП" group="max" as="dat_omp" />
        <column table="a" column="dat_repair_start" title="Дата начала ремонта (раскопки)" group="max" as="dat_repair_start" />
        <column table="a" column="dat_repair_end" title="Дата конца ремонта" group="max" as="dat_repair_end" />
        <column table="a" column="dat_test" title="Дата испытания" group="max" as="dat_test" />
        <column table="a" column="dat_work_on" title="Дата вкл. В работу" group="max" as="dat_work_on" />
        <column table="a" column="inscomp" title="Компьютер ввода" group="max" as="inscomp" />
        <column table="a" column="insautor" title="Пользователь добавивший" group="max" as="insautor" />
        <column table="a" column="pr_blag" title="Благоустройство" format="N0" group="max" as="pr_blag" />
        <column table="a" column="pr_start_repair" title="КЛ в ремонте" format="N0" group="max" as="pr_start_repair" />
        <column table="a" column="remark" title="Примечание" group="max" as="remark" />
        <column table="a" column="days_without_repair" title="Количество дней без ремонта" format="N0" group="max" as="days_without_repair" />
        <column table="a" column="days_without_on" title="Количество дней без включения" format="N0" group="max" as="days_without_on" />
        <column table="a" column="pr_proboi" title="Пробой" format="N0" group="max" as="pr_proboi" />
      </select>
      <from>
        <query name="vv_repository_summary" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="date_svod" />
            <useparam name="date_svod" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="rer">
          <group>
            <column table="a" column="rer_name" />
          </group>
          <grset as="dat" order="dat_repair,num_failure">
            <group>
              <column table="this" column="id_failure" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="rer_name" />
        <column column="num_failure" />
      </order>
    </query>
    <query name="45567-f007" timestamp="30.11.2018 17:39:01" is-report="1" title="Ф.007 Распределение поврежденного оборудования по РЭР" nogrid="1" mode="excel" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param name="p_ym" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="год.месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="45567-F007.xlsx" title="Распределение поврежденного оборудования по РЭР" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="ym" />
      </content>
      <select>
        <column table="a" column="name" as="name1" key="0" />
        <call function="()" as="val" type="number" group="sum" title="Год" key="0">
          <const as="val" type="number">1</const>
        </call>
        <call function="if" as="val_ym" group="sum" title="Месяц" key="0">
          <call function="ge">
            <column table="id_failure" column="dat_repair" />
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
          </call>
          <column table="this" column="val" group="" />
        </call>
        <call function="if" as="val_ym_1" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1028</const>
          </call>
          <column table="this" column="val_ym" group="" />
        </call>
        <call function="if" as="val_ym_2" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1029</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_3" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1030</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_6" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1031</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_10" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1033</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_12" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1034</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_21" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1035</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_5" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1036</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_9" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1037</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_13" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1038</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_14" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1039</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_18" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1040</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_23" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1041</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_7" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1042</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_15" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1043</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_4" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1044</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_16" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1045</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_24" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1046</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_11" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1047</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_22" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1048</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_17" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1049</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_20" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1050</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_25" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1051</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_8" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1052</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_19" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1053</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_ym_0" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1054</const>
          </call>
          <column table="this" group="" column="val_ym" />
        </call>
        <call function="if" as="val_y_1" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1028</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_2" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1029</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_3" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1030</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_6" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1031</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_10" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1033</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_12" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1034</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_21" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1035</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_5" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1036</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_9" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1037</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_13" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1038</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_14" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1039</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_18" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1040</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_23" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1041</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_7" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1042</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_15" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1043</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_4" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1044</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_16" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1045</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_24" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1046</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_11" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1047</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_22" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1048</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_17" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1049</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_20" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1050</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_25" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1051</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_8" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1052</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_19" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1053</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
        <call function="if" as="val_y_0" group="sum" key="0">
          <call function="=">
            <column table="id_failure" column="rer" />
            <const>1054</const>
          </call>
          <column table="this" group="" column="val" />
        </call>
      </select>
      <from>
        <query name="hk_otg_equip_elem" as="a">
          <link name="kod_equip_elem" as="kod_equip_elem" table="hr_otg_repair" child="hk_otg_equip_elem" field="kod_equip_elem" parent="hr_otg_repair" back="hk_otg_equip_elem">
            <link name="id_failure" as="id_failure" table="hr_otg_failure" child="hr_otg_repair" field="id_failure" parent="hr_otg_failure" back="hr_otg_repair">
              <link name="rer" as="rer" table="hv_otg_rpdistrict" child="hr_otg_failure" field="rer" parent="hv_otg_rpdistrict" back="hr_otg_failure" />
            </link>
          </link>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="id_failure" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null">
            <column table="rer" column="kodp" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="id_failure" column="dat_repair" />
                <column table="id_failure" column="data_dop" />
              </call>
            </call>
            <call function="year begin time">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
            </call>
            <call function="ym end time">
              <useparam name="p_ym" />
            </call>
          </call>
          <call function="not in">
            <column table="a" column="type" />
            <call function="array">
              <const>0</const>
              <const>1</const>
              <const>2</const>
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="row">
            <group>
              <column table="this" column="name1" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="hk_otg_equip_elem_param" class="1" timestamp="22.10.2018 14:53:53" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml" haskeys="1">
      <params>
        <param name="type" type="array" />
        <param name="dt_test" type="date" />
      </params>
      <select>
        <column table="a" column="kod_equip_elem" type="number" column-mandatory="1" as="kod_equip_elem" key="1" fixed="1" />
        <column table="a" column="name" type="string" title="Наименование" as="name" key="0" />
        <column table="a" column="type" type="number" title="" as="type" key="0" />
      </select>
      <from>
        <query name="hk_otg_equip_elem" as="a" />
      </from>
      <where>
        <call function="=">
          <column table="a" column="type" />
          <useparam name="type" />
        </call>
      </where>
    </query>
    <query name="hk_otg_equip_elem_types" class="1" timestamp="22.10.2018 14:52:05" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml" haskeys="1">
      <select>
        <column table="a" column="type" type="number" group="1" as="type" key="1" fixed="1" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hk_otg_equip_elem" as="a" />
      </from>
    </query>
    <query name="hr_otg_repair_param" class="1" timestamp="22.10.2018 15:27:39" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml" haskeys="1">
      <params>
        <param name="type" type="array" />
        <param name="dt_test" type="date" />
      </params>
      <select>
        <column table="a" column="id_repair" type="number" column-mandatory="1" title="" comment="ID Элемент оборудования" as="id_repair" key="1" fixed="1" />
        <column table="a" column="kod_equip_elem" type="number" column-mandatory="1" comment="Элемент оборудования" as="kod_equip_elem" key="0" />
        <column table="a" column="id_failure" type="number" title="" comment="Номер повреждения" as="id_failure" key="0" />
        <column table="a" column="life_time" type="number" title="" comment="Срок службы" as="life_time" key="0" />
        <column table="a" column="kod_dam_node" type="number" column-mandatory="1" comment="Поврежденный узел" as="kod_dam_node" key="0" />
        <column table="a" column="kod_zavod" type="number" column-mandatory="1" comment="Завод изготовитель" as="kod_zavod" key="0" />
        <column table="a" column="kod_mark_elem" type="number" column-mandatory="1" comment="Марка оборудования" as="kod_mark_elem" key="0" />
        <column table="a" column="volt_prob" type="number" title="" comment="Кратность напряжения пробоя" as="volt_prob" key="0" />
        <column table="a" column="dat_test_last" type="number" title="" comment="Срок от последнего испытания" as="dat_test_last" key="0" />
        <column table="a" column="kod_kat_potreb" type="number" column-mandatory="1" comment="Категория потребителя" as="kod_kat_potreb" key="0" />
        <column table="a" column="kod_executor_repair" type="number" column-mandatory="1" comment="Исполнитель ремонта" as="kod_executor_repair" key="0" />
        <column table="a" column="kod_executor" type="number" column-mandatory="1" comment="Исполнитель ОМП" as="kod_executor" key="0" />
        <column table="a" column="kod_metod" type="number" column-mandatory="1" comment="Метод ОМП" as="kod_metod" key="0" />
        <column table="a" column="deep" type="number" title="" comment="Глубина раскопки" as="deep" key="0" />
        <column table="a" column="num_kalk" type="string" title="" comment="N кальки" as="num_kalk" key="0" />
        <column table="a" column="num_book" type="string" title="" comment="N эскизной книжки" as="num_book" key="0" />
        <column table="a" column="id_centp" type="string" title="" comment="№ центра питания" as="id_centp" key="0" />
        <column table="a" column="kod_type_layr" type="number" column-mandatory="1" comment="Тип прокладки в МП" as="kod_type_layr" key="0" />
        <column table="a" column="kod_section" type="number" column-mandatory="1" comment="Сечение" as="kod_section" key="0" />
        <column table="a" column="dat_repair_end" type="date" title="" comment="Дата конца ремонта" as="dat_repair_end" key="0" />
        <column table="a" column="dat_repair_start" type="date" title="" comment="Дата раскопки(Начала ремонта)" as="dat_repair_start" key="0" />
        <column table="a" column="dat_work_on" type="date" title="" comment="Дата включения в работу" as="dat_work_on" key="0" />
        <column table="a" column="dist_failure" type="number" title="" comment="Расст. до поврежд. От РП(ТП)м." as="dist_failure" key="0" />
        <column table="a" column="dat_test" type="date" title="" comment="Дата испыытания" as="dat_test" key="0" />
        <column table="a" column="work_count" type="number" title="" comment="Трудозатраты" as="work_count" key="0" />
        <column table="a" column="work_num_shifr" type="string" title="" comment="N шифра" as="work_num_shifr" key="0" />
        <column table="a" column="dat_omp" type="date" title="" comment="Дата ОМП" as="dat_omp" key="0" />
        <column table="a" column="sm_marka" type="number" column-mandatory="1" title="" comment="СМ марка" as="sm_marka" key="0" />
        <column table="a" column="adr_mp" type="string" title="" comment="Адрес МП" as="adr_mp" key="0" />
        <column table="a" column="sm_count" type="number" title="" comment="СМ колличество" as="sm_count" key="0" />
        <column table="a" column="num_omp_rec" type="string" title="" comment="№Протокола ОМП" as="num_omp_rec" key="0" />
        <column table="a" column="kz_marka" type="number" column-mandatory="1" title="" comment="КЗ марка" as="kz_marka" key="0" />
        <column table="a" column="kz_count" type="number" title="" comment="КЗ колличество" as="kz_count" key="0" />
        <column table="a" column="sign_2" type="number" column-mandatory="1" title="" comment="Подпись 2" as="sign_2" key="0" />
        <column table="a" column="kod_cause_failure" type="number" column-mandatory="1" comment="Причина повреждения" as="kod_cause_failure" key="0" />
        <column table="a" column="ins_marka" type="number" column-mandatory="1" title="" comment="Вставка марка" as="ins_marka" key="0" />
        <column table="a" column="ins_count" type="number" title="" comment="Вставка колличество" as="ins_count" key="0" />
        <column table="a" column="ins_section" type="number" column-mandatory="1" title="" comment="Вставка: сечение" as="ins_section" key="0" />
        <column table="a" column="ins_dist" type="number" title="" comment="Вставка: длина" as="ins_dist" key="0" />
        <column table="a" column="tr_zav_num" type="string" title="" comment="Заводской номер трансформатора" as="tr_zav_num" key="0" />
        <column table="a" column="num_area" type="string" title="" comment="Номер участка" as="num_area" key="0" />
        <column table="a" column="remark" type="string" title="" comment="Примечание" as="remark" key="0" />
        <column table="a" column="sm_marka_dem" type="number" column-mandatory="1" title="" comment="СМ марка демонтированного" as="sm_marka_dem" key="0" />
        <column table="a" column="sm_count_dem" type="number" title="" comment="Колличество СМ демонтированно" as="sm_count_dem" key="0" />
        <column table="a" column="kz_marka_dem" type="number" column-mandatory="1" title="" comment="КЗ марка демонтированного" as="kz_marka_dem" key="0" />
        <column table="a" column="kz_count_dem" type="number" title="" comment="Колличество КЗ демонтированно" as="kz_count_dem" key="0" />
        <column table="a" column="coord_mp" type="string" title="" comment="Координаты МП" as="coord_mp" key="0" />
        <column table="a" column="kod_kat_repair" type="number" column-mandatory="1" comment="Категория ремонта" as="kod_kat_repair" key="0" />
        <column table="a" column="otevets_for_use" type="string" title="" comment="Ответственный за эксплуатацию" as="otevets_for_use" key="0" />
        <column table="a" column="kod_adr_mp" type="number" comment="Код адреса МП из ФИАС" as="kod_adr_mp" key="0" />
        <column table="a" column="sign_2_data" type="date" title="" comment="Дата подписи" as="sign_2_data" key="0" />
        <column table="a" column="sign_2_author" type="string" title="" comment="Автор подписи" as="sign_2_author" key="0" />
        <column table="a" column="sm2_marka" type="number" column-mandatory="1" title="" comment="СМ марка 2" as="sm2_marka" key="0" />
        <column table="a" column="sm2_count" type="number" title="" comment="СМ колличество 2" as="sm2_count" key="0" />
        <column table="a" column="sm2_marka_dem" type="number" column-mandatory="1" title="" comment="СМ марка демонтированного 2" as="sm2_marka_dem" key="0" />
        <column table="a" column="sm2_count_dem" type="number" title="" comment="Колличество СМ демонтированно 2" as="sm2_count_dem" key="0" />
      </select>
      <from>
        <query name="hr_otg_repair" as="a" />
      </from>
      <where>
        <call function="ge">
          <column table="a" column="dat_test" />
          <useparam name="dt_test" />
        </call>
      </where>
    </query>
    <query name="test_use_globpar" timestamp="19.09.2018 15:06:04" is-report="1" title="тттт" visible="0" file="sql.builder.templates\sql.builder\projects\proj45567\other\params.xml">
      <select>
        <call function="()" type="number" as="ttt" title="тттт" key="0">
          <useglobparam name="test_par1" />
        </call>
      </select>
      <from>
        <query name="dual" as="dual" />
      </from>
      <params />
    </query>
    <query name="spr_time_ym_1" class="1" order="ym desc" timestamp="19.12.2018 18:44:14" comment="Список переодов от текушего и меньше" file="sql.builder.templates\sql.builder\projects\proj45567\other\params.xml" haskeys="1">
      <select>
        <column table="a" column="ym" key="1" as="ym" />
        <column table="a" column="name" vid="1" is-name="1" as="name" />
        <column table="a" column="ym2" as="ym2" />
        <column table="a" column="year" as="year" />
        <call function="||" as="name_str">
          <call function="mes-name">
            <call function="mes">
              <column table="this" column="ym" />
            </call>
          </call>
          <const>' '</const>
          <column table="this" column="year" />
        </call>
        <call function="mes" as="mon">
          <column table="this" column="ym" />
        </call>
      </select>
      <from>
        <query name="spr_time_ym_pre" as="a" />
      </from>
      <where>
        <call function="le">
          <column table="a" column="name" />
          <call as="val" function="date to ym">
            <call function="sysdate" />
          </call>
        </call>
      </where>
      <order>
        <column column="ym" />
      </order>
    </query>
    <query name="spr_date_svod" class="1" timestamp="29.09.2021 21:50:51" comment="Список дат за которые сформирована сводка" order="val desc" file="sql.builder.templates\sql.builder\projects\proj45567\other\params.xml" haskeys="1">
      <select>
        <column table="a" column="date_svod" key="1" group="1" as="date_svod" />
        <column table="a" column="date_svod" vid="1" is-name="1" as="val" group="max" />
      </select>
      <from>
        <query name="vv_repository_summary" as="a" />
      </from>
      <order>
        <column column="val" />
      </order>
    </query>
    <query name="spr_date_svod_cur" class="1" timestamp="29.09.2021 21:52:26" comment="Список дат за которые сформирована сводка" order="val desc" file="sql.builder.templates\sql.builder\projects\proj45567\other\params.xml" haskeys="1">
      <select>
        <column table="a" column="date_svod" key="1" group="max" as="date_svod" />
        <column table="a" column="date_svod" vid="1" is-name="1" as="val" group="max" />
      </select>
      <from>
        <query name="vv_repository_summary" as="a" />
      </from>
      <order>
        <column column="val" />
      </order>
    </query>
    <query name="45567-r24" is-report="1" timestamp="30.11.2018 17:43:38" title="Справка о повреждениях и ремонтах КЛ за период" mode="excel" nogrid="1" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\zaputryaev.xml" haskeys="1">
      <params>
        <param name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="array" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml" default="rer" mandatory="rer" column-mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_d1" title="Дата начала периода" mandatory="1" />
        <param controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_d2" title="Дата окончания периода" mandatory="1" />
      </params>
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield name="p_d1" title="Дата начала периода" type="date" field="cmn_date" mandatory="1">
          <defaultquery>
            <query name="start_of_year" />
          </defaultquery>
        </usefield>
        <usefield name="p_d2" title="Дата окончания периода" type="date" field="cmn_date" mandatory="1">
          <defaultquery>
            <query name="start_of_year" />
          </defaultquery>
        </usefield>
      </content>
      <print-templates>
        <excel>
          <template name="45567-r241.xlsx" title="Справка о повреждениях и ремонтах КЛ за период" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_r024(:p_d1,:p_d2, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <select>
        <column table="a" column="name_okr" as="name_okr" key="1" fixed="1" />
        <column table="a" column="pkl_f_s" as="pkl_f_s" key="0" />
        <column table="a" column="rkl_f_s" as="rkl_f_s" key="0" />
        <column table="a" column="nn_f_s" as="nn_f_s" key="0" />
        <column table="a" column="pkl_f_s_p" as="pkl_f_s_p" key="0" />
        <column table="a" column="rkl_f_s_p" as="rkl_f_s_p" key="0" />
        <column table="a" column="nn_f_s_p" as="nn_f_s_p" key="0" />
        <column table="a" column="pkl_r_s_p" as="pkl_r_s_p" key="0" />
        <column table="a" column="rkl_r_s_p" as="rkl_r_s_p" key="0" />
        <column table="a" column="nn_r_s_p" as="nn_r_s_p" key="0" />
        <column table="a" column="pkl_f_p" as="pkl_f_p" key="0" />
        <column table="a" column="rkl_f_p" as="rkl_f_p" key="0" />
        <column table="a" column="nn_f_p" as="nn_f_p" key="0" />
      </select>
      <from>
        <query name="hv_otg_rep_r024" as="a" />
      </from>
    </query>
    <query name="hv_otg_rep_r016" class="1" timestamp="05.07.2018 17:09:04" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\belchenko_45567_r16.xml" haskeys="1">
      <select>
        <column table="a" column="kod_cause_failure" type="number" column-mandatory="1" key="1" as="kod_cause_failure" />
        <column table="a" column="name" type="string" title="Наименование" as="name" />
        <column table="a" column="type" type="number" title="" as="type" />
        <column table="a" column="v_0" type="number" title="" as="v_0" />
        <column table="a" column="v_22" type="number" title="" as="v_22" />
        <column table="a" column="v_21" type="number" title="" as="v_21" />
        <column table="a" column="type_name" type="string" title="" as="type_name" />
        <column table="a" column="v_19" type="number" title="" as="v_19" />
        <column table="a" column="v_18" type="number" title="" as="v_18" />
        <column table="a" column="v_16" type="number" title="" as="v_16" />
        <column table="a" column="v_15" type="number" title="" as="v_15" />
        <column table="a" column="v_14" type="number" title="" as="v_14" />
        <column table="a" column="v_13" type="number" title="" as="v_13" />
        <column table="a" column="v_12" type="number" title="" as="v_12" />
        <column table="a" column="v_11" type="number" title="" as="v_11" />
        <column table="a" column="v_10" type="number" title="" as="v_10" />
        <column table="a" column="v_9" type="number" title="" as="v_9" />
        <column table="a" column="v_8" type="number" title="" as="v_8" />
        <column table="a" column="v_7" type="number" title="" as="v_7" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="hv_otg_rep_r016" as="a" />
      </from>
    </query>
    <query name="hk_otg_equip_elem" class="1" timestamp="15.05.2018 16:22:11" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hk_otg_equip_elem.xml" haskeys="1">
      <select>
        <column table="a" column="kod_equip_elem" type="number" column-mandatory="1" as="kod_equip_elem" key="1" fixed="1" />
        <column table="a" column="name" type="string" title="Наименование" as="name" key="0" />
        <column table="a" column="type" type="number" title="" as="type" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hk_otg_equip_elem" as="a" />
        <query name="hr_otg_repair" as="kod_equip_elem" join="left outer" dname="hk_otg_equip_elem">
          <call function="=">
            <column table="a" column="kod_equip_elem" />
            <column table="kod_equip_elem" column="kod_equip_elem" />
          </call>
        </query>
      </from>
    </query>
    <query name="hk_otg_executor_repair" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hk_otg_executor_repair.xml" haskeys="1">
      <select>
        <column table="a" column="kod_executor_repair" type="number" column-mandatory="1" as="kod_executor_repair" key="1" fixed="1" />
        <column table="a" column="name" type="string" data-size="50" title="Наименование" as="name" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hk_otg_executor_repair" as="a" />
      </from>
    </query>
    <query name="hk_otg_groupings" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hk_otg_groupings.xml" haskeys="1">
      <select>
        <column table="a" column="kod_grouping" type="number" column-mandatory="1" comment="Код груперовки" as="kod_grouping" key="1" fixed="1" />
        <column table="a" column="description" type="string" data-size="130" column-mandatory="1" title="" comment="Описание группировки" as="description" key="0" />
        <column table="a" column="parent_key" type="number" title="" comment="Код родительской записи" as="parent_key" key="0" />
        <column table="a" column="kod_slovar" type="number" comment="Код справочника из QK_SLOVAR" as="kod_slovar" key="0" />
        <column table="a" column="value_slovar" type="number" title="" comment="Значение из справочника" as="value_slovar" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hk_otg_groupings" as="a" />
        <query name="hk_otg_groupings" as="kod_grouping" join="left outer" dname="hk_otg_groupings">
          <call function="=">
            <column table="a" column="kod_grouping" />
            <column table="kod_grouping" column="kod_grouping" />
          </call>
        </query>
      </from>
    </query>
    <query name="hk_otg_typeline" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hk_otg_typeline.xml" haskeys="1">
      <select>
        <column table="a" column="kod_typeline" type="number" column-mandatory="1" as="kod_typeline" key="1" fixed="1" />
        <column table="a" column="name" type="string" title="Наименование" as="name" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hk_otg_typeline" as="a" />
      </from>
    </query>
    <query name="hk_otg_use_line" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hk_otg_use_line.xml" haskeys="1">
      <select>
        <column table="a" column="kod_use_line" type="number" column-mandatory="1" as="kod_use_line" key="1" fixed="1" />
        <column table="a" column="name" type="string" title="Наименование" as="name" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hk_otg_use_line" as="a" />
      </from>
    </query>
    <query name="hr_otg_failure" class="1" timestamp="05.09.2019 21:00:54" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hr_otg_failure.xml" haskeys="1">
      <select>
        <column table="a" column="id_failure" type="number" column-mandatory="1" title="" comment="Номер повреждения" as="id_failure" key="1" fixed="1" />
        <call as="count_cra" function="if" type="number" key="0">
          <call function="and">
            <call function="is not null">
              <column column="dat_repair_end" table="hr_otg_repair" />
            </call>
          </call>
          <call function="and">
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(1,2)</const>
            </call>
          </call>
          <call function="and">
            <call function="in">
              <column column="kod_kind_failure" table="a" />
              <const>(1,2)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <column table="a" column="id_parent_failure" type="number" title="" comment="Номер группового повреждения" as="id_parent_failure" reference="hr_otg_failure" refcol="id_failure" key="0" />
        <column table="a" column="num_failure" type="number" column-mandatory="1" title="" comment="Номер повреждения(фиктивный)" as="num_failure" key="0" />
        <column table="a" column="id_group" type="number" title="" comment="Индекс группового повреждения" as="id_group" key="0" />
        <column table="a" column="kod_bal" type="number" column-mandatory="1" comment="Балансовая принадлежность" as="kod_bal" reference="hk_otg_bal" refcol="kod_bal" key="0" />
        <column table="a" column="dat_repair" type="date" title="" comment="Дата и время повреждения" as="dat_repair" key="0" />
        <column table="a" column="kod_klass_group" type="number" column-mandatory="1" comment="Классификационная группа" as="kod_klass_group" reference="hk_otg_klass_group" refcol="kod_klass_group" key="0" />
        <column table="a" column="line_name" type="string" title="" comment="Наименование КЛ, оборудования" data-size="260" as="line_name" key="0" />
        <column table="a" column="kod_v" type="number" comment="Первичный ключ" as="kod_v" reference="hk_v" refcol="kod_v" key="0" />
        <column table="a" column="kod_nedop" type="number" column-mandatory="1" comment="Причина недоотпуска" as="kod_nedop" reference="hk_otg_nedop" refcol="kod_nedop" key="0" />
        <column table="a" column="kod_type_repair" type="number" column-mandatory="1" comment="Вид ремонта" as="kod_type_repair" reference="hk_otg_type_repair" refcol="kod_type_repair" key="0" />
        <column table="a" column="kod_typeline" type="number" column-mandatory="1" comment="Элемент сети" as="kod_typeline" reference="hk_otg_typeline" refcol="kod_typeline" key="0" />
        <column table="a" column="kod_kind_failure" type="number" column-mandatory="1" comment="Вид повреждения" as="kod_kind_failure" reference="hk_otg_kind_failure" refcol="kod_kind_failure" key="0" />
        <column table="a" column="value_nedop" type="number" title="" comment="Величина недоотпуска" as="value_nedop" key="0" />
        <column table="a" column="kod_use_line" type="number" column-mandatory="1" comment="Назначение КЛ" as="kod_use_line" reference="hk_otg_use_line" refcol="kod_use_line" key="0" />
        <column table="a" column="kod_cause_second" type="number" column-mandatory="1" comment="Причина вторых точек" as="kod_cause_second" reference="hk_otg_cause_second" refcol="kod_cause_second" key="0" />
        <column table="a" column="kod_degree_failure" type="number" column-mandatory="1" comment="Степень повреждения" as="kod_degree_failure" reference="hk_otg_degree_failure" refcol="kod_degree_failure" key="0" />
        <column table="a" column="kod_type_detect" type="number" column-mandatory="1" comment="Способ выявления" as="kod_type_detect" reference="hk_otg_type_detect" refcol="kod_type_detect" key="0" />
        <column table="a" column="remark" type="string" title="" comment="Примечание" data-size="130" as="remark" key="0" />
        <column table="a" column="sign_1" type="number" column-mandatory="1" title="" comment="Печать 1" as="sign_1" key="0" />
        <column table="a" column="info_area" type="number" title="" comment="Место проведения работ (Информаия о нач. рем.)" as="info_area" key="0" />
        <column table="a" column="info_area_type" type="number" title="" comment="Особенности места проведения работ(Информаия о нач. рем.)" as="info_area_type" key="0" />
        <column table="a" column="info_enrg_status" type="number" title="" comment="Состояние схемы эл. снабжения(Информаия о нач. рем.)" as="info_enrg_status" key="0" />
        <column table="a" column="info_dat_tel_oati" type="date" title="" comment="Дата открытия телефонограммы в ОАТИ(Информаия о нач. рем.)" as="info_dat_tel_oati" key="0" />
        <column table="a" column="info_num_tel_oati" type="string" title="" comment="Номер телефонограммы в ОАТИ(Информаия о нач. рем.)" data-size="130" as="info_num_tel_oati" key="0" />
        <column table="a" column="blag_pr_winter" type="number" column-mandatory="1" title="" comment="Признак зимы (Благоустройство)" as="blag_pr_winter" key="0" />
        <column table="a" column="blag_dat_gar_mess" type="date" title="" comment="Дата гарантийного письма (Благоустройство)" as="blag_dat_gar_mess" key="0" />
        <column table="a" column="blag_dat_start" type="date" title="" comment="Сдача под благоустройство - дата" as="blag_dat_start" key="0" />
        <column table="a" column="blag_num_tel_start" type="string" title="" comment="Сдача под благоустройство - телефонограмма" data-size="200" as="blag_num_tel_start" key="0" />
        <column table="a" column="blag_dat_vost" type="date" title="" comment="Дата востановления" as="blag_dat_vost" key="0" />
        <column table="a" column="blag_dat_bal" type="date" title="" comment="Дата сдачи балансодержателю" as="blag_dat_bal" key="0" />
        <column table="a" column="blag_dat_end_ati" type="date" title="" comment="Дата закрытия в местном АТИ" as="blag_dat_end_ati" key="0" />
        <column table="a" column="blag_dat_end_oati" type="date" title="" comment="Дата закрытия в ОАТИ" as="blag_dat_end_oati" key="0" />
        <column table="a" column="blag_road" type="number" title="" comment="Востановленно - дорога (Благоустройство)" as="blag_road" key="0" />
        <column table="a" column="blag_sidewalk" type="number" title="" comment="Востановленно - тротуар (Благоустройство)" as="blag_sidewalk" key="0" />
        <column table="a" column="blag_grass" type="number" title="" comment="Востановленно - газон(Благоустройство)" as="blag_grass" key="0" />
        <column table="a" column="equip_elem_count" type="number" title="" comment="Колличество поврежденных эллементов" as="equip_elem_count" key="0" />
        <column table="a" column="kod_gar" type="number" column-mandatory="1" comment="Признак гарантии" as="kod_gar" reference="hk_otg_garant" refcol="kod_gar" key="0" />
        <column table="a" column="centr_p" type="string" title="" comment="ID Центра питания (Для электрических групповых повреждений)" data-size="130" as="centr_p" key="0" />
        <column table="a" column="inscomp" type="string" title="" comment="Компьютер с которого добавили запись" data-size="130" as="inscomp" key="0" />
        <column table="a" column="insautor" type="string" title="" comment="Пользователь добавивший запись" data-size="130" as="insautor" key="0" />
        <column table="a" column="pr_blag" type="number" column-mandatory="1" title="" comment="Признак Благоустройства" as="pr_blag" key="0" />
        <column table="a" column="pr_start_repair" type="number" column-mandatory="1" title="" comment="Признак начатого ремонта КЛ" as="pr_start_repair" key="0" />
        <column table="a" column="rer" type="number" column-mandatory="1" title="" comment="ID KODP из таблицы KR_ORG. Ключ ремонтного района" as="rer" key="0" />
        <column table="a" column="info_area_str" type="string" title="" comment="Строка Место проведения работ (Информаия о нач. рем.)" data-size="200" as="info_area_str" key="0" />
        <column table="a" column="info_area_type_str" type="string" title="" comment="Строка Особенности места проведения работ(Информаия о нач. рем.)" data-size="200" as="info_area_type_str" key="0" />
        <column table="a" column="info_enrg_status_str" type="string" title="" comment="Строка Состояние схемы эл. снабжения(Информаия о нач. рем.)" data-size="200" as="info_enrg_status_str" key="0" />
        <column table="a" column="percent_complet" type="number" title="" comment="Процент выполнения ремонта" as="percent_complet" key="0" />
        <column table="a" column="sign_1_data" type="date" title="" comment="Дата подписи" as="sign_1_data" key="0" />
        <column table="a" column="sign_1_author" type="string" title="" comment="Автор подписи" data-size="200" as="sign_1_author" key="0" />
        <column table="a" column="pr_deleted" type="number" column-mandatory="1" title="" comment="Признак удаленного повреждения" as="pr_deleted" key="0" />
        <column table="a" column="kod_assets" type="number" comment="первичный ключ (справочника ОС)" as="kod_assets" reference="hr_assets" refcol="kod_assets" key="0" />
        <column table="a" column="kod_assets_inv" type="string" comment="Инвентарый номер ОС" data-size="300" as="kod_assets_inv" key="0" />
        <column table="a" column="pr_secret" type="number" column-mandatory="1" title="" comment="Признак скрытого повреждения 0 - открытый\1- скрытый" as="pr_secret" key="0" />
        <column table="a" column="kod_old" type="number" comment="Ключь из старой системы" as="kod_old" key="0" />
        <column table="a" column="city_program" type="number" column-mandatory="1" title="" comment="Городские программы" as="city_program" key="0" />
        <column table="a" column="data_dop" type="date" title="" comment="Доп дата повреждения" as="data_dop" key="0" />
        <call function="||-" as="hr_otg_failure_id" type="string" key="0">
          <column table="a" column="id_parent_failure" />
          <column table="a" column="id_parent_failure" />
          <column table="a" column="id_parent_failure" />
        </call>
        <column table="a" column="fio_omp" type="string" data-size="200" title="" comment="Ф.И.О. производителя ОМП" as="fio_omp" key="0" />
        <column table="a" column="fio_work" type="string" data-size="200" title="" comment="Ф.И.О. производителя монтажа" as="fio_work" key="0" />
        <column table="a" column="pr_not_faza" type="number" column-mandatory="1" title="" comment="Не в фазе" as="pr_not_faza" key="0" />
        <call function="decode" as="pr_proboi" key="0">
          <const>(SELECT DISTINCT v.id_parent_failure FROM hr_otg_failure v WHERE     v.id_parent_failure = a.id_failure AND v.kod_type_repair = 2)</const>
          <const>Null</const>
          <const>0</const>
          <call function="decode">
            <const>(SELECT DISTINCT v.kod_type_repair FROM hr_otg_failure v WHERE     v.id_parent_failure = a.id_failure AND v.kod_type_repair = 2)</const>
            <const>2</const>
            <const>1</const>
            <const>0</const>
          </call>
        </call>
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hr_otg_failure" as="a" />
        <query name="hr_otg_failure" as="id_parent_failure" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="id_parent_failure" />
            <column table="id_parent_failure" column="id_failure" />
          </call>
        </query>
        <query name="hr_otg_repair" join="left outer" as="hr_otg_repair" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="id_failure" />
            <column table="hr_otg_repair" column="id_failure" />
          </call>
        </query>
        <query name="hk_v" as="kod_v" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_v" />
            <column table="kod_v" column="kod_v" />
          </call>
        </query>
        <query name="hv_otg_rpdistrict" as="rer" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="rer" />
            <column table="rer" column="kodp" />
          </call>
        </query>
        <query name="hk_otg_typeline" as="kod_typeline" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_typeline" />
            <column table="kod_typeline" column="kod_typeline" />
          </call>
        </query>
        <query name="hk_otg_kind_failure" as="kod_kind_failure" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_kind_failure" />
            <column table="kod_kind_failure" column="kod_kind_failure" />
          </call>
        </query>
        <query name="hk_otg_use_line" as="kod_use_line" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_use_line" />
            <column table="kod_use_line" column="kod_use_line" />
          </call>
        </query>
        <query name="hk_otg_cause_second" as="kod_cause_second" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_cause_second" />
            <column table="kod_cause_second" column="kod_cause_second" />
          </call>
        </query>
        <query name="hk_otg_degree_failure" as="kod_degree_failure" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_degree_failure" />
            <column table="kod_degree_failure" column="kod_degree_failure" />
          </call>
        </query>
        <query name="hk_otg_type_detect" as="kod_type_detect" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_type_detect" />
            <column table="kod_type_detect" column="kod_type_detect" />
          </call>
        </query>
        <query name="hk_otg_garant" as="kod_gar" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_gar" />
            <column table="kod_gar" column="kod_gar" />
          </call>
        </query>
        <query name="hk_otg_bal" as="kod_bal" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_bal" />
            <column table="kod_bal" column="kod_bal" />
          </call>
        </query>
        <query name="hk_otg_klass_group" as="kod_klass_group" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_klass_group" />
            <column table="kod_klass_group" column="kod_klass_group" />
          </call>
        </query>
        <query name="hk_otg_nedop" as="kod_nedop" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_nedop" />
            <column table="kod_nedop" column="kod_nedop" />
          </call>
        </query>
        <query name="hk_otg_type_repair" as="kod_type_repair" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_type_repair" />
            <column table="kod_type_repair" column="kod_type_repair" />
          </call>
        </query>
        <query name="hr_assets" as="kod_assets" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="kod_assets" />
            <column table="kod_assets" column="kod_assets" />
          </call>
        </query>
        <query name="hr_otg_failure" as="hr_otg_failure_id" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="hr_otg_failure_id" />
            <column table="hr_otg_failure_id" column="hr_otg_failure_id" />
          </call>
        </query>
        <query name="kr_org" as="rer" join="left outer" dname="hr_otg_failure">
          <call function="=">
            <column table="a" column="rer" />
            <column table="rer" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="pr_secret" />
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <const>0</const>
              <column table="a" column="pr_secret" />
            </call>
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Признак удаленного">0</const>
          </call>
        </call>
      </where>
      <params />
    </query>
    <query name="hr_otg_repair" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hr_otg_repair.xml" haskeys="1">
      <select>
        <column table="a" column="id_repair" type="number" column-mandatory="1" title="" comment="ID Элемент оборудования" as="id_repair" key="1" fixed="1" />
        <column table="a" column="kod_equip_elem" type="number" column-mandatory="1" comment="Элемент оборудования" as="kod_equip_elem" reference="hk_otg_equip_elem" refcol="kod_equip_elem" key="0" />
        <column table="a" column="id_failure" type="number" title="" comment="Номер повреждения" as="id_failure" reference="hr_otg_failure" refcol="id_failure" key="0" />
        <column table="a" column="life_time" type="number" title="" comment="Срок службы" as="life_time" key="0" />
        <column table="a" column="kod_dam_node" type="number" column-mandatory="1" comment="Поврежденный узел" as="kod_dam_node" reference="hk_otg_dam_node" refcol="kod_dam_node" key="0" />
        <column table="a" column="kod_zavod" type="number" column-mandatory="1" comment="Завод изготовитель" as="kod_zavod" reference="hk_otg_zavod" refcol="kod_zavod" key="0" />
        <column table="a" column="kod_mark_elem" type="number" column-mandatory="1" comment="Марка оборудования" as="kod_mark_elem" reference="hk_otg_mark_elem" refcol="kod_mark_elem" key="0" />
        <column table="a" column="volt_prob" type="number" title="" comment="Кратность напряжения пробоя" as="volt_prob" key="0" />
        <column table="a" column="dat_test_last" type="number" title="" comment="Срок от последнего испытания" as="dat_test_last" key="0" />
        <column table="a" column="kod_kat_potreb" type="number" column-mandatory="1" comment="Категория потребителя" as="kod_kat_potreb" reference="hk_otg_kat_potreb" refcol="kod_kat_potreb" key="0" />
        <column table="a" column="kod_executor_repair" type="number" column-mandatory="1" comment="Исполнитель ремонта" as="kod_executor_repair" reference="hk_otg_executor_repair" refcol="kod_executor_repair" key="0" />
        <column table="a" column="kod_executor" type="number" column-mandatory="1" comment="Исполнитель ОМП" as="kod_executor" reference="hk_otg_executor" refcol="kod_executor" key="0" />
        <column table="a" column="kod_metod" type="number" column-mandatory="1" comment="Метод ОМП" as="kod_metod" reference="hk_otg_metod" refcol="kod_metod" key="0" />
        <column table="a" column="deep" type="number" title="" comment="Глубина раскопки" as="deep" key="0" />
        <column table="a" column="num_kalk" type="string" title="" comment="N кальки" data-size="130" as="num_kalk" key="0" />
        <column table="a" column="num_book" type="string" title="" comment="N эскизной книжки" data-size="130" as="num_book" key="0" />
        <column table="a" column="id_centp" type="string" title="" comment="№ центра питания" data-size="130" as="id_centp" key="0" />
        <column table="a" column="kod_type_layr" type="number" column-mandatory="1" comment="Тип прокладки в МП" as="kod_type_layr" reference="hk_otg_type_layr" refcol="kod_type_layr" key="0" />
        <column table="a" column="kod_section" type="number" column-mandatory="1" comment="Сечение" as="kod_section" reference="hk_otg_section" refcol="kod_section" key="0" />
        <column table="a" column="dat_repair_end" type="date" title="" comment="Дата конца ремонта" as="dat_repair_end" key="0" />
        <column table="a" column="dat_repair_start" type="date" title="" comment="Дата раскопки(Начала ремонта)" as="dat_repair_start" key="0" />
        <column table="a" column="dat_work_on" type="date" title="" comment="Дата включения в работу" as="dat_work_on" key="0" />
        <column table="a" column="dist_failure" type="number" title="" comment="Расст. до поврежд. От РП(ТП)м." as="dist_failure" key="0" />
        <column table="a" column="dat_test" type="date" title="" comment="Дата испыытания" as="dat_test" key="0" />
        <column table="a" column="work_count" type="number" title="" comment="Трудозатраты" as="work_count" key="0" />
        <column table="a" column="work_num_shifr" type="string" title="" comment="N шифра" data-size="130" as="work_num_shifr" key="0" />
        <column table="a" column="dat_omp" type="date" title="" comment="Дата ОМП" as="dat_omp" key="0" />
        <column table="a" column="sm_marka" type="number" column-mandatory="1" title="" comment="СМ марка" as="sm_marka" key="0" />
        <column table="a" column="adr_mp" type="string" title="" comment="Адрес МП" data-size="200" as="adr_mp" key="0" />
        <column table="a" column="sm_count" type="number" title="" comment="СМ колличество" as="sm_count" key="0" />
        <column table="a" column="num_omp_rec" type="number" title="" comment="№Протокола ОМП" data-size="200" as="num_omp_rec" key="0" />
        <column table="a" column="kz_marka" type="number" column-mandatory="1" title="" comment="КЗ марка" as="kz_marka" key="0" />
        <column table="a" column="kz_count" type="number" title="" comment="КЗ колличество" as="kz_count" key="0" />
        <column table="a" column="sign_2" type="number" column-mandatory="1" title="" comment="Подпись 2" as="sign_2" key="0" />
        <column table="a" column="kod_cause_failure" type="number" column-mandatory="1" comment="Причина повреждения" as="kod_cause_failure" reference="hk_otg_cause_failure" refcol="kod_cause_failure" key="0" />
        <column table="a" column="ins_marka" type="number" column-mandatory="1" title="" comment="Вставка марка" as="ins_marka" key="0" />
        <column table="a" column="ins_count" type="number" title="" comment="Вставка колличество" as="ins_count" key="0" />
        <column table="a" column="ins_section" type="number" column-mandatory="1" title="" comment="Вставка: сечение" as="ins_section" key="0" />
        <column table="a" column="ins_dist" type="number" title="" comment="Вставка: длина" as="ins_dist" key="0" />
        <column table="a" column="tr_zav_num" type="string" title="" comment="Заводской номер трансформатора" data-size="130" as="tr_zav_num" key="0" />
        <column table="a" column="num_area" type="string" title="" comment="Номер участка" data-size="130" as="num_area" key="0" />
        <column table="a" column="remark" type="string" title="" comment="Примечание" data-size="130" as="remark" key="0" />
        <column table="a" column="sm_marka_dem" type="number" column-mandatory="1" title="" comment="СМ марка демонтированного" as="sm_marka_dem" key="0" />
        <column table="a" column="sm_count_dem" type="number" title="" comment="Колличество СМ демонтированно" as="sm_count_dem" key="0" />
        <column table="a" column="kz_marka_dem" type="number" column-mandatory="1" title="" comment="КЗ марка демонтированного" as="kz_marka_dem" key="0" />
        <column table="a" column="kz_count_dem" type="number" title="" comment="Колличество КЗ демонтированно" as="kz_count_dem" key="0" />
        <column table="a" column="coord_mp" type="string" title="" comment="Координаты МП" data-size="130" as="coord_mp" key="0" />
        <column table="a" column="kod_kat_repair" type="number" column-mandatory="1" comment="Категория ремонта" as="kod_kat_repair" reference="hk_otg_kat_repair" refcol="kod_kat_repair" key="0" />
        <column table="a" column="otevets_for_use" type="string" title="" comment="Ответственный за эксплуатацию" data-size="130" as="otevets_for_use" key="0" />
        <column table="a" column="kod_adr_mp" type="number" comment="Код адреса МП из ФИАС" as="kod_adr_mp" key="0" />
        <column table="a" column="sign_2_data" type="date" title="" comment="Дата подписи" as="sign_2_data" key="0" />
        <column table="a" column="sign_2_author" type="string" title="" comment="Автор подписи" data-size="200" as="sign_2_author" key="0" />
        <column table="a" column="sm2_marka" type="number" column-mandatory="1" title="" comment="СМ марка 2" as="sm2_marka" key="0" />
        <column table="a" column="sm2_count" type="number" title="" comment="СМ колличество 2" as="sm2_count" key="0" />
        <column table="a" column="sm2_marka_dem" type="number" column-mandatory="1" title="" comment="СМ марка демонтированного 2" as="sm2_marka_dem" key="0" />
        <column table="a" column="sm2_count_dem" type="number" title="" comment="Колличество СМ демонтированно 2" as="sm2_count_dem" key="0" />
        <column table="a" column="kod_assets" type="number" comment="Идентификатор ОС" as="kod_assets" reference="hr_assets" refcol="kod_assets" key="0" />
        <column table="a" column="kod_assets_inv" type="string" data-size="300" comment="Инвентарый номер ОС" as="kod_assets_inv" key="0" />
        <column table="a" column="pr_second" type="number" column-mandatory="1" title="" as="pr_second" key="0" />
        <column table="a" column="kod_brig" type="number" as="kod_brig" reference="kr_org" refcol="kodp" key="0" />
        <column table="a" column="kod_area" type="number" as="kod_area" reference="kr_org" refcol="kodp" key="0" />
        <call function="||-" as="hr_otg_failure_id" type="string" key="0">
          <column table="a" column="id_failure" />
          <column table="a" column="id_failure" />
          <column table="a" column="id_failure" />
        </call>
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hr_otg_repair" as="a" />
        <query name="hk_otg_executor" as="kod_executor" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_executor" />
            <column table="kod_executor" column="kod_executor" />
          </call>
        </query>
        <query name="hk_otg_kat_repair" as="kod_kat_repair" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_kat_repair" />
            <column table="kod_kat_repair" column="kod_kat_repair" />
          </call>
        </query>
        <query name="hk_otg_equip_elem" as="kod_equip_elem" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_equip_elem" />
            <column table="kod_equip_elem" column="kod_equip_elem" />
          </call>
        </query>
        <query name="hr_otg_failure" as="id_failure" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="id_failure" />
            <column table="id_failure" column="id_failure" />
          </call>
        </query>
        <query name="hk_otg_type_layr" as="kod_type_layr" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_type_layr" />
            <column table="kod_type_layr" column="kod_type_layr" />
          </call>
        </query>
        <query name="hk_otg_section" as="kod_section" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_section" />
            <column table="kod_section" column="kod_section" />
          </call>
        </query>
        <query name="hk_otg_cause_failure" as="kod_cause_failure" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_cause_failure" />
            <column table="kod_cause_failure" column="kod_cause_failure" />
          </call>
        </query>
        <query name="hk_otg_metod" as="kod_metod" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_metod" />
            <column table="kod_metod" column="kod_metod" />
          </call>
        </query>
        <query name="hk_otg_dam_node" as="kod_dam_node" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_dam_node" />
            <column table="kod_dam_node" column="kod_dam_node" />
          </call>
        </query>
        <query name="hk_otg_zavod" as="kod_zavod" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_zavod" />
            <column table="kod_zavod" column="kod_zavod" />
          </call>
        </query>
        <query name="hk_otg_mark_elem" as="kod_mark_elem" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_mark_elem" />
            <column table="kod_mark_elem" column="kod_mark_elem" />
          </call>
        </query>
        <query name="hk_otg_kat_potreb" as="kod_kat_potreb" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_kat_potreb" />
            <column table="kod_kat_potreb" column="kod_kat_potreb" />
          </call>
        </query>
        <query name="hk_otg_executor_repair" as="kod_executor_repair" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_executor_repair" />
            <column table="kod_executor_repair" column="kod_executor_repair" />
          </call>
        </query>
        <query name="hr_assets" as="kod_assets" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_assets" />
            <column table="kod_assets" column="kod_assets" />
          </call>
        </query>
        <query name="hr_otg_failure" as="hr_otg_failure_id" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="hr_otg_failure_id" />
            <column table="hr_otg_failure_id" column="hr_otg_failure_id" />
          </call>
        </query>
        <query name="kr_org" as="kod_brig" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_brig" />
            <column table="kod_brig" column="kodp" />
          </call>
        </query>
        <query name="kr_org" as="kod_area" join="left outer" dname="hr_otg_repair">
          <call function="=">
            <column table="a" column="kod_area" />
            <column table="kod_area" column="kodp" />
          </call>
        </query>
      </from>
    </query>
    <query name="hv_otg_okrug" class="1" timestamp="28.04.2018 17:18:43" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_okrug.xml" haskeys="1">
      <select>
        <column table="a" column="kodp" type="number" column-mandatory="1" title="" comment="Код округа" as="kodp" key="1" fixed="1" />
        <column table="a" column="name" type="string" column-mandatory="1" title="Наименование" comment="Полное наименование" as="name" key="0" />
        <column table="a" column="sname" type="string" column-mandatory="1" title="" comment="Краткое наименование" as="sname" key="0" />
        <column table="a" column="kod_parent" type="number" comment="столбец предусмотрен на всякий случай" as="kod_parent" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hv_otg_okrug" as="a" />
      </from>
    </query>
    <query name="hv_otg_repair_all" class="1" timestamp="10.06.2020 14:16:38" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_repair_all.xml" haskeys="1">
      <select>
        <call function="rowid" as="hv_otg_repair_all_id" key="1" />
        <column table="a" column="id_failure" type="number" column-mandatory="1" title="" as="id_failure" />
        <column table="a" column="id_parent_failure" type="number" title="" as="id_parent_failure" />
        <column table="a" column="okr_name" type="string" title="" column-mandatory="1" data-size="240" as="okr_name" />
        <column table="a" column="okr_kod" type="number" title="" column-mandatory="1" as="okr_kod" />
        <column table="a" column="rer" type="number" column-mandatory="1" title="" as="rer" />
        <column table="a" column="rer_name" type="string" title="" data-size="240" as="rer_name" />
        <column table="a" column="kod_kat_repair" type="number" as="kod_kat_repair" />
        <column table="a" column="kat_repair" type="string" title="" data-size="130" as="kat_repair" />
        <column table="a" column="sign_1" type="number" column-mandatory="1" title="" as="sign_1" />
        <column table="a" column="sign_2" type="number" title="" as="sign_2" />
        <column table="a" column="dat_repair" type="date" title="" as="dat_repair" />
        <column table="a" column="num_failure" type="number" column-mandatory="1" title="" as="num_failure" />
        <column table="a" column="id_group" type="number" title="" as="id_group" />
        <column table="a" column="line_name" type="string" title="" data-size="260" as="line_name" />
        <column table="a" column="kod_typeline" type="number" column-mandatory="1" as="kod_typeline" />
        <column table="a" column="typeline" type="string" title="" data-size="20" as="typeline" />
        <column table="a" column="kod_equip_elem" type="number" as="kod_equip_elem" />
        <column table="a" column="equip_elem" type="string" title="" data-size="50" as="equip_elem" />
        <column table="a" column="kod_bal" type="number" column-mandatory="1" as="kod_bal" />
        <column table="a" column="bal_name" type="string" title="" data-size="50" as="bal_name" />
        <column table="a" column="kod_gar" type="number" column-mandatory="1" as="kod_gar" />
        <column table="a" column="gar_name" type="string" title="" data-size="50" as="gar_name" />
        <column table="a" column="kod_type_repair" type="number" column-mandatory="1" as="kod_type_repair" />
        <column table="a" column="type_repair" type="string" title="" data-size="50" as="type_repair" />
        <column table="a" column="dat_omp" type="date" title="" as="dat_omp" />
        <column table="a" column="dat_repair_start" type="date" title="" as="dat_repair_start" />
        <column table="a" column="dat_repair_end" type="date" title="" as="dat_repair_end" />
        <column table="a" column="dat_work_on" type="date" title="" as="dat_work_on" />
        <column table="a" column="inscomp" type="string" title="" data-size="130" as="inscomp" />
        <column table="a" column="insautor" type="string" title="" data-size="130" as="insautor" />
        <column table="a" column="pr_blag" type="number" column-mandatory="1" title="" as="pr_blag" />
        <column table="a" column="pr_start_repair" type="number" column-mandatory="1" title="" as="pr_start_repair" />
        <column table="a" column="percent_complet" type="number" title="" as="percent_complet" />
        <column table="a" column="remark" type="string" title="" data-size="130" as="remark" />
        <column table="a" column="kod_use_line" type="number" column-mandatory="1" as="kod_use_line" />
        <column table="a" column="use_line" type="string" title="" data-size="20" as="use_line" />
        <column table="a" column="kod_type_detect" type="number" column-mandatory="1" as="kod_type_detect" />
        <column table="a" column="type_detect" type="string" title="" data-size="20" as="type_detect" />
        <column table="a" column="kod_kind_failure" type="number" column-mandatory="1" as="kod_kind_failure" />
        <column table="a" column="kind_failure" type="string" title="" data-size="20" as="kind_failure" />
        <column table="a" column="kod_kat_potreb" type="number" as="kod_kat_potreb" />
        <column table="a" column="kat_potreb" type="string" title="" data-size="50" as="kat_potreb" />
        <column table="a" column="adr_mp" type="string" title="" data-size="200" as="adr_mp" />
        <column table="a" column="info_area" type="number" title="" as="info_area" />
        <column table="a" column="info_area_str" type="string" title="" data-size="200" as="info_area_str" />
        <column table="a" column="info_area_type" type="number" title="" as="info_area_type" />
        <column table="a" column="info_area_type_str" type="string" title="" data-size="200" as="info_area_type_str" />
        <column table="a" column="info_enrg_status" type="number" title="" as="info_enrg_status" />
        <column table="a" column="info_enrg_status_str" type="string" title="" data-size="200" as="info_enrg_status_str" />
        <column table="a" column="info_dat_tel_oati" type="date" title="" as="info_dat_tel_oati" />
        <column table="a" column="info_num_tel_oati" type="string" title="" data-size="130" as="info_num_tel_oati" />
        <column table="a" column="kod_executor_repair" type="number" as="kod_executor_repair" />
        <column table="a" column="exec_r" type="string" title="" data-size="50" as="exec_r" />
        <column table="a" column="blag_pr_winter" type="number" column-mandatory="1" title="" as="blag_pr_winter" />
        <column table="a" column="blag_dat_start" type="date" title="" as="blag_dat_start" />
        <column table="a" column="blag_num_tel_start" type="string" title="" data-size="200" as="blag_num_tel_start" />
        <column table="a" column="blag_dat_bal" type="date" title="" as="blag_dat_bal" />
        <column table="a" column="blag_dat_vost" type="date" title="" as="blag_dat_vost" />
        <column table="a" column="blag_dat_end_ati" type="date" title="" as="blag_dat_end_ati" />
        <column table="a" column="blag_dat_end_oati" type="date" title="" as="blag_dat_end_oati" />
        <column table="a" column="dat_test" type="date" title="" as="dat_test" />
        <column table="a" column="kod_v" type="number" as="kod_v" />
        <column table="a" column="sv" type="string" title="" data-size="20" as="sv" />
        <column table="a" column="nv" type="string" title="" as="nv" />
        <column table="a" column="kod_cause_second" type="number" column-mandatory="1" as="kod_cause_second" />
        <column table="a" column="cause_second" type="string" title="" data-size="20" as="cause_second" />
        <column table="a" column="kod_nedop" type="number" column-mandatory="1" as="kod_nedop" />
        <column table="a" column="nedop" type="string" title="" data-size="100" as="nedop" />
        <column table="a" column="value_nedop" type="number" title="" as="value_nedop" />
        <column table="a" column="kod_degree_failure" type="number" column-mandatory="1" as="kod_degree_failure" />
        <column table="a" column="degree_failure" type="string" title="" data-size="20" as="degree_failure" />
        <column table="a" column="kod_klass_group" type="number" column-mandatory="1" as="kod_klass_group" />
        <column table="a" column="klass_group" type="string" title="" data-size="100" as="klass_group" />
        <column table="a" column="klass_group_type" type="number" title="" as="klass_group_type" />
        <column table="a" column="equip_elem_count" type="number" title="" as="equip_elem_count" />
        <column table="a" column="centr_p" type="string" title="" data-size="130" as="centr_p" />
        <column table="a" column="sign_1_data" type="date" title="" as="sign_1_data" />
        <column table="a" column="sign_1_author" type="string" title="" data-size="200" as="sign_1_author" />
        <column table="a" column="kod_mark_elem" type="number" as="kod_mark_elem" />
        <column table="a" column="mark_elem" type="string" title="" data-size="100" as="mark_elem" />
        <column table="a" column="kod_section" type="number" as="kod_section" />
        <column table="a" column="section" type="string" title="" data-size="50" as="section" />
        <column table="a" column="kod_cause_failure" type="number" as="kod_cause_failure" />
        <column table="a" column="cause_failure" type="string" title="" data-size="100" as="cause_failure" />
        <column table="a" column="kod_zavod" type="number" as="kod_zavod" />
        <column table="a" column="zavod" type="string" title="" data-size="50" as="zavod" />
        <column table="a" column="kod_type_layr" type="number" as="kod_type_layr" />
        <column table="a" column="type_layr" type="string" title="" data-size="50" as="type_layr" />
        <column table="a" column="coord_mp" type="string" title="" data-size="130" as="coord_mp" />
        <column table="a" column="dist_failure" type="number" title="" as="dist_failure" />
        <column table="a" column="id_centp" type="string" title="" data-size="130" as="id_centp" />
        <column table="a" column="kod_metod" type="number" as="kod_metod" />
        <column table="a" column="metod" type="string" title="" data-size="50" as="metod" />
        <column table="a" column="num_omp_rec" type="number" title="" data-size="200" as="num_omp_rec" />
        <column table="a" column="kod_executor" type="number" as="kod_executor" />
        <column table="a" column="executor" type="string" title="" data-size="50" as="executor" />
        <column table="a" column="life_time" type="number" title="" as="life_time" />
        <column table="a" column="sm_marka" type="number" title="" as="sm_marka" />
        <column table="a" column="sm_marka_name" type="string" title="" data-size="100" as="sm_marka_name" />
        <column table="a" column="sm_count" type="number" title="" as="sm_count" />
        <column table="a" column="sm2_marka" type="number" title="" as="sm2_marka" />
        <column table="a" column="sm2_marka_name" type="string" title="" data-size="100" as="sm2_marka_name" />
        <column table="a" column="sm2_count" type="number" title="" as="sm2_count" />
        <column table="a" column="kz_marka" type="number" title="" as="kz_marka" />
        <column table="a" column="kz_marka_name" type="string" title="" data-size="100" as="kz_marka_name" />
        <column table="a" column="kz_count" type="number" title="" as="kz_count" />
        <column table="a" column="ins_marka" type="number" title="" as="ins_marka" />
        <column table="a" column="ins_marka_name" type="string" title="" data-size="100" as="ins_marka_name" />
        <column table="a" column="ins_count" type="number" title="" as="ins_count" />
        <column table="a" column="ins_section" type="number" title="" as="ins_section" />
        <column table="a" column="ins_section_name" type="string" title="" data-size="50" as="ins_section_name" />
        <column table="a" column="ins_dist" type="number" title="" as="ins_dist" />
        <column table="a" column="work_count" type="number" title="" as="work_count" />
        <column table="a" column="work_num_shifr" type="string" title="" data-size="130" as="work_num_shifr" />
        <column table="a" column="deep" type="number" title="" as="deep" />
        <column table="a" column="num_kalk" type="string" title="" data-size="130" as="num_kalk" />
        <column table="a" column="num_book" type="string" title="" data-size="130" as="num_book" />
        <column table="a" column="num_area" type="string" title="" data-size="130" as="num_area" />
        <column table="a" column="sm_marka_dem" type="number" title="" as="sm_marka_dem" />
        <column table="a" column="sm_marka_dem_name" type="string" title="" data-size="100" as="sm_marka_dem_name" />
        <column table="a" column="sm_count_dem" type="number" title="" as="sm_count_dem" />
        <column table="a" column="sm2_marka_dem" type="number" title="" as="sm2_marka_dem" />
        <column table="a" column="sm2_marka_dem_name" type="string" title="" data-size="100" as="sm2_marka_dem_name" />
        <column table="a" column="sm2_count_dem" type="number" title="" as="sm2_count_dem" />
        <column table="a" column="kz_marka_dem" type="number" title="" as="kz_marka_dem" />
        <column table="a" column="kz_marka_dem_name" type="string" title="" data-size="100" as="kz_marka_dem_name" />
        <column table="a" column="kz_count_dem" type="number" title="" as="kz_count_dem" />
        <column table="a" column="otevets_for_use" type="string" title="" data-size="130" as="otevets_for_use" />
        <column table="a" column="sign_2_data" type="date" title="" as="sign_2_data" />
        <column table="a" column="sign_2_author" type="string" title="" data-size="200" as="sign_2_author" />
        <column table="a" column="pr_secret" type="number" column-mandatory="1" title="" as="pr_secret" />
        <column table="a" column="blag_road" type="number" title="" as="blag_road" />
        <column table="a" column="blag_sidewalk" type="number" title="" as="blag_sidewalk" />
        <column table="a" column="blag_grass" type="number" title="" as="blag_grass" />
        <column table="a" column="kod_assets_inv" type="string" data-size="300" as="kod_assets_inv" />
        <column table="a" column="city_program" type="number" column-mandatory="1" title="" as="city_program" />
        <column table="a" column="data_dop" type="date" title="" as="data_dop" />
        <column table="a" column="kod_brig" type="number" title="" as="kod_brig" />
        <column table="a" column="rer_brig" type="number" title="" as="rer_brig" />
        <column table="a" column="rer_brig_name" type="number" as="rer_brig_name" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="=">
          <column table="a" column="pr_secret" />
          <call function="if">
            <call function="=">
              <useglobparam name="PARAM_PR_SECRET" />
              <const>0</const>
            </call>
            <const>0</const>
            <column table="a" column="pr_secret" />
          </call>
        </call>
      </where>
      <params />
    </query>
    <query name="hv_otg_rep_f003" class="1" timestamp="10.05.2018 15:54:00" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_rep_f003.xml" haskeys="1">
      <select>
        <column table="a" column="pr" type="string" title="" as="pr" key="1" fixed="1" />
        <column table="a" column="rer" type="number" title="" as="rer" key="0" />
        <column table="a" column="klass_group_type" type="number" as="klass_group_type" key="0" />
        <column table="a" column="kod_degree_failure" type="number" as="kod_degree_failure" key="0" />
        <column table="a" column="value_count" type="number" title="" as="value_count" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hv_otg_rep_f003" as="a" />
      </from>
    </query>
    <query name="hv_otg_rep_f011" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_rep_f011.xml" haskeys="1">
      <select>
        <column table="a" column="pr" type="string" title="" as="pr" key="1" fixed="1" />
        <column table="a" column="rer" type="number" title="" as="rer" key="0" />
        <column table="a" column="kod_type_detect" type="number" as="kod_type_detect" key="0" />
        <column table="a" column="kod_equip_elem" type="number" as="kod_equip_elem" key="0" />
        <column table="a" column="value_count" type="number" title="" as="value_count" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hv_otg_rep_f011" as="a" />
      </from>
    </query>
    <query name="hv_otg_rep_f025" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_rep_f025.xml" haskeys="1">
      <select>
        <column table="a" column="pr_exec" type="string" title="" as="pr_exec" key="1" fixed="1" />
        <column table="a" column="rer" type="number" title="" as="rer" key="0" />
        <column table="a" column="kod_use_line" type="number" as="kod_use_line" key="0" />
        <column table="a" column="value_count" type="number" title="" as="value_count" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hv_otg_rep_f025" as="a" />
      </from>
    </query>
    <query name="hv_otg_rep_r024" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_rep_r024.xml" haskeys="1">
      <select>
        <column table="a" column="name_okr" type="string" column-mandatory="1" title="" comment="Наименование округа" as="name_okr" key="1" fixed="1" />
        <column table="a" column="pkl_f_s" type="number" title="" comment="ПКЛ В сводке поврежденных КЛ на" as="pkl_f_s" key="0" />
        <column table="a" column="rkl_f_s" type="number" title="" comment="РКЛ В сводке поврежденных КЛ на" as="rkl_f_s" key="0" />
        <column table="a" column="nn_f_s" type="number" title="" comment="НН В сводке поврежденных КЛ на" as="nn_f_s" key="0" />
        <column table="a" column="pkl_f_s_p" type="number" title="" comment="ПКЛ Повреждено КЛ в период" as="pkl_f_s_p" key="0" />
        <column table="a" column="rkl_f_s_p" type="number" title="" comment="РКЛ Повреждено КЛ в период" as="rkl_f_s_p" key="0" />
        <column table="a" column="nn_f_s_p" type="number" title="" comment="НН Повреждено КЛ в период" as="nn_f_s_p" key="0" />
        <column table="a" column="pkl_r_s_p" type="number" title="" comment="ПКЛ Отремонтировано КЛ в период" as="pkl_r_s_p" key="0" />
        <column table="a" column="rkl_r_s_p" type="number" title="" comment="РКЛ Отремонтировано КЛ в период" as="rkl_r_s_p" key="0" />
        <column table="a" column="nn_r_s_p" type="number" title="" comment="НН Отремонтировано КЛ в период" as="nn_r_s_p" key="0" />
        <column table="a" column="pkl_f_p" type="number" title="" comment="ПКЛ В сводке поврежденных КЛ на" as="pkl_f_p" key="0" />
        <column table="a" column="rkl_f_p" type="number" title="" comment="РКЛ В сводке поврежденных КЛ на" as="rkl_f_p" key="0" />
        <column table="a" column="nn_f_p" type="number" title="" comment="НН В сводке поврежденных КЛ на" as="nn_f_p" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hv_otg_rep_r024" as="a" />
      </from>
    </query>
    <query name="hv_otg_rpdistrict" class="1" timestamp="25.10.2018 13:10:01" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_rpdistrict.xml" haskeys="1">
      <select>
        <column table="a" column="kodp" type="number" column-mandatory="1" title="" comment="Код РЭР" as="kodp" key="1" fixed="1" />
        <column table="a" column="name" type="string" column-mandatory="1" title="Наименование" comment="Полное наименование" as="name" key="0" />
        <column table="a" column="sname" type="string" column-mandatory="1" title="" comment="Краткое наименование" as="sname" key="0" />
        <column table="a" column="kod_parent" type="number" comment="Код округа" as="kod_parent" reference="hv_otg_rpdistrict" refcol="kodp" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hv_otg_rpdistrict" as="a" />
        <query name="hv_otg_rpdistrict" as="kod_parent" join="left outer" dname="hv_otg_rpdistrict">
          <call function="=">
            <column table="a" column="kod_parent" />
            <column table="kod_parent" column="kodp" />
          </call>
        </query>
      </from>
    </query>
    <query name="hv_otg_rpdistrict_str" class="1" timestamp="26.04.2019 17:27:40" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\hv_otg_rpdistrict.xml">
      <params>
        <param name="rer" type="number" />
      </params>
      <select>
        <call function="||-" as="p_name" key="0">
          <column table="kod_parent" column="name" />
          <column table="a" column="name" />
        </call>
      </select>
      <from>
        <query name="hv_otg_rpdistrict" as="a" />
        <query name="kr_org" as="kod_parent" join="left outer" dname="hv_otg_rpdistrict_str">
          <call function="=">
            <column table="a" column="kod_parent" />
            <column table="kod_parent" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="=">
          <column table="a" column="kodp" />
          <useparam name="rer" />
        </call>
      </where>
    </query>
    <query name="kr_org" class="1" timestamp="15.09.2018 22:26:23" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\kr_org.xml" haskeys="1">
      <select>
        <column table="a" column="kodp" type="number" column-mandatory="1" title="" as="kodp" key="1" fixed="1" />
        <column table="a" column="name" type="string" column-mandatory="1" title="Наименование" as="name" key="0" />
        <column table="a" column="sname" type="string" column-mandatory="1" title="" as="sname" key="0" />
        <column table="a" column="kod_parent" type="number" as="kod_parent" reference="kr_org" refcol="kodp" key="0" />
        <column table="a" column="kod_separator" type="number" column-mandatory="1" as="kod_separator" reference="kk_orgseparator" refcol="kod_separator" key="0" />
        <column table="a" column="kod_ecls" type="number" column-mandatory="1" as="kod_ecls" reference="kk_cls" refcol="kod_ecls" key="0" />
        <column table="a" column="tep_el" type="number" column-mandatory="1" title="" as="tep_el" reference="kk_tep_el" refcol="tep_el" key="0" />
        <column table="a" column="gruppa" type="number" column-mandatory="1" title="" as="gruppa" key="0" />
        <column table="a" column="pref_fac" type="number" title="" comment="Префикс № счета фактуры для данного&#xA;Префикс № счета фактуры для данного подразделения ЭСБ" as="pref_fac" key="0" />
        <column table="a" column="pref_doc" type="string" title="" comment="Префикс к № док-тов для подразд" as="pref_doc" key="0" />
        <column table="a" column="tel" type="string" title="" as="tel" key="0" />
        <column table="a" column="fax" type="string" title="" as="fax" key="0" />
        <column table="a" column="email" type="string" title="" as="email" key="0" />
        <column table="a" column="prim" type="string" title="" as="prim" key="0" />
        <column table="a" column="place" type="string" title="" as="place" key="0" />
        <column table="a" column="kod_org" type="number" comment="Код подразделения" as="kod_org" key="0" />
        <column table="a" column="site" type="string" title="" comment="имя сайта" as="site" key="0" />
        <column table="a" column="info" type="string" title="" comment="Информация для вывода в подвале извещения для бытовиков" as="info" key="0" />
        <column table="a" column="dog_service" type="number" column-mandatory="1" title="" comment="Может ли ЮЛ участвовать в договоре услуг: 1- да, 0 -нет" as="dog_service" key="0" />
        <column table="a" column="dat_s" type="date" column-mandatory="1" title="" as="dat_s" key="0" />
        <column table="a" column="dat_po" type="date" title="" as="dat_po" key="0" />
        <column table="a" column="pr_active" type="number" column-mandatory="1" title="" as="pr_active" reference="kk_active" refcol="pr_active" key="0" />
        <column table="a" column="rosseti_branchid" type="string" title="" comment="Код (ID) подразделения по классификации Россети" as="rosseti_branchid" key="0" />
        <column table="a" column="address_nation_lang" type="string" title="" comment="Адрес на национальном языке" as="address_nation_lang" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="kr_org" as="a" />
        <query name="kk_orgseparator" as="kod_separator" join="left outer" dname="kr_org">
          <call function="=">
            <column table="a" column="kod_separator" />
            <column table="kod_separator" column="kod_separator" />
          </call>
        </query>
        <query name="kk_tep_el" as="tep_el" join="left outer" dname="kr_org">
          <call function="=">
            <column table="a" column="tep_el" />
            <column table="tep_el" column="tep_el" />
          </call>
        </query>
        <query name="kr_org" as="kod_parent" join="left outer" dname="kr_org">
          <call function="=">
            <column table="a" column="kod_parent" />
            <column table="kod_parent" column="kodp" />
          </call>
        </query>
        <query name="kk_active" as="pr_active" join="left outer" dname="kr_org">
          <call function="=">
            <column table="a" column="pr_active" />
            <column table="pr_active" column="pr_active" />
          </call>
        </query>
        <query name="kk_cls" as="kod_ecls" join="left outer" dname="kr_org">
          <call function="=">
            <column table="a" column="kod_ecls" />
            <column table="kod_ecls" column="kod_ecls" />
          </call>
        </query>
      </from>
    </query>
    <query name="vv_repository_summary" class="1" file="sql.builder.templates\sql.builder\projects\proj45567\scheme\original\vv_repository_summary.xml" haskeys="1">
      <select>
        <column table="a" column="id" type="number" column-mandatory="1" title="" as="id" key="1" fixed="1" />
        <column table="a" column="date_svod" type="date" title="" as="date_svod" key="0" />
        <column table="a" column="id_failure" type="number" column-mandatory="1" title="" as="id_failure" key="0" />
        <column table="a" column="id_parent_failure" type="number" title="" as="id_parent_failure" key="0" />
        <column table="a" column="okr_name" type="string" data-size="240" title="" as="okr_name" key="0" />
        <column table="a" column="okr_kod" type="number" title="" as="okr_kod" key="0" />
        <column table="a" column="rer" type="number" column-mandatory="1" title="" as="rer" key="0" />
        <column table="a" column="rer_name" type="string" data-size="240" title="" as="rer_name" key="0" />
        <column table="a" column="kod_kat_repair" type="number" column-mandatory="1" as="kod_kat_repair" key="0" />
        <column table="a" column="kat_repair" type="string" data-size="130" title="" as="kat_repair" key="0" />
        <column table="a" column="sign_1" type="number" column-mandatory="1" title="" as="sign_1" key="0" />
        <column table="a" column="sign_2" type="number" column-mandatory="1" title="" as="sign_2" key="0" />
        <column table="a" column="dat_repair" type="date" title="" as="dat_repair" key="0" />
        <column table="a" column="num_failure" type="number" column-mandatory="1" title="" as="num_failure" key="0" />
        <column table="a" column="num_failure_parent" type="number" title="" as="num_failure_parent" key="0" />
        <column table="a" column="num_failure_iteration" type="number" title="" as="num_failure_iteration" key="0" />
        <column table="a" column="id_group" type="number" title="" as="id_group" key="0" />
        <column table="a" column="line_name" type="string" data-size="260" title="" as="line_name" key="0" />
        <column table="a" column="kod_typeline" type="number" column-mandatory="1" as="kod_typeline" key="0" />
        <column table="a" column="typeline" type="string" data-size="20" title="" as="typeline" key="0" />
        <column table="a" column="kod_equip_elem" type="number" column-mandatory="1" as="kod_equip_elem" key="0" />
        <column table="a" column="equip_elem" type="string" data-size="50" title="" as="equip_elem" key="0" />
        <column table="a" column="kod_bal" type="number" column-mandatory="1" as="kod_bal" key="0" />
        <column table="a" column="bal_name" type="string" data-size="50" title="" as="bal_name" key="0" />
        <column table="a" column="kod_gar" type="number" column-mandatory="1" as="kod_gar" key="0" />
        <column table="a" column="gar_name" type="string" data-size="50" title="" as="gar_name" key="0" />
        <column table="a" column="kod_type_repair" type="number" column-mandatory="1" as="kod_type_repair" key="0" />
        <column table="a" column="type_repair" type="string" data-size="50" title="" as="type_repair" key="0" />
        <column table="a" column="dat_omp" type="date" title="" as="dat_omp" key="0" />
        <column table="a" column="dat_repair_start" type="date" title="" as="dat_repair_start" key="0" />
        <column table="a" column="dat_repair_end" type="date" title="" as="dat_repair_end" key="0" />
        <column table="a" column="dat_work_on" type="date" title="" as="dat_work_on" key="0" />
        <column table="a" column="inscomp" type="string" data-size="130" title="" as="inscomp" key="0" />
        <column table="a" column="insautor" type="string" data-size="130" title="" as="insautor" key="0" />
        <column table="a" column="pr_blag" type="number" column-mandatory="1" title="" as="pr_blag" key="0" />
        <column table="a" column="pr_start_repair" type="number" column-mandatory="1" title="" as="pr_start_repair" key="0" />
        <column table="a" column="percent_complet" type="number" title="" as="percent_complet" key="0" />
        <column table="a" column="remark" type="string" data-size="130" title="" as="remark" key="0" />
        <column table="a" column="pr_secret" type="number" column-mandatory="1" title="" as="pr_secret" key="0" />
        <column table="a" column="kod_brig" type="number" as="kod_brig" key="0" />
        <column table="a" column="name_brig" type="string" data-size="240" title="" as="name_brig" key="0" />
        <column table="a" column="kod_area" type="number" as="kod_area" key="0" />
        <column table="a" column="kod_use_line" type="number" column-mandatory="1" as="kod_use_line" key="0" />
        <column table="a" column="use_line" type="string" data-size="20" title="" as="use_line" key="0" />
        <column table="a" column="kod_type_detect" type="number" column-mandatory="1" as="kod_type_detect" key="0" />
        <column table="a" column="type_detect" type="string" data-size="20" title="" as="type_detect" key="0" />
        <column table="a" column="kod_kind_failure" type="number" column-mandatory="1" as="kod_kind_failure" key="0" />
        <column table="a" column="kind_failure" type="string" data-size="20" title="" as="kind_failure" key="0" />
        <column table="a" column="kod_kat_potreb" type="number" column-mandatory="1" as="kod_kat_potreb" key="0" />
        <column table="a" column="kat_potreb" type="string" data-size="50" title="" as="kat_potreb" key="0" />
        <column table="a" column="adr_mp" type="string" data-size="200" title="" as="adr_mp" key="0" />
        <column table="a" column="kod_assets_inv" type="string" data-size="300" as="kod_assets_inv" key="0" />
        <column table="a" column="info_area" type="number" title="" as="info_area" key="0" />
        <column table="a" column="info_area_str" type="string" data-size="200" title="" as="info_area_str" key="0" />
        <column table="a" column="info_area_type" type="number" title="" as="info_area_type" key="0" />
        <column table="a" column="info_area_type_str" type="string" data-size="200" title="" as="info_area_type_str" key="0" />
        <column table="a" column="info_enrg_status" type="number" title="" as="info_enrg_status" key="0" />
        <column table="a" column="info_enrg_status_str" type="string" data-size="200" title="" as="info_enrg_status_str" key="0" />
        <column table="a" column="info_dat_tel_oati" type="date" title="" as="info_dat_tel_oati" key="0" />
        <column table="a" column="info_num_tel_oati" type="string" data-size="130" title="" as="info_num_tel_oati" key="0" />
        <column table="a" column="kod_executor_repair" type="number" column-mandatory="1" as="kod_executor_repair" key="0" />
        <column table="a" column="exec_r" type="string" data-size="50" title="" as="exec_r" key="0" />
        <column table="a" column="blag_pr_winter" type="number" column-mandatory="1" title="" as="blag_pr_winter" key="0" />
        <column table="a" column="blag_dat_start" type="date" title="" as="blag_dat_start" key="0" />
        <column table="a" column="blag_num_tel_start" type="string" data-size="200" title="" as="blag_num_tel_start" key="0" />
        <column table="a" column="blag_dat_bal" type="date" title="" as="blag_dat_bal" key="0" />
        <column table="a" column="blag_dat_vost" type="date" title="" as="blag_dat_vost" key="0" />
        <column table="a" column="blag_dat_end_ati" type="date" title="" as="blag_dat_end_ati" key="0" />
        <column table="a" column="blag_dat_end_oati" type="date" title="" as="blag_dat_end_oati" key="0" />
        <column table="a" column="dat_test" type="date" title="" as="dat_test" key="0" />
        <column table="a" column="kod_v" type="number" as="kod_v" key="0" />
        <column table="a" column="nv" type="number" title="" as="nv" key="0" />
        <column table="a" column="kod_cause_second" type="number" column-mandatory="1" as="kod_cause_second" key="0" />
        <column table="a" column="cause_second" type="string" data-size="20" title="" as="cause_second" key="0" />
        <column table="a" column="kod_nedop" type="number" column-mandatory="1" as="kod_nedop" key="0" />
        <column table="a" column="nedop" type="string" data-size="100" title="" as="nedop" key="0" />
        <column table="a" column="value_nedop" type="number" title="" as="value_nedop" key="0" />
        <column table="a" column="kod_degree_failure" type="number" column-mandatory="1" as="kod_degree_failure" key="0" />
        <column table="a" column="degree_failure" type="string" data-size="20" title="" as="degree_failure" key="0" />
        <column table="a" column="kod_klass_group" type="number" column-mandatory="1" as="kod_klass_group" key="0" />
        <column table="a" column="klass_group" type="string" data-size="100" title="" as="klass_group" key="0" />
        <column table="a" column="equip_elem_count" type="number" title="" as="equip_elem_count" key="0" />
        <column table="a" column="centr_p" type="string" data-size="130" title="" as="centr_p" key="0" />
        <column table="a" column="sign_1_data" type="date" title="" as="sign_1_data" key="0" />
        <column table="a" column="sign_1_author" type="string" data-size="200" title="" as="sign_1_author" key="0" />
        <column table="a" column="pr_img" type="number" title="" as="pr_img" key="0" />
        <column table="a" column="kod_mark_elem" type="number" column-mandatory="1" as="kod_mark_elem" key="0" />
        <column table="a" column="mark_elem" type="string" data-size="100" title="" as="mark_elem" key="0" />
        <column table="a" column="kod_section" type="number" column-mandatory="1" as="kod_section" key="0" />
        <column table="a" column="section" type="string" data-size="50" title="" as="section" key="0" />
        <column table="a" column="kod_cause_failure" type="number" column-mandatory="1" as="kod_cause_failure" key="0" />
        <column table="a" column="cause_failure" type="string" data-size="100" title="" as="cause_failure" key="0" />
        <column table="a" column="kod_zavod" type="number" column-mandatory="1" as="kod_zavod" key="0" />
        <column table="a" column="zavod" type="string" data-size="50" title="" as="zavod" key="0" />
        <column table="a" column="kod_type_layr" type="number" column-mandatory="1" as="kod_type_layr" key="0" />
        <column table="a" column="type_layr" type="string" data-size="50" title="" as="type_layr" key="0" />
        <column table="a" column="coord_mp" type="string" data-size="130" title="" as="coord_mp" key="0" />
        <column table="a" column="dist_failure" type="number" title="" as="dist_failure" key="0" />
        <column table="a" column="id_centp" type="string" data-size="130" title="" as="id_centp" key="0" />
        <column table="a" column="kod_metod" type="number" column-mandatory="1" as="kod_metod" key="0" />
        <column table="a" column="metod" type="string" data-size="50" title="" as="metod" key="0" />
        <column table="a" column="num_omp_rec" type="string" data-size="200" title="" as="num_omp_rec" key="0" />
        <column table="a" column="kod_executor" type="number" column-mandatory="1" as="kod_executor" key="0" />
        <column table="a" column="executor" type="string" data-size="50" title="" as="executor" key="0" />
        <column table="a" column="life_time" type="number" title="" as="life_time" key="0" />
        <column table="a" column="sm_marka" type="number" column-mandatory="1" title="" as="sm_marka" key="0" />
        <column table="a" column="sm_marka_name" type="string" data-size="100" title="" as="sm_marka_name" key="0" />
        <column table="a" column="sm_count" type="number" title="" as="sm_count" key="0" />
        <column table="a" column="sm2_marka" type="number" column-mandatory="1" title="" as="sm2_marka" key="0" />
        <column table="a" column="sm2_marka_name" type="string" data-size="100" title="" as="sm2_marka_name" key="0" />
        <column table="a" column="sm2_count" type="number" title="" as="sm2_count" key="0" />
        <column table="a" column="kz_marka" type="number" column-mandatory="1" title="" as="kz_marka" key="0" />
        <column table="a" column="kz_marka_name" type="string" data-size="100" title="" as="kz_marka_name" key="0" />
        <column table="a" column="kz_count" type="number" title="" as="kz_count" key="0" />
        <column table="a" column="ins_marka" type="number" column-mandatory="1" title="" as="ins_marka" key="0" />
        <column table="a" column="ins_marka_name" type="string" data-size="100" title="" as="ins_marka_name" key="0" />
        <column table="a" column="ins_count" type="number" title="" as="ins_count" key="0" />
        <column table="a" column="ins_section" type="number" column-mandatory="1" title="" as="ins_section" key="0" />
        <column table="a" column="ins_section_name" type="string" data-size="50" title="" as="ins_section_name" key="0" />
        <column table="a" column="ins_dist" type="number" title="" as="ins_dist" key="0" />
        <column table="a" column="work_count" type="number" title="" as="work_count" key="0" />
        <column table="a" column="work_num_shifr" type="string" data-size="130" title="" as="work_num_shifr" key="0" />
        <column table="a" column="deep" type="number" title="" as="deep" key="0" />
        <column table="a" column="num_kalk" type="string" data-size="130" title="" as="num_kalk" key="0" />
        <column table="a" column="num_book" type="string" data-size="130" title="" as="num_book" key="0" />
        <column table="a" column="num_area" type="string" data-size="130" title="" as="num_area" key="0" />
        <column table="a" column="sm_marka_dem" type="number" column-mandatory="1" title="" as="sm_marka_dem" key="0" />
        <column table="a" column="sm_marka_dem_name" type="string" data-size="100" title="" as="sm_marka_dem_name" key="0" />
        <column table="a" column="sm_count_dem" type="number" title="" as="sm_count_dem" key="0" />
        <column table="a" column="sm2_marka_dem" type="number" column-mandatory="1" title="" as="sm2_marka_dem" key="0" />
        <column table="a" column="sm2_marka_dem_name" type="string" data-size="100" title="" as="sm2_marka_dem_name" key="0" />
        <column table="a" column="sm2_count_dem" type="number" title="" as="sm2_count_dem" key="0" />
        <column table="a" column="kz_marka_dem" type="number" column-mandatory="1" title="" as="kz_marka_dem" key="0" />
        <column table="a" column="kz_marka_dem_name" type="string" data-size="100" title="" as="kz_marka_dem_name" key="0" />
        <column table="a" column="kz_count_dem" type="number" title="" as="kz_count_dem" key="0" />
        <column table="a" column="otevets_for_use" type="string" data-size="130" title="" as="otevets_for_use" key="0" />
        <column table="a" column="sign_2_data" type="date" title="" as="sign_2_data" key="0" />
        <column table="a" column="sign_2_author" type="string" data-size="200" title="" as="sign_2_author" key="0" />
        <column table="a" column="city_program" type="number" column-mandatory="1" title="" as="city_program" key="0" />
        <column table="a" column="data_dop" type="date" title="" as="data_dop" key="0" />
        <column table="a" column="fio_omp" type="string" data-size="200" title="" as="fio_omp" key="0" />
        <column table="a" column="fio_work" type="string" data-size="200" title="" as="fio_work" key="0" />
        <column table="a" column="pr_not_faza" type="number" column-mandatory="1" title="" as="pr_not_faza" key="0" />
        <column table="a" column="pr_second" type="number" column-mandatory="1" title="" as="pr_second" key="0" />
        <column table="a" column="days_without_repair" type="number" title="" as="days_without_repair" key="0" />
        <column table="a" column="days_without_on" type="number" title="" as="days_without_on" key="0" />
        <column table="a" column="pr_proboi" type="number" title="" as="pr_proboi" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="vv_repository_summary" as="a" />
      </from>
    </query>
    <query name="form:45567-r21-form" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Район'</const>
                <const type="string" as="name">'rer'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Год.Месяц'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:45567-svod-form" haskeys="1">
      <select>
        <const type="string" as="title" title="Параметр">'На дату'</const>
        <const type="string" as="name" key="1">'date_svod'</const>
        <const type="string" as="text" title="Значение">NULL</const>
      </select>
      <from>
        <table name="dual" as="dual" />
      </from>
    </query>
    <query name="form:proj45567_example" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Тип'</const>
                <const type="string" as="name">'type'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Дата испытания с'</const>
                <const>'dt_test'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
  </queries>
  <functions child-name="function" key-name="name" />
  <parts child-name="part" key-name="id">
    <part id="45567-r21-part" timestamp="29.12.2018 14:16:19" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <param name="rer" type="array">
        <call function="array">
          <const>1028</const>
          <const>1029</const>
          <const>1030</const>
          <const>1031</const>
          <const>1033</const>
          <const>1034</const>
          <const>1035</const>
          <const>1036</const>
          <const>1037</const>
          <const>1038</const>
          <const>1039</const>
          <const>1040</const>
          <const>1041</const>
          <const>1042</const>
          <const>1043</const>
          <const>1044</const>
          <const>1045</const>
          <const>1046</const>
          <const>1047</const>
          <const>1048</const>
          <const>1049</const>
          <const>1050</const>
          <const>1051</const>
          <const>1052</const>
          <const>1053</const>
          <const>1054</const>
        </call>
      </param>
      <param name="p_ym" type="number">
        <const>2017.12</const>
      </param>
    </part>
    <part id="45567-r21-withparams" timestamp="26.10.2018 16:31:37" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <useparam part="45567-r21-part" name="rer" />
      <useparam name="p_ym" />
    </part>
    <part id="45567-f035-part" timestamp="27.04.2019 17:25:22" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <param name="rer" type="number">
        <call function="array">
          <const>1028</const>
          <const>1029</const>
          <const>1030</const>
          <const>1031</const>
          <const>1033</const>
          <const>1034</const>
          <const>1035</const>
          <const>1036</const>
          <const>1037</const>
          <const>1038</const>
          <const>1039</const>
          <const>1040</const>
          <const>1041</const>
          <const>1042</const>
          <const>1043</const>
          <const>1044</const>
          <const>1045</const>
          <const>1046</const>
          <const>1047</const>
          <const>1048</const>
          <const>1049</const>
          <const>1050</const>
          <const>1051</const>
          <const>1052</const>
          <const>1053</const>
          <const>1054</const>
        </call>
      </param>
      <param name="p_d1" type="number">
        <const>2017.12</const>
      </param>
    </part>
    <part id="f021_dat_repair_end_between" timestamp="03.07.2020 12:57:04" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <call function="between">
        <column column="dat_repair_end" table="hr_otg_repair" />
        <call name="p_d1" function="ym begin time">
          <useparam name="p_d1" />
        </call>
        <call name="p_d1" function="ym end day">
          <useparam name="p_d1" />
        </call>
      </call>
    </part>
    <part id="45567-svod-part" timestamp="06.10.2021 11:43:45" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <param name="date_svod" type="date" />
    </part>
    <part id="45567-svod-withparams" timestamp="05.10.2021 16:29:06" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <useparam part="45567-svod-part" name="date_svod" />
    </part>
    <part id="proj45567_example_params" timestamp="22.10.2018 14:33:56" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml">
      <param name="type" type="array" />
      <param name="dt_test" type="date" />
    </part>
    <part id="proj45567_example_withparams" timestamp="22.10.2018 14:34:26" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml">
      <useparam name="type" />
      <useparam name="dt_test" />
    </part>
  </parts>
  <views child-name="view" key-name="id" />
  <reports child-name="report" key-name="name">
    <report name="45567-r21" title="Ф.7Н Отчет о выполненных ремонтах КЛ за месяц" timestamp="15.06.2020 13:53:05" form="45567-r21-form" mode="excel" is-report="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <print-templates>
        <excel>
          <template name="45567-r21-F7N.xlsx" title="Ф.7Н Отчет о выполненных ремонтах КЛ за месяц" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-r21-main" as="a">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
        <query name="45567-r21-summ" as="b">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
        <query name="45567-r21-isnull" as="c">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
        <query name="45567-r21-title" as="title">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="45567-f3" title="Форма 3 Сводка и расшифровка повреждений, классификация аварий и отказов в РЭР" timestamp="04.12.2020 15:14:14" form="45567-r21-form" mode="excel" is-report="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <print-templates>
        <excel>
          <template name="45567-F3Svod1.xlsx" title="Форма 3 Сводка и расшифровка повреждений, классификация аварий и отказов в РЭР" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-f3_t1" as="a">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
        <query name="45567-f3_t2" as="b">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
        <query name="45567-f3_t3" as="c">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
        <query name="45567-f3-title" as="title">
          <withparams>
            <useparam part="45567-r21-part" name="rer" />
            <useparam name="p_ym" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="45567-svod" title="Сводка на дату" timestamp="22.10.2021 17:05:24" form="45567-svod-form" mode="excel" nogrid="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="date_svod" type="date" />
      </params>
      <print-templates>
        <excel>
          <template name="45567-Svod.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка общая" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-svod-date" as="a">
          <withparams>
            <useparam part="45567-svod-part" name="date_svod" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="45567-svod-rer" title="Сводка на дату по РЭР" timestamp="22.10.2021 17:05:05" form="45567-svod-form" mode="excel" nogrid="1" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="date_svod" type="date" />
      </params>
      <print-templates>
        <excel>
          <template name="45567-Svod-rer.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка по РЭР" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-svod-date_rer" as="b">
          <withparams>
            <useparam part="45567-svod-part" name="date_svod" />
          </withparams>
          <call function="=">
            <column table="a" column="id_failure" />
            <column table="b" column="id_failure" />
          </call>
        </query>
      </queries>
    </report>
    <report name="proj45567_example" title="Пример отчета с join queries" mode="excel" visible="0" timestamp="23.10.2018 10:39:38" form="proj45567_example" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml">
      <params>
        <param name="type" type="array" />
        <param name="dt_test" type="date" />
      </params>
      <print-templates>
        <excel>
          <template name="proj45567_ex.xlsx" title="Пример отчета с join queries" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="hk_otg_equip_elem_param" as="a">
          <withparams>
            <useparam name="type" />
            <useparam name="dt_test" />
          </withparams>
        </query>
        <query name="hr_otg_repair_param" as="b">
          <withparams>
            <useparam name="type" />
            <useparam name="dt_test" />
          </withparams>
        </query>
      </queries>
    </report>
  </reports>
  <forms child-name="form" key-name="name">
    <form name="45567-r21-form" timestamp="26.10.2018 16:25:29" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <content>
        <field name="rer" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="number" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
          <listquery>
            <query name="hv_otg_rpdistrict" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict" />
          </defaultquery>
        </field>
        <fieldgroup title="Дата" as="Переод отчета">
          <field name="p_ym" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="Год.Месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml" column-mandatory="1">
            <listquery>
              <query name="spr_time_ym_1" />
            </listquery>
            <defaultquery>
              <query name="spr_time_ym_cur" />
            </defaultquery>
          </field>
        </fieldgroup>
      </content>
    </form>
    <form name="45567-svod-form" timestamp="05.10.2021 16:26:02" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <content>
        <field controlType="UICombo" type="date" timestamp="29.09.2021 21:53:41" title="На дату" name="date_svod" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml">
          <listquery>
            <query name="spr_date_svod" />
          </listquery>
          <defaultquery>
            <query name="spr_date_svod_cur" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="proj45567_example" timestamp="23.10.2018 10:39:42" file="sql.builder.templates\sql.builder\projects\proj45567\other\lugovykh.xml">
      <content>
        <field controlType="UICombo" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="type" title="Тип" show-checkbox="0" mandatory="1" edit-mask="d">
          <defaultquery />
          <listquery>
            <query name="hk_otg_equip_elem_types" />
          </listquery>
        </field>
        <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="dt_test" title="Дата испытания с" mandatory="1" show-checkbox="0" />
      </content>
    </form>
  </forms>
  <datatypes />
  <editors />
  <folders />
  <globalparams child-name="param" key-name="name">
    <param name="test_par1" timestamp="29.06.2018 18:06:14" file="sql.builder.templates\sql.builder\projects\proj45567\other\params.xml">
      <const>0</const>
    </param>
    <param name="PARAM_PR_SECRET" timestamp="05.07.2018 18:48:37" as="PARAM_PR_SECRET" type="number" file="sql.builder.templates\sql.builder\projects\proj45567\other\params.xml">
      <const type="string">0</const>
    </param>
  </globalparams>
  <!--<globalconsts child-name="globalconst" key-name="name">
  </globalconsts>-->
  <expression-packages child-name="expression-package" key-name="name" />
  <dimension-packages child-name="dimension-package" key-name="name" />
  <security-packages child-name="security-package" key-name="name" />
  <color-packages child-name="color-package" key-name="name" />
  <format-packages child-name="format-package" key-name="name" />
  <button-types child-name="button-type" key-name="name" />
  <!--раздел qlikview организовать по аналогии с остальными вместо qlikview/customer/@id   дать имена   qwprojects/qwproject/@customer-->
  <qvprojects />
  <!--<images>
    <image char="" name="link" />
    <image char="" name="dlink" rotate-flip="RotateNoneFlipY"/>
    <image char="" name="call"/>
    <image char="" name="column"/>
  </images>
  <eltypes>
    <eltype  name="vcall" image="call"/>
    <eltype  name="vlink" image="link"/>
    <eltype  name="vdink" image="dlink"/>
    <eltype  name="vcolumn" image="column"/>
  </eltypes>-->
  <fields child-name="field" key-name="id">
    <field id="field_RER" name="Район" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="number" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <listquery>
        <query name="hv_otg_rpdistrict" />
      </listquery>
      <defaultquery>
        <query name="hv_otg_rpdistrict" />
      </defaultquery>
    </field>
    <field id="year" name="year" controlType="UICombo" title="Год" type="number" timestamp="16.04.2018 17:49:12" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml">
      <listquery>
        <query name="spr_time_year" />
      </listquery>
      <defaultquery>
        <query name="spr_time_year_cur" />
      </defaultquery>
    </field>
    <field id="ym" name="p_ym" controlType="UICombo" type="number" timestamp="19.12.2018 18:45:02" title="год.месяц" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml">
      <listquery>
        <query name="spr_time_ym_1" />
      </listquery>
      <defaultquery>
        <query name="spr_time_ym_cur" />
      </defaultquery>
    </field>
    <field id="date_svod" controlType="UICombo" type="date" timestamp="29.09.2021 21:53:41" title="Сводка на дату" name="date_val" file="sql.builder.templates\sql.builder\projects\proj45567\other\param_fields.xml">
      <listquery>
        <query name="spr_date_svod" />
      </listquery>
      <defaultquery>
        <query name="spr_date_svod_cur" />
      </defaultquery>
    </field>
  </fields>
  <actions child-name="action" key-name="name" />
  <navigators child-name="navigator" key-name="name" />
  <projects child-name="project" key-name="name" />
</root>