<?xml version="1.0" encoding="utf-8"?>
<root timestamp="2025-07-10T22:24:15.1491259+03:00">
  <customers child-name="customer" key-name="id" />
  <queries child-name="query" key-name="name">
    <query name="va_acc_02_item" timestamp="14.12.2017 20:01:06" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_acc_o2_item.xml" haskeys="1">
      <select>
        <column table="a" column="kod_spr_detail" as="kod_acc_02_item" key="1" fixed="1" />
        <column table="a" column="num_pp" as="ord" key="0" />
        <column table="a" column="abbr" as="num" title="№" key="0" />
        <column table="a" column="name" as="name" key="0" />
      </select>
      <from>
        <query name="po_spr_detail" as="a" />
      </from>
      <where>
        <call function="=">
          <column table="a" column="prizn" />
          <const>9</const>
        </call>
      </where>
    </query>
    <query name="va_cb_acc_02_val" timestamp="22.11.2017 15:19:00" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_cb_acc_02_val.xml" haskeys="1">
      <select>
        <call function="||-" as="kod" key="0">
          <column table="this" column="kod_direct" />
          <column table="this" column="god" />
          <column table="this" column="mes" />
          <column table="this" column="kod_acc_02_item" />
        </call>
        <column table="va_acc_02_item" column="kod_acc_02_item" is-private-dimension="va_acc_02_item" is-final-dimension="va_acc_02_item" dimension="va_acc_02_item" as="kod_acc_02_item" key="1" fixed="1" />
        <column table="va_god" column="val" as="god" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" key="0" />
        <column table="va_mes" column="val" as="mes" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" key="0" />
        <column table="va_direct_main" column="kod_direct" as="kod_direct_main" is-private-dimension="va_direct_main" is-final-dimension="va_direct_main" dimension="va_direct_main" key="0" />
        <call function="case" as="p_val" type="number" is-fact="1" agg="sum" fact="va_cb_acc_002_p_val" title="План" key="0">
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>1</const>
            </call>
            <fact column="fact011a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>3</const>
            </call>
            <fact column="fact003a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>5</const>
            </call>
            <fact column="fact005a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>6</const>
            </call>
            <fact column="fact006a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>7</const>
            </call>
            <fact column="fact009a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>8</const>
            </call>
            <fact column="fact021a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>10</const>
            </call>
            <fact column="fact013a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>161</const>
            </call>
            <fact column="fact015a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>162</const>
            </call>
            <fact column="fact016a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>11</const>
            </call>
            <fact column="fact019a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>12</const>
            </call>
            <fact column="fact023a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>14</const>
            </call>
            <fact column="fact025a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>163</const>
            </call>
            <fact column="fact029a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>164</const>
            </call>
            <fact column="fact031a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>15</const>
            </call>
            <fact column="fact027a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>16</const>
            </call>
            <fact column="fact035a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>17</const>
            </call>
            <fact column="fact033a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>18</const>
            </call>
            <fact column="fact045a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>19</const>
            </call>
            <fact column="fact041a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>20</const>
            </call>
            <fact column="fact043a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>21</const>
            </call>
            <fact column="fact049a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>22</const>
            </call>
            <fact column="fact053a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>23</const>
            </call>
            <fact column="fact055a" />
          </call>
        </call>
        <call function="case" as="f_val" type="number" is-fact="1" agg="sum" fact="va_cb_acc_002_f_val" title="Факт" key="0">
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>1</const>
            </call>
            <fact column="fact012a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>3</const>
            </call>
            <fact column="fact004a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>5</const>
            </call>
            <fact column="fact007a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>6</const>
            </call>
            <fact column="fact008a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>7</const>
            </call>
            <fact column="fact010a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>8</const>
            </call>
            <fact column="fact022a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>10</const>
            </call>
            <fact column="fact014a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>161</const>
            </call>
            <fact column="fact017a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>162</const>
            </call>
            <fact column="fact018a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>11</const>
            </call>
            <fact column="fact020a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>12</const>
            </call>
            <fact column="fact024a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>14</const>
            </call>
            <fact column="fact026a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>163</const>
            </call>
            <fact column="fact030a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>164</const>
            </call>
            <fact column="fact032a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>15</const>
            </call>
            <fact column="fact028a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>16</const>
            </call>
            <fact column="fact036a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>18</const>
            </call>
            <fact column="fact046a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>17</const>
            </call>
            <fact column="fact034a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>19</const>
            </call>
            <fact column="fact042a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>20</const>
            </call>
            <fact column="fact044a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>21</const>
            </call>
            <fact column="fact050a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>22</const>
            </call>
            <fact column="fact054a" />
          </call>
          <call function="when">
            <call function="=">
              <column table="va_acc_02_item" column="kod_acc_02_item" />
              <const>23</const>
            </call>
            <fact column="fact056a" />
          </call>
        </call>
      </select>
      <from>
        <qube>
          <link name="va_god" />
          <link name="va_spr_dohod" />
          <link name="va_mes" />
          <link name="va_direct_main" />
        </qube>
        <query name="va_acc_02_item" join="left outer" as="va_acc_02_item" dname="va_cb_acc_02_val">
          <call function="is not null">
            <column table="va_acc_02_item" column="num" />
          </call>
        </query>
      </from>
    </query>
    <query name="va_cb_01a" timestamp="09.12.2017 21:12:21" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_cb_acc_02_val.xml">
      <expressions>
        <call function="and" as="is_earn_od" dontpushpred="1">
          <call function="not in">
            <call function="nvl0">
              <column table="va_direct" column="kod_podr" />
            </call>
            <call function="array">
              <const>6</const>
              <const>22</const>
            </call>
          </call>
          <call function="=1">
            <column table="va_spr_dohod" column="is_earn" />
          </call>
        </call>
        <call function="=" as="vid_en1" dontpushpred="1">
          <column table="va_vid_en" column="val" />
          <const>1</const>
        </call>
        <call function="=" as="vid_en2" dontpushpred="1">
          <column table="va_vid_en" column="val" />
          <const>2</const>
        </call>
        <call function="=" as="pf1" dontpushpred="1">
          <column table="va_pf" column="val" />
          <const>1</const>
        </call>
        <call function="=" as="pf0" dontpushpred="1">
          <column table="va_pf" column="val" />
          <const>0</const>
        </call>
        <call function="()" as="v001f" group="sum" type="number" title="ОД план">
          <fact column="va_dohod_val" condition="pf0" />
        </call>
        <call function="()" as="v002f" group="sum" type="number" title=" ОД факт">
          <fact column="va_dohod_val" condition="pf1" />
        </call>
        <call function="()" group="sum" type="number" as="v003f" title="ОД план доход">
          <fact column="v001f" condition="is_earn_od" />
        </call>
        <call function="()" group="sum" type="number" as="v004f" title="ОД факт доход">
          <fact column="v002f" condition="is_earn_od" />
        </call>
        <call function="()" as="v005f" group="sum" type="number" title="ОД план доход ЭЭ">
          <fact column="v003f" condition="vid_en2" />
        </call>
        <call function="()" as="v006f" group="sum" type="number" title="ОД план доход ТЭ">
          <fact column="v003f" condition="vid_en1" />
        </call>
        <call function="()" as="v007f" group="sum" type="number" title="ОД факт доход ЭЭ">
          <fact column="v004f" condition="vid_en2" />
        </call>
        <call function="()" as="v008f" group="sum" type="number" title="ОД факт доход ТЭ">
          <fact column="v004f" condition="vid_en1" />
        </call>
      </expressions>
      <select>
        <column table="va_god" column="val" as="god" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" part-id="va_cb_cols1" />
        <column table="va_mes" column="val" as="mes" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" part-id="va_cb_cols1" />
        <column table="va_direct_main" column="kod_direct" as="kod_direct_main" is-private-dimension="va_direct_main" is-final-dimension="va_direct_main" dimension="va_direct_main" part-id="va_cb_cols1" />
        <column table="va_direct" column="kod_direct" is-private-dimension="va_direct" is-final-dimension="va_direct" dimension="va_direct" part-id="va_cb_cols1" as="kod_direct" />
        <column table="va_direct_main_all" column="kod_direct" as="kod_direct_main_all" is-private-dimension="va_direct_main_all" is-final-dimension="va_direct_main_all" dimension="va_direct_main_all" part-id="va_cb_cols1" />
        <column table="va_dir_struct_type" column="kod_dir_struct_type" as="kod_dir_struct_type" is-private-dimension="va_dir_struct_type" is-final-dimension="va_dir_struct_type" dimension="va_dir_struct_type" part-id="va_cb_cols1" />
        <fact column="v001f" as="fact001a" fact="fact001a" agg="sum" is-fact-use="1" />
        <fact column="v002f" as="fact002a" fact="fact002a" agg="sum" is-fact-use="1" />
        <fact column="v003f" as="fact003a" fact="fact003a" agg="sum" is-fact-use="1" />
        <fact column="v004f" as="fact004a" fact="fact004a" agg="sum" is-fact-use="1" />
        <fact column="v005f" as="fact005a" fact="fact005a" agg="sum" is-fact-use="1" />
        <fact column="v006f" as="fact006a" fact="fact006a" agg="sum" is-fact-use="1" />
        <fact column="v007f" as="fact007a" fact="fact007a" agg="sum" is-fact-use="1" />
        <fact column="v008f" as="fact008a" fact="fact008a" agg="sum" is-fact-use="1" />
      </select>
      <from>
        <qube part-id="va_cb_from1">
          <link name="va_god" />
          <link name="va_mes" />
          <link name="va_direct_main" />
          <link name="va_direct_main_all" />
          <link name="va_direct" />
          <link name="va_dir_struct_type" />
        </qube>
      </from>
    </query>
    <query name="va_cb_02a" timestamp="27.11.2017 21:39:16" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_cb_acc_02_val.xml">
      <expressions>
        <call function="=1" as="is_root_earn" dontpushpred="1" part-id="va_cb_exp_cond1">
          <column table="va_spr_smet" column="is_root_earn" />
        </call>
        <call function="and" as="is_root_spend_od" dontpushpred="1" part-id="va_cb_exp_cond1">
          <call function="=1">
            <column table="va_spr_smet_main" column="is_root_spend_od" />
          </call>
          <call function="not in">
            <call function="nvl0">
              <column table="va_direct" column="kod_podr" />
            </call>
            <call function="array">
              <const>6</const>
              <const>22</const>
            </call>
          </call>
        </call>
        <call function="=1" as="is_root_spend_nd" dontpushpred="1" part-id="va_cb_exp_cond1">
          <column table="va_spr_smet_main" column="is_root_spend_nd" />
        </call>
        <call function="=1" as="is_root_earn_prc" dontpushpred="1" part-id="va_cb_exp_cond1">
          <column table="va_spr_smet_main" column="is_root_earn_prc" />
        </call>
        <call function="=1" as="is_root_spend_prc" dontpushpred="1" part-id="va_cb_exp_cond1">
          <column table="va_spr_smet_main" column="is_root_spend_prc" />
        </call>
        <call function="=1" as="is_root_earn_othr" dontpushpred="1" part-id="va_cb_exp_cond1">
          <column table="va_spr_smet_main" column="is_root_earn_othr" />
        </call>
        <call function="=1" as="is_root_spend_othr" dontpushpred="1" part-id="va_cb_exp_cond1">
          <column table="va_spr_smet_main" column="is_root_spend_othr" />
        </call>
        <call function="=1" as="is_root_amort_od" dontpushpred="1" part-id="va_cb_exp_cond1">
          <column table="va_spr_smet_main" column="is_root_amort_od" />
        </call>
        <call function="()" as="v009f" group="sum" type="number" title="НД план доход">
          <fact column="va_plan_smet_f_val" condition="is_root_earn" />
        </call>
        <call function="()" as="v013f" group="sum" type="number" title="ОД план расход">
          <fact column="va_plan_smet_val" condition="is_root_spend_od" />
        </call>
        <call function="()" as="v015f" group="sum" type="number" title="ОД план расход ЭЭ">
          <fact column="va_plan_smet_vale" condition="is_root_spend_od" />
        </call>
        <call function="()" as="v016f" group="sum" type="number" title="ОД план расход ТЭ">
          <fact column="va_plan_smet_valt" condition="is_root_spend_od" />
        </call>
        <call function="()" as="v019f" group="sum" type="number" title="НД план расход">
          <fact column="va_plan_smet_f_val" condition="is_root_spend_nd" />
        </call>
        <call function="()" as="v033f" group="sum" type="number" title="проценты план расход">
          <fact column="va_plan_smet_f_val" condition="is_root_spend_prc" />
        </call>
        <call function="()" as="v035f" group="sum" type="number" title="проценты план доход">
          <fact column="va_plan_smet_f_val" condition="is_root_earn_prc" />
        </call>
        <call function="()" as="v037f" group="sum" type="number" title="прочие план расход">
          <fact column="va_plan_smet_f_val" condition="is_root_spend_othr" />
        </call>
        <call function="()" as="v039f" group="sum" type="number" title="прочие план доход">
          <fact column="va_plan_smet_f_val" condition="is_root_earn_othr" />
        </call>
        <call function="()" as="v057f" group="sum" type="number" title="ОД план амортизация расход">
          <fact column="va_plan_smet_f_val" condition="is_root_amort_od" />
        </call>
      </expressions>
      <select>
        <column table="va_god" column="val" as="god" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" />
        <column table="va_mes" column="val" as="mes" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" />
        <column table="va_direct_main" column="kod_direct" as="kod_direct_main" is-private-dimension="va_direct_main" is-final-dimension="va_direct_main" dimension="va_direct_main" />
        <column table="va_direct" column="kod_direct" is-private-dimension="va_direct" is-final-dimension="va_direct" dimension="va_direct" as="kod_direct" />
        <column table="va_direct_main_all" column="kod_direct" as="kod_direct_main_all" is-private-dimension="va_direct_main_all" is-final-dimension="va_direct_main_all" dimension="va_direct_main_all" />
        <column table="va_dir_struct_type" column="kod_dir_struct_type" as="kod_dir_struct_type" is-private-dimension="va_dir_struct_type" is-final-dimension="va_dir_struct_type" dimension="va_dir_struct_type" />
        <fact column="v009f" as="fact009a" fact="fact009a" agg="sum" is-fact-use="1" />
        <fact column="v013f" as="fact013a" fact="fact013a" agg="sum" is-fact-use="1" />
        <fact column="v015f" as="fact015a" fact="fact015a" agg="sum" is-fact-use="1" />
        <fact column="v016f" as="fact016a" fact="fact016a" agg="sum" is-fact-use="1" />
        <fact column="v019f" as="fact019a" fact="fact019a" agg="sum" is-fact-use="1" />
        <fact column="v033f" as="fact033a" fact="fact033a" agg="sum" is-fact-use="1" />
        <fact column="v035f" as="fact035a" fact="fact035a" agg="sum" is-fact-use="1" />
        <fact column="v037f" as="fact037a" fact="fact037a" agg="sum" is-fact-use="1" />
        <fact column="v039f" as="fact039a" fact="fact039a" agg="sum" is-fact-use="1" />
        <fact column="v057f" as="fact057a" fact="fact057a" agg="sum" is-fact-use="1" />
      </select>
      <from>
        <qube>
          <link name="va_god" />
          <link name="va_mes" />
          <link name="va_direct_main" />
          <link name="va_direct_main_all" />
          <link name="va_direct" />
          <link name="va_dir_struct_type" />
        </qube>
      </from>
    </query>
    <query name="va_cb_03a" timestamp="21.11.2017 19:08:46" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_cb_acc_02_val.xml">
      <expressions>
        <call function="=1" as="is_root_earn" dontpushpred="1">
          <column table="va_spr_smet" column="is_root_earn" />
        </call>
        <call function="and" as="is_root_spend_od" dontpushpred="1">
          <call function="=1">
            <column table="va_spr_smet_main" column="is_root_spend_od" />
          </call>
          <call function="not in">
            <call function="nvl0">
              <column table="va_direct" column="kod_podr" />
            </call>
            <call function="array">
              <const>6</const>
              <const>22</const>
            </call>
          </call>
        </call>
        <call function="=1" as="is_root_spend_nd" dontpushpred="1">
          <column table="va_spr_smet_main" column="is_root_spend_nd" />
        </call>
        <call function="=1" as="is_root_earn_prc" dontpushpred="1">
          <column table="va_spr_smet_main" column="is_root_earn_prc" />
        </call>
        <call function="=1" as="is_root_spend_prc" dontpushpred="1">
          <column table="va_spr_smet_main" column="is_root_spend_prc" />
        </call>
        <call function="=1" as="is_root_earn_othr" dontpushpred="1">
          <column table="va_spr_smet_main" column="is_root_earn_othr" />
        </call>
        <call function="=1" as="is_root_spend_othr" dontpushpred="1">
          <column table="va_spr_smet_main" column="is_root_spend_othr" />
        </call>
        <call function="=1" as="is_root_amort_od" dontpushpred="1">
          <column table="va_spr_smet_main" column="is_root_amort_od" />
        </call>
        <call function="()" as="v010f" group="sum" type="number" title="НД факт доход">
          <fact column="va_smet_vvod_val" condition="is_root_earn" />
        </call>
        <call function="()" as="v014f" group="sum" type="number" title="ОД факт расход">
          <fact column="va_smet_vvod_val" condition="is_root_spend_od" />
        </call>
        <call function="()" as="v017f" group="sum" type="number" title="ОД факт расход ЭЭ">
          <fact column="va_smet_vvod_vale" condition="is_root_spend_od" />
        </call>
        <call function="()" as="v018f" group="sum" type="number" title="ОД факт расходТЭ">
          <fact column="va_smet_vvod_valt" condition="is_root_spend_od" />
        </call>
        <call function="()" as="v020f" group="sum" type="number" title="НД факт расход">
          <fact column="va_smet_vvod_val" condition="is_root_spend_nd" />
        </call>
        <call function="()" as="v034f" group="sum" type="number" title="проценты факт расход">
          <fact column="va_smet_vvod_val" condition="is_root_spend_prc" />
        </call>
        <call function="()" as="v036f" group="sum" type="number" title="проценты факт доход">
          <fact column="va_smet_vvod_val" condition="is_root_earn_prc" />
        </call>
        <call function="()" as="v038f" group="sum" type="number" title="прочие факт расход">
          <fact column="va_smet_vvod_val" condition="is_root_spend_othr" />
        </call>
        <call function="()" as="v040f" group="sum" type="number" title="прочие факт доход">
          <fact column="va_smet_vvod_val" condition="is_root_earn_othr" />
        </call>
      </expressions>
      <select>
        <column table="va_god" column="val" as="god" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" />
        <column table="va_mes" column="val" as="mes" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" />
        <column table="va_direct_main" column="kod_direct" as="kod_direct_main" is-private-dimension="va_direct_main" is-final-dimension="va_direct_main" dimension="va_direct_main" />
        <column table="va_direct" column="kod_direct" is-private-dimension="va_direct" is-final-dimension="va_direct" dimension="va_direct" as="kod_direct" />
        <column table="va_direct_main_all" column="kod_direct" as="kod_direct_main_all" is-private-dimension="va_direct_main_all" is-final-dimension="va_direct_main_all" dimension="va_direct_main_all" />
        <column table="va_dir_struct_type" column="kod_dir_struct_type" as="kod_dir_struct_type" is-private-dimension="va_dir_struct_type" is-final-dimension="va_dir_struct_type" dimension="va_dir_struct_type" />
        <fact column="v010f" as="fact010a" fact="fact010a" agg="sum" is-fact-use="1" />
        <fact column="v014f" as="fact014a" fact="fact014a" agg="sum" is-fact-use="1" />
        <fact column="v017f" as="fact017a" fact="fact017a" agg="sum" is-fact-use="1" />
        <fact column="v018f" as="fact018a" fact="fact018a" agg="sum" is-fact-use="1" />
        <fact column="v020f" as="fact020a" fact="fact020a" agg="sum" is-fact-use="1" />
        <fact column="v034f" as="fact034a" fact="fact034a" agg="sum" is-fact-use="1" />
        <fact column="v036f" as="fact036a" fact="fact036a" agg="sum" is-fact-use="1" />
        <fact column="v038f" as="fact038a" fact="fact038a" agg="sum" is-fact-use="1" />
        <fact column="v040f" as="fact040a" fact="fact040a" agg="sum" is-fact-use="1" />
      </select>
      <from>
        <qube>
          <link name="va_god" />
          <link name="va_mes" />
          <link name="va_direct_main" />
          <link name="va_direct_main_all" />
          <link name="va_direct" />
          <link name="va_dir_struct_type" />
        </qube>
      </from>
    </query>
    <query name="va_cb_04a" timestamp="21.11.2017 19:01:34" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_cb_acc_02_val.xml">
      <expressions>
        <call function="=" as="is_acc_02_22" dontpushpred="1">
          <column table="va_acc_02_item" column="kod_acc_02_item" />
          <const>22</const>
        </call>
        <call function="()" as="v051f" group="sum" type="number" title="Добавка к налогу на прибыль план">
          <fact column="va_acc_02_ext_val_f" condition="is_acc_02_22" />
        </call>
        <call function="()" as="v052f" group="sum" type="number" title="Добавка к налогу на прибыль факт">
          <fact column="va_acc_02_ext_val_f" condition="is_acc_02_22" />
        </call>
      </expressions>
      <select>
        <column table="va_god" column="val" as="god" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" />
        <column table="va_mes" column="val" as="mes" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" />
        <column table="va_direct_main" column="kod_direct" as="kod_direct_main" is-private-dimension="va_direct_main" is-final-dimension="va_direct_main" dimension="va_direct_main" />
        <column table="va_direct" column="kod_direct" is-private-dimension="va_direct" is-final-dimension="va_direct" dimension="va_direct" as="kod_direct" />
        <column table="va_direct_main_all" column="kod_direct" as="kod_direct_main_all" is-private-dimension="va_direct_main_all" is-final-dimension="va_direct_main_all" dimension="va_direct_main_all" />
        <column table="va_dir_struct_type" column="kod_dir_struct_type" as="kod_dir_struct_type" is-private-dimension="va_dir_struct_type" is-final-dimension="va_dir_struct_type" dimension="va_dir_struct_type" />
        <fact column="v051f" as="fact051a" fact="fact051a" agg="sum" is-fact-use="1" />
        <fact column="v052f" as="fact052a" fact="fact052a" agg="sum" is-fact-use="1" />
      </select>
      <from>
        <qube>
          <link name="va_god" />
          <link name="va_mes" />
          <link name="va_direct_main" />
          <link name="va_direct_main_all" />
          <link name="va_direct" />
          <link name="va_dir_struct_type" />
        </qube>
      </from>
    </query>
    <query name="va_acc_02_ext_val" class="1" timestamp="22.11.2017 15:18:58" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_dob_sum.xml" haskeys="1">
      <select>
        <column table="a" column="kod_dob_sum" type="number" as="kod_dob_sum" key="1" fixed="1" />
        <column table="a" column="mes" type="number" title="" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" as="mes" key="0" />
        <column table="a" column="god" type="number" title="" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" as="god" key="0" />
        <column table="a" column="kod_spr_detail" type="number" as="kod_acc_02_item" key="0" />
        <column table="a" column="sum_dob" type="number" title="" comment="сумма по факту" as="val_f" is-fact="1" agg="sum" fact="va_acc_02_ext_val_f" key="0" />
        <column table="a" column="kod_direct" type="number" is-private-dimension="va_direct" is-final-dimension="va_direct" dimension="va_direct" as="kod_direct" key="0" />
        <column table="a" column="kod_direct" type="number" is-private-dimension="va_direct_main" is-final-dimension="va_direct_main" dimension="va_direct_main" as="kod_direct_main" key="0" />
        <column table="a" column="pr_go" type="number" title="" comment="город-0,область-1,общее-2" as="pr_go" key="0" />
        <column table="a" column="pr_gm" type="number" title="" comment="ген.мощности: 0-все, 1-ТЭЦ, 2-ГЭС" as="pr_gm" key="0" />
        <column table="a" column="sum_dob_p" type="number" title="" comment="сумма по плану" as="val_p" is-fact="1" agg="sum" fact="va_acc_02_ext_val_p" key="0" />
      </select>
      <from>
        <query name="po_dob_sum" as="a" />
        <query name="va_acc_02_item" as="kod_spr_detail" join="left outer" is-private-dimension="1" is-final-dimension="1" dimension="1" dname="va_acc_02_ext_val">
          <call function="=">
            <column table="this" column="kod_acc_02_item" />
            <column table="kod_spr_detail" column="kod_acc_02_item" />
          </call>
        </query>
      </from>
    </query>
    <query name="va_plan_smet_f" timestamp="14.12.2017 21:42:52" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_plan_smet.xml" haskeys="1">
      <select>
        <call function="||-" as="kod" key="1">
          <column table="a" column="kod_plan_smet" type="number" />
          <column table="a" column="mes" />
        </call>
        <column table="a" column="kod_direct" type="number" as="kod_direct" />
        <column table="a" column="kod_spr_smet" type="number" as="kod_spr_smet" reference="va_spr_smet" refcol="kod_spr_smet" />
        <column table="a" column="god" type="number" title="" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" as="god" />
        <column table="a" column="mes" type="number" title="" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" as="mes" />
        <column table="a" column="val" type="number" title="" is-fact="1" agg="sum" as="val" fact="va_plan_smet_f_val" />
        <column table="a" column="vale" type="number" title="" is-fact="1" agg="sum" as="vale" fact="va_plan_smet_f_vale" />
        <call function="-nvl" as="valt" is-fact="1" agg="sum" fact="va_plan_smet_f_valt">
          <column table="this" column="val" />
          <column table="this" column="vale" />
        </call>
      </select>
      <from>
        <query name="is_plan_smet_x" as="a" />
        <query name="va_direct" as="kod_direct" join="left inner" is-private-dimension="1" is-final-dimension="1" dimension="1" dname="va_plan_smet_f" title="Подразделение">
          <call function="=">
            <column table="a" column="kod_direct" />
            <column table="kod_direct" column="kod_direct" />
          </call>
        </query>
        <query name="va_spr_smet" as="kod_spr_smet" join="left inner" is-private-dimension="1" is-final-dimension="1" dimension="1" dname="va_plan_smet_f">
          <call function="=">
            <column table="a" column="kod_spr_smet" />
            <column table="kod_spr_smet" column="kod_spr_smet" />
          </call>
        </query>
      </from>
      <links>
        <link name="kod_direct">
          <dlink name="va_direct_dir_fact">
            <link name="kod_direct" is-private-dimension="1" is-final-dimension="1" dimension="1" />
          </dlink>
        </link>
        <dlink name="va_spr_smet_smet">
          <link name="kod_spr_smet" is-private-dimension="1" is-final-dimension="1" dimension="1" />
        </dlink>
      </links>
    </query>
    <query name="va_spr_smet_list1" timestamp="14.12.2017 22:13:26" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\va_spr_smet.xml" haskeys="1">
      <select>
        <column table="a" column="kod_spr_smet" key="1" as="kod_spr_smet" />
        <column table="a" column="full_name" as="full_name" />
        <column table="a" column="kod_parent" title="-" as="kod_parent" />
      </select>
      <from>
        <query name="va_spr_smet" as="a" />
      </from>
    </query>
    <query name="va_direct_dir_plan" timestamp="14.12.2017 19:37:28" title="Подразделение" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\vs_dep.xml" haskeys="1">
      <select>
        <call function="connect_by_root" as="kod_direct" key="0">
          <column table="a" column="kod_direct" />
        </call>
        <column table="a" column="kod_direct" as="kod_direct_cld" key="1" fixed="1" />
      </select>
      <from>
        <query name="is_spr_direct" as="a" />
        <query name="va_direct_main" as="kod_direct" join="left outer" dname="va_direct_dir_plan">
          <call function="=">
            <column table="this" column="kod_direct" />
            <column table="kod_direct" column="kod_direct" />
          </call>
        </query>
        <query name="va_direct" as="kod_direct_cld" join="left outer" dname="va_direct_dir_plan" title="Подразделение">
          <call function="=">
            <column table="this" column="kod_direct_cld" />
            <column table="kod_direct_cld" column="kod_direct" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="not in">
            <call function="nvl0">
              <column table="a" column="kod_spr_doc" />
            </call>
            <call function="array">
              <const>136</const>
              <const>137</const>
              <const>158</const>
              <const>90</const>
            </call>
          </call>
        </call>
      </where>
      <connect>
        <call function="=">
          <column table="a" column="kod_direct" prior="1" />
          <column table="a" column="kod_parent_i" />
        </call>
      </connect>
    </query>
    <query name="va_direct_dir_planf" timestamp="14.12.2017 19:37:51" title="Подразделение" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\vs_dep.xml" haskeys="1">
      <select>
        <column table="a" column="kod_direct" as="kod_direct" key="0" />
        <column table="a" column="kod_direct_cld" as="kod_direct_cld" key="1" fixed="1" />
      </select>
      <from>
        <query name="va_direct_dir_fact" as="a" title="Подразделение" />
        <query name="va_direct_main" as="kod_direct" join="left outer" dname="va_direct_dir_planf">
          <call function="=">
            <column table="this" column="kod_direct" />
            <column table="kod_direct" column="kod_direct" />
          </call>
        </query>
        <query name="va_direct" as="kod_direct_cld" join="left outer" dname="va_direct_dir_planf" title="Подразделение">
          <call function="=">
            <column table="this" column="kod_direct_cld" />
            <column table="kod_direct_cld" column="kod_direct" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="not in">
            <call function="nvl0">
              <column table="a" column="kod_spr_doc" />
            </call>
            <call function="array">
              <const>136</const>
              <const>137</const>
              <const>158</const>
              <const>90</const>
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="va_direct_in_filial" timestamp="14.12.2017 19:38:12" title="Подразделение" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\vs_dep.xml" haskeys="1">
      <select>
        <column table="a" column="kod_direct" as="kod_direct" key="1" fixed="1" />
        <call function="connect_by_root" as="kod_filial" key="0">
          <column table="a" column="kod_direct" />
        </call>
      </select>
      <from>
        <query name="is_spr_direct" as="a" />
      </from>
      <connect>
        <call function="=">
          <column table="a" column="kod_direct" prior="1" />
          <column table="a" column="kod_parent" />
        </call>
      </connect>
      <start>
        <call function="in">
          <column table="a" column="kod_direct" />
          <call function="array">
            <const>351</const>
            <const>327</const>
            <const>317</const>
            <const>311</const>
            <const>352</const>
          </call>
        </call>
      </start>
    </query>
    <query name="va_direct_dir_fact" timestamp="14.12.2017 19:39:33" title="Подразделение" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\vs_dep.xml" haskeys="1">
      <select>
        <call function="connect_by_root" as="kod_direct" key="0">
          <column table="a" column="kod_direct" />
        </call>
        <column table="a" column="kod_direct" as="kod_direct_cld" key="1" fixed="1" />
        <column table="a" column="kod_spr_doc" as="kod_spr_doc" key="0" />
      </select>
      <from>
        <query name="is_spr_direct" as="a" />
        <query name="va_direct_main" as="kod_direct" join="left outer" dname="va_direct_dir_fact">
          <call function="=">
            <column table="this" column="kod_direct" />
            <column table="kod_direct" column="kod_direct" />
          </call>
        </query>
        <query name="va_direct" as="kod_direct_cld" join="left outer" dname="va_direct_dir_fact" title="Подразделение">
          <call function="=">
            <column table="this" column="kod_direct_cld" />
            <column table="kod_direct_cld" column="kod_direct" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="not in">
            <call function="nvl0">
              <column table="a" column="kod_spr_doc" />
            </call>
            <call function="array">
              <const>136</const>
              <const>137</const>
            </call>
          </call>
        </call>
      </where>
      <connect>
        <call function="=">
          <column table="a" column="kod_direct" prior="1" />
          <column table="a" column="kod_parent_i" />
        </call>
      </connect>
    </query>
    <query name="va_filial" timestamp="14.12.2017 21:37:07" title="Подразделение" class="1" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\extension\vs_dep.xml" haskeys="1">
      <select>
        <column table="a" column="kod_direct" key="1" as="kod_filial" />
        <column table="a" column="name" is-name="1" vid="1" as="name" />
      </select>
      <from>
        <query name="va_direct" as="a" title="Подразделение" />
        <query name="va_acc_k422_item" as="va_acc_k422_item" join="left outer" dname="va_filial" title="Строки отчета k422">
          <call function="true" />
        </query>
      </from>
      <where>
        <call function="in" part-id="va_filial_kod_direct_cond">
          <column table="a" column="kod_direct" />
          <call function="array">
            <const>351</const>
            <const>327</const>
            <const>317</const>
            <const>311</const>
            <const>352</const>
          </call>
        </call>
      </where>
      <links>
        <dlink name="va_acc_k422_item" is-private-dimension="1" is-final-dimension="1" dimension="1" />
      </links>
    </query>
    <query name="po_v_dir_range" class="1" timestamp="04.12.2017 21:37:53" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\original\po_v_dir_range.xml" haskeys="1">
      <select>
        <column table="a" column="kod_direct" type="number" key="1" as="kod_direct" />
        <column table="a" column="row_" type="number" title="" as="row_" />
        <column table="a" column="name" type="string" title="Наименование" as="name" />
        <column table="a" column="kod_spr_doc" type="number" as="kod_spr_doc" />
        <column table="a" column="kod_podr" type="number" as="kod_podr" />
        <column table="a" column="kod_podr_direct" type="number" as="kod_podr_direct" />
        <column table="a" column="filial" type="number" title="" as="filial" />
        <column table="a" column="vir" type="number" title="" as="vir" />
        <column table="a" column="god" type="number" title="" as="god" />
        <column table="a" column="last_range" type="number" title="" as="last_range" />
        <column table="a" column="fil" type="number" title="" as="fil" />
        <column table="a" column="name_kr" type="string" title="" as="name_kr" />
        <column table="a" column="kod_parent" type="number" as="kod_parent" />
        <call function="trim" as="name_orig">
          <column table="kod_direct" column="name" />
        </call>
        <call function="if" as="is_real" type="number">
          <call function="is not null">
            <column table="kod_direct" column="kod_direct" />
          </call>
          <const>1</const>
        </call>
        <call function="if" as="namex" type="string" is-name="1">
          <call function="=">
            <column table="a" column="kod_direct" />
            <const>0</const>
          </call>
          <const>'ТГК-1'</const>
          <column table="this" column="name_orig" title="Подразделение" is-name="1" vid="1" />
        </call>
        <call function="if" as="parent_id" type="number" title="-">
          <call function="and">
            <call function="!=0">
              <column table="a" column="kod_direct" />
              <const>0</const>
            </call>
            <call function="is null">
              <column table="a" column="kod_parent" />
            </call>
          </call>
          <const>0</const>
          <column table="a" column="kod_parent" title="Подразделение" is-name="1" vid="1" />
        </call>
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="po_v_dir_range" as="a" />
        <query name="is_spr_direct" as="kod_direct" join="left outer" dname="po_v_dir_range">
          <call function="=">
            <column table="a" column="kod_direct" />
            <column table="kod_direct" column="kod_direct" />
          </call>
        </query>
      </from>
    </query>
    <query name="va_pwr_set" timestamp="19.12.2017 16:16:49" class="1" title="Установленная мощность" comment="Установленная мощность" file="sql.builder.templates\sql.builder\projects\mped_old\scheme\original\va_pwr_set.xml" haskeys="1">
      <select>
        <column table="a" column="kod_va_pwr_set" type="number" key="1" as="kod_va_pwr_set" />
        <column table="a" type="number" column="kod_direct" as="kod_direct" reference="va_direct" refcol="kod_direct" />
        <column table="a" column="god" type="number" title="" is-private-dimension="va_god" is-final-dimension="va_god" dimension="va_god" as="god" />
        <column table="a" column="mes" type="number" title="" is-private-dimension="va_mes" is-final-dimension="va_mes" dimension="va_mes" as="mes" />
        <column table="a" type="number" column="is_plan" as="is_plan" />
        <column table="a" type="number" column="val" is-fact="1" agg="sum" as="val" fact="va_pwr_set_val" />
        <call function="if" as="val_p" type="number" is-fact="1" agg="sum" fact="va_pwr_set_val_p">
          <call function="=0">
            <column table="this" column="is_plan" />
          </call>
          <column table="this" column="val" />
        </call>
        <call function="if" as="val_f" type="number" is-fact="1" agg="sum" fact="va_pwr_set_val_f">
          <call function="=1">
            <column table="this" column="is_plan" />
          </call>
          <column table="this" column="val" />
        </call>
        <call function="if" as="ym_min" is-fact="1" agg="min" type="number" fact="va_pwr_set_ym_min">
          <call function="between">
            <column table="this" column="mes" />
            <const>1</const>
            <const>12</const>
          </call>
          <call function="num to ym2">
            <column table="this" column="god" />
            <column table="this" column="mes" />
          </call>
        </call>
        <call function="if" as="ym_max" is-fact="1" agg="max" type="number" fact="va_pwr_set_ym_max">
          <call function="between">
            <column table="this" column="mes" />
            <const>1</const>
            <const>12</const>
          </call>
          <call function="num to ym2">
            <column table="this" column="god" />
            <column table="this" column="mes" />
          </call>
        </call>
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="va_pwr_set" as="a" title="Установленная мощность">
          <link name="kod_direct" is-private-dimension="1" is-final-dimension="1" dimension="1" as="kod_direct" table="va_direct" child="va_pwr_set" field="kod_direct" parent="va_direct" back="va_pwr_set" title="Подразделение">
            <dlink name="va_direct_dir_str_app_01" as="va_direct_dir_str_app_01">
              <link name="kod_direct_dir_str_app" as="kod_direct_dir_str_app">
                <link name="kod_direct" is-private-dimension="1" is-final-dimension="1" dimension="1" as="kod_direct">
                  <dimlink name="va_direct_mm_all" is-private-dimension="1" is-final-dimension="1" dimension="1" />
                </link>
              </link>
            </dlink>
            <dimlink name="va_direct_main_all" is-private-dimension="1" is-final-dimension="1" dimension="1" />
          </link>
        </table>
        <query name="va_direct" as="kod_direct" join="left inner" dname="va_pwr_set" title="Подразделение">
          <call function="=">
            <column table="a" column="kod_direct" />
            <column table="kod_direct" column="kod_direct" />
          </call>
        </query>
      </from>
    </query>
    <query name="va_test" timestamp="22.11.2017 15:18:56" title="Тест" is-report="1" order="ord" can-use-simple-params="1" file="sql.builder.templates\sql.builder\projects\mped_old\test\vr_test.xml">
      <params>
        <param name="p_kod_direct1" controlType="UICombo" title="Подразделение" expand-all="1" type="number" timestamp="16.08.2019 18:13:45" parent-field-name="parent_id" comment="Подразделение (единичный выбор)" file="sql.builder.templates\sql.builder\projects\mped\fields\fields.xml" />
        <param name="p_god" controlType="UICombo" title="Год" type="number" timestamp="14.12.2017 21:37:27" comment="Год" file="sql.builder.templates\sql.builder\projects\mped\fields\fields.xml" />
        <param name="p_mes1" controlType="UICombo" title="C" type="number" comment="Месяц" timestamp="14.12.2017 21:37:34" file="sql.builder.templates\sql.builder\projects\mped\fields\fields.xml" />
        <param name="p_mes2" controlType="UICombo" title="По" type="number" comment="Месяц" timestamp="14.12.2017 21:37:34" file="sql.builder.templates\sql.builder\projects\mped\fields\fields.xml" />
      </params>
      <content>
        <usefield field="va_direct1" />
        <usefield field="va_god" />
        <fieldgroup title="Месяц">
          <usefield field="va_mes" name="p_mes1" title="C" />
          <usefield field="va_mes" name="p_mes2" title="По" />
        </fieldgroup>
      </content>
      <select>
        <column table="va_acc_02_item" column="kod_acc_02_item" as="kod_acc_02_item" />
        <column table="va_acc_02_item" column="ord" as="ord" />
        <column table="va_acc_02_item" column="num" halign="right" as="num" />
        <column table="va_acc_02_item" column="name" as="name" />
        <fact column="va_cb_acc_002_p_val" table="a" as="va_cb_acc_002_p_val" is-fact-use="1" />
        <fact column="va_cb_acc_002_f_val" table="a" title="Факт" as="va_cb_acc_002_f_val" is-fact-use="1" />
      </select>
      <from>
        <qube>
          <dimset as="a">
            <link name="va_god" />
            <link name="va_mes" />
            <link name="va_direct_main" />
            <where>
              <call function="=">
                <column table="va_god" column="val" />
                <useparam name="p_god" />
              </call>
              <call function="ge" optional="1">
                <column table="va_mes" column="val" />
                <useparam name="p_mes1" />
              </call>
              <call function="le" optional="1">
                <column table="va_mes" column="val" />
                <useparam name="p_mes2" />
              </call>
              <call optional="1" function="in">
                <column table="va_direct_main" column="kod_direct" />
                <useparam name="p_kod_direct1" />
              </call>
            </where>
          </dimset>
          <link name="va_acc_02_item" all-rows="1" />
        </qube>
      </from>
      <order>
        <column column="ord" />
      </order>
    </query>
  </queries>
  <functions child-name="function" key-name="name" />
  <parts child-name="part" key-name="id" />
  <views child-name="view" key-name="id" />
  <reports child-name="report" key-name="name" />
  <forms child-name="form" key-name="name" />
  <datatypes />
  <editors />
  <folders />
  <globalparams child-name="param" key-name="name" />
  <!--<globalconsts child-name="globalconst" key-name="name">
  </globalconsts>-->
  <expression-packages child-name="expression-package" key-name="name">
    <expression-package name="va_001" timestamp="14.12.2017 20:00:30" file="sql.builder.templates\sql.builder\projects\mped_old\cube\va_001_expr.xml">
      <call function="+nvl" group="sum" as="fact011a" title="план доход">
        <fact column="fact003a" />
        <fact column="fact009a" />
      </call>
      <call function="+nvl" group="sum" as="fact012a" title="факт доход">
        <fact column="fact004a" />
        <fact column="fact010a" />
      </call>
      <call function="+nvl" group="sum" as="fact021a" title="план расход">
        <fact column="fact013a" />
        <fact column="fact019a" />
      </call>
      <call function="+nvl" group="sum" as="fact022a" title="факт расход">
        <fact column="fact014a" />
        <fact column="fact020a" />
      </call>
      <call function="-nvl" group="sum" as="fact023a" title="план валовая прибыль">
        <fact column="fact011a" />
        <fact column="fact021a" />
      </call>
      <call function="-nvl" group="sum" as="fact024a" title="факт валовая прибыль">
        <fact column="fact012a" />
        <fact column="fact022a" />
      </call>
      <call function="-nvl" group="sum" as="fact025a" title="ОД план валовая прибыль">
        <fact column="fact003a" />
        <fact column="fact013a" />
      </call>
      <call function="-nvl" group="sum" as="fact026a" title="ОД факт валовая прибыль">
        <fact column="fact004a" />
        <fact column="fact014a" />
      </call>
      <call function="-nvl" group="sum" as="fact027a" title="НД план валовая прибыль">
        <fact column="fact009a" />
        <fact column="fact019a" />
      </call>
      <call function="-nvl" group="sum" as="fact028a" title="НД факт валовая прибыль">
        <fact column="fact010a" />
        <fact column="fact020a" />
      </call>
      <call function="-nvl" group="sum" as="fact029a" title="ОД план валовая прибыль ЭЭ">
        <fact column="fact005a" />
        <fact column="fact015a" />
      </call>
      <call function="-nvl" group="sum" as="fact030a" title="ОД факт валовая прибыль ЭЭ">
        <fact column="fact007a" />
        <fact column="fact017a" />
      </call>
      <call function="-nvl" group="sum" as="fact031a" title="ОД план валовая прибыль ТЭ">
        <fact column="fact006a" />
        <fact column="fact016a" />
      </call>
      <call function="-nvl" group="sum" as="fact032a" title="ОД факт валовая прибыль ТЭ">
        <fact column="fact008a" />
        <fact column="fact018a" />
      </call>
      <call function="-nvl" group="sum" as="fact041a" title="прочие без проц план доход">
        <fact column="fact039a" />
        <fact column="fact035a" />
      </call>
      <call function="-nvl" group="sum" as="fact042a" title="прочие без проц факт доход">
        <fact column="fact040a" />
        <fact column="fact036a" />
      </call>
      <call function="-nvl" group="sum" as="fact043a" title="прочие без проц план расход">
        <fact column="fact037a" />
        <fact column="fact033a" />
      </call>
      <call function="-nvl" group="sum" as="fact044a" title="прочие без проц факт расход">
        <fact column="fact038a" />
        <fact column="fact034a" />
      </call>
      <call function="-nvl" group="sum" as="fact045a" title="прочие без проц план сальдо">
        <fact column="fact041a" />
        <fact column="fact043a" />
      </call>
      <call function="-nvl" group="sum" as="fact046a" title="прочие без проц факт сальдо">
        <fact column="fact042a" />
        <fact column="fact044a" />
      </call>
      <call function="-nvl" group="sum" as="fact047a" title="проц план сальдо">
        <fact column="fact035a" />
        <fact column="fact033a" />
      </call>
      <call function="-nvl" group="sum" as="fact048a" title="проц факт сальдо">
        <fact column="fact036a" />
        <fact column="fact034a" />
      </call>
      <call function="+nvl" group="sum" as="fact049a" title="прибыль до налогообложения план">
        <fact column="fact023a" />
        <fact column="fact047a" />
        <fact column="fact045a" />
      </call>
      <call function="+nvl" group="sum" as="fact050a" title="прибыль до налогообложения факт">
        <fact column="fact024a" />
        <fact column="fact048a" />
        <fact column="fact046a" />
      </call>
      <call function="+nvl" group="sum" as="fact053a" title="Налог на прибыль план">
        <fact column="fact051a" />
        <call function="*">
          <fact column="fact049a" />
          <const>0.2</const>
        </call>
      </call>
      <call function="+nvl" group="sum" as="fact054a" title="Налог на прибыль факт">
        <fact column="fact052a" />
        <call function="*">
          <fact column="fact050a" />
          <const>0.2</const>
        </call>
      </call>
      <call function="-nvl" group="sum" as="fact055a" title="чистая прибыль план">
        <fact column="fact049a" />
        <fact column="fact053a" />
      </call>
      <call function="-nvl" group="sum" as="fact056a" title="чистая прибыл факт">
        <fact column="fact050a" />
        <fact column="fact054a" />
      </call>
      <call function="+nvl" as="fact058a" title="EBITDA план" group="sum">
        <fact column="fact049a" />
        <call function="0-">
          <fact column="fact047a" />
        </call>
        <fact column="fact057a" />
      </call>
    </expression-package>
  </expression-packages>
  <dimension-packages child-name="dimension-package" key-name="name" />
  <security-packages child-name="security-package" key-name="name" />
  <color-packages child-name="color-package" key-name="name" />
  <format-packages child-name="format-package" key-name="name" />
  <button-types child-name="button-type" key-name="name" />
  <!--раздел qlikview организовать по аналогии с остальными вместо qlikview/customer/@id   дать имена   qwprojects/qwproject/@customer-->
  <qvprojects />
  <!--<images>
    <image char="" name="link" />
    <image char="" name="dlink" rotate-flip="RotateNoneFlipY"/>
    <image char="" name="call"/>
    <image char="" name="column"/>
  </images>
  <eltypes>
    <eltype  name="vcall" image="call"/>
    <eltype  name="vlink" image="link"/>
    <eltype  name="vdink" image="dlink"/>
    <eltype  name="vcolumn" image="column"/>
  </eltypes>-->
  <fields child-name="field" key-name="id">
    <field id="va_spr_smet" name="p_kod_spr_smet" controlType="UICombo" expand-all="1" type="number" timestamp="14.12.2017 22:12:42" parent-field-name="kod_parent" title="Статья" file="sql.builder.templates\sql.builder\projects\mped_old\fields\fields.xml">
      <listquery>
        <query name="va_spr_smet_list1" />
      </listquery>
    </field>
  </fields>
  <actions child-name="action" key-name="name" />
  <navigators child-name="navigator" key-name="name" />
  <projects child-name="project" key-name="name" />
</root>