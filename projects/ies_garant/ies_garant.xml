<?xml version="1.0" encoding="utf-8"?>
<root timestamp="2025-07-10T22:24:15.9300997+03:00">
  <customers child-name="customer" key-name="id" />
  <queries child-name="query" key-name="name">
    <query name="462353" timestamp="04.08.2022 13:42:13" is-report="1" title="4.6.2.3.5.3. Объем э/энергии и мощности по 4–6  ценовой категории" nogrid="1" order="name_price_cat,ndog" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462353.xml">
      <params>
        <param title="Период" name="p_ym" controlType="UICombo" timestamp="25.02.2022 11:29:26" parent-field-name="ym" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_ym.xml" column-mandatory="1" />
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param controlType="UIList" title="ТСО" name="kodp_pwrcompany" timestamp="21.10.2022 13:12:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462353.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="462353.xlsx" print-proc="2" print-xlsx="1" title="Объем энергии и мощности по 4–6  ценовой категории" />
        </excel>
      </print-templates>
      <content>
        <usefield field="462359_ym" name="p_ym" title="Период" column-mandatory="1" />
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <usefield field="asuse_adr_m_subject_dep" />
        <usefield field="asuse_pwrcompany" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_ies.fill_table_462353(:p_ym);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="ndog" as="ndog" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="payer_name" as="payer_name" key="0" />
        <column table="a" column="name_price_cat" as="name_price_cat" key="0" />
        <column table="a" column="kodp_fsk_poteri_attp" type="number" as="kodp_fsk_poteri_attp" key="0" />
        <column table="a" column="name_fsk_poteri_attp" as="name_fsk" key="0" />
        <column table="a" column="kvth01" as="kvth01" key="0" />
        <column table="a" column="kvth02" as="kvth02" key="0" />
        <column type="number" table="a" column="kvth03" as="kvth03" key="0" />
        <column table="a" column="kvth04" as="kvth04" key="0" />
        <column table="a" column="kvth05" as="kvth05" key="0" />
        <column table="a" column="kvth06" as="kvth06" key="0" />
        <column table="a" column="kvt01" as="kvt01" key="0" />
        <column table="a" column="kvt02" as="kvt02" key="0" />
        <column table="a" column="kvt03" as="kvt03" key="0" />
        <column table="a" column="kvt04" as="kvt04" key="0" />
        <column table="a" column="kvt05" as="kvt05" key="0" />
        <column table="a" column="kvt06" as="kvt06" key="0" />
        <column table="d" column="adress_region" as="adress_region" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_462359_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="462353" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
          <call function="in" optional="1">
            <column table="a" column="kodp_fsk_poteri_attp" />
            <useparam name="kodp_pwrcompany" />
          </call>
        </call>
      </where>
      <order>
        <column column="name_price_cat" />
        <column column="ndog" />
      </order>
    </query>
    <query name="462359_rep_year" timestamp="20.07.2022 15:43:57" is-report="1" title="4.6.2.3.5.9. Фактическое потребление по ГТП" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_rep.xml">
      <params>
        <param name="p_year" controlType="UICombo" title="Год" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" column-mandatory="1" />
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="use_migration" title="Учитывать импортированные начисления" controlType="UICombo" timestamp="20.07.2022 15:40:11" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_rep.xml" show-checkbox="0" />
      </params>
      <print-templates>
        <excel>
          <template name="462359year.xlsx" print-proc="2" print-xlsx="1" title="Фактическое потребление по ГТП" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_year" name="p_year" title="Год" column-mandatory="1" />
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <usefield field="asuse_adr_m_subject_dep" />
        <usefield field="field_use_migr" show-checkbox="0" name="use_migration" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_462359_year.fill_table(:p_year,:use_migration);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="ndog" as="ndog" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="payer_name" as="payer_name" key="0" />
        <column table="a" column="num_obj" as="num_obj" key="0" />
        <column table="a" column="name_numobj" as="name_numobj" key="0" />
        <column table="a" column="pmax" as="pmax" key="0" />
        <column table="a" column="name_pmax_gr" as="name_pmax_gr" key="0" />
        <column table="a" column="name_price_cat" as="name_price_cat" key="0" />
        <column table="a" column="vltg_abbr" as="vltg_abbr" key="0" />
        <column table="a" column="cust" as="cust" key="0" />
        <column table="a" column="name_gtp" as="name_gtp" key="0" />
        <column table="a" column="tarifname" as="tarifname" key="0" />
        <column table="a" column="kvt01" as="kvt01" key="0" />
        <column table="a" column="kvt02" type="number" as="kvt02" key="0" />
        <column table="a" column="kvt03" type="number" as="kvt03" key="0" />
        <column table="a" column="kvt04" type="number" as="kvt04" key="0" />
        <column table="a" column="kvt05" type="number" as="kvt05" key="0" />
        <column table="a" column="kvt06" type="number" as="kvt06" key="0" />
        <column table="a" column="kvt07" type="number" as="kvt07" key="0" />
        <column table="a" column="kvt08" type="number" as="kvt08" key="0" />
        <column table="a" column="kvt09" type="number" as="kvt09" key="0" />
        <column table="a" column="kvt10" type="number" as="kvt10" key="0" />
        <column table="a" column="kvt11" type="number" as="kvt11" key="0" />
        <column table="a" column="kvt12" type="number" as="kvt12" key="0" />
        <column table="a" column="kvth01" type="number" as="kvth01" key="0" />
        <column table="a" column="kvth02" type="number" as="kvth02" key="0" />
        <column table="a" column="kvth03" type="number" as="kvth03" key="0" />
        <column table="a" column="kvth04" type="number" as="kvth04" key="0" />
        <column table="a" column="kvth05" type="number" as="kvth05" key="0" />
        <column table="a" column="kvth06" type="number" as="kvth06" key="0" />
        <column table="a" column="kvth07" type="number" as="kvth07" key="0" />
        <column table="a" column="kvth08" type="number" as="kvth08" key="0" />
        <column table="a" column="kvth09" type="number" as="kvth09" key="0" />
        <column table="a" column="kvth10" type="number" as="kvth10" key="0" />
        <column table="a" column="kvth11" type="number" as="kvth11" key="0" />
        <column table="a" column="kvth12" type="number" as="kvth12" key="0" />
        <column table="d" column="adress_region" as="adress_region" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_462359_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="462359_rep_year" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
    </query>
    <query name="s_list_use_migr" order="id" timestamp="20.07.2022 15:38:56" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_rep.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'Да'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const type="number">2</const>
                <const type="string">'Нет'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="s_list_use_migr_def" order="id" timestamp="20.07.2022 15:29:25" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_rep.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'Да'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="462359_rep" timestamp="14.03.2022 10:57:54" is-report="1" title="4.6.2.3.5.9. Фактическое потребление по ГТП (за отч.период)" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_ym.xml">
      <params>
        <param title="Период" name="p_ym" controlType="UICombo" timestamp="25.02.2022 11:29:26" parent-field-name="ym" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_ym.xml" column-mandatory="1" />
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="462359.xlsx" print-proc="2" print-xlsx="1" title="Фактическое потребление" />
        </excel>
      </print-templates>
      <content>
        <usefield field="462359_ym" name="p_ym" title="Период" column-mandatory="1" />
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <usefield field="asuse_adr_m_subject_dep" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_462359.fill_table(:p_ym);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="ndog" as="ndog" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="payer_name" as="payer_name" key="0" />
        <column table="a" column="num_obj" as="num_obj" key="0" />
        <column table="a" column="name_numobj" as="name_numobj" key="0" />
        <column table="a" column="pmax" as="pmax" key="0" />
        <column table="a" column="name_pmax_gr" as="name_pmax_gr" key="0" />
        <column table="a" column="name_price_cat" as="name_price_cat" key="0" />
        <column table="a" column="vltg_abbr" as="vltg_abbr" key="0" />
        <column table="a" column="cust" as="cust" key="0" />
        <column table="a" column="name_gtp" as="name_gtp" key="0" />
        <column table="a" column="tarifname" as="tarifname" key="0" />
        <column type="number" table="a" column="cust_kvt" as="cust_kvt" key="0" />
        <column table="a" column="cust_kvth" as="cust_kvth" key="0" />
        <column table="d" column="adress_region" as="adress_region" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_462359_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="462359_rep" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
    </query>
    <query name="462361_1" timestamp="03.03.2022 12:29:45" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml" haskeys="1">
      <select>
        <call function="rowid" key="1" as="id1" />
        <column table="s" column="ndog" as="ndog" />
        <column table="s" column="npp" as="npp" />
        <column table="s" column="fio" as="fio" />
      </select>
      <from>
        <query name="sqlb_rep_462361_tbl" as="s" />
      </from>
      <where>
        <call function="=">
          <column table="s" column="part" />
          <const>1</const>
        </call>
      </where>
    </query>
    <query name="462361_2" timestamp="03.03.2022 13:32:12" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml" haskeys="1">
      <select>
        <call function="rowid" key="1" as="id2" />
        <column table="s" column="cnt_dog" as="cnt_dog" />
        <column table="s" column="cnt_dog_end" as="cnt_dog_end" />
      </select>
      <from>
        <query name="sqlb_rep_462361_tbl" as="s" />
      </from>
      <where>
        <call function="=">
          <column table="s" column="part" />
          <const>2</const>
        </call>
      </where>
    </query>
    <query name="ym_3year_max" timestamp="03.03.2022 11:39:04" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml" haskeys="1">
      <select>
        <column table="a" column="v_ym" group="max" as="v_ym" key="1" fixed="1" />
      </select>
      <from>
        <query as="a" name="sqlb_ym_3years_view" />
      </from>
    </query>
    <query name="ym_3years_q" order="id" timestamp="03.03.2022 23:02:08" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml" haskeys="1">
      <select>
        <column table="a" column="ym" group="1" as="ym" key="1" fixed="1" />
      </select>
      <from>
        <query as="a">
          <union>
            <query as="ym">
              <select>
                <call function="date to ym" as="ym">
                  <call function="sysdate" />
                </call>
              </select>
              <from>
                <query name="dual" as="dual" />
              </from>
            </query>
            <query as="ym">
              <select>
                <call as="ym" type="" function="add_months">
                  <call function="date to ym" as="" type="">
                    <call function="sysdate" />
                  </call>
                  <const>-1</const>
                </call>
              </select>
              <from>
                <query name="dual" as="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="462361_3" timestamp="04.03.2022 09:00:09" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml" haskeys="1">
      <select>
        <call function="rowid" key="1" as="id3" />
        <column table="s" column="npp" as="npp" />
        <column table="s" column="ndog" as="ndog" />
        <column table="s" column="fio" as="fio" />
        <column table="s" column="df_price" as="df_price" />
        <column table="s" column="date_begin" as="date_begin" />
        <column table="s" column="ndog2" as="ndog2" />
        <column table="s" column="fio2" as="fio2" />
        <column table="s" column="date_begin2" as="date_begin2" />
        <column table="s" column="df_price2" type="string" as="df_price2" />
      </select>
      <from>
        <query name="sqlb_rep_462361_tbl" as="s" />
      </from>
      <where>
        <call function="=">
          <column table="s" column="part" />
          <const>3</const>
        </call>
      </where>
    </query>
    <query name="462361_params2" title="Параметры отчёта 462361" timestamp="29.05.2024 13:46:43" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml">
      <params>
        <param name="p_ym">
          <const type="number">2021.12</const>
        </param>
        <param name="p_dep" type="array">
          <const type="number">1172</const>
        </param>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <call function="to_char" as="p_ym" type="string" key="0">
          <useparam name="p_ym" />
          <const>'FM9990D00'</const>
        </call>
        <call function="nvl" type="string" as="p_dep" key="0">
          <call function="()">
            <query>
              <select>
                <column table="org" column="name" group="stragg" as="name" />
              </select>
              <from>
                <query name="kr_org" as="org" />
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="org" column="kodp" />
                    <useparam name="p_dep" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
        <call function="nvl" type="string" as="kod_adr_m" key="0">
          <call function="()">
            <query>
              <select>
                <column table="sf" column="name_p" group="stragg" as="name_p" />
              </select>
              <from>
                <query name="adr_m" as="sf" title="Административно территориальная единица" />
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="sf" column="kod_m" />
                    <useparam name="kod_adr_m" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
        <column column="name" as="esys_name" type="string" table="e" key="0" />
      </select>
      <from>
        <query name="rs_esys" as="e" join="cross" />
        <query name="kr_payer" join="inner" as="p" dname="462361_params2" title="Абонент">
          <call function="=">
            <column table="e" column="kodp" />
            <column table="p" column="kodp" />
          </call>
        </query>
      </from>
    </query>
    <query name="61759_1" timestamp="05.03.2022 12:19:57" is-report="1" title="4.6.2.3.3.4. Оборотно-сальдовая ведомость" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61759_1.xml">
      <params>
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param name="p_ym_beg" controlType="UICombo" title="с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_end" controlType="UICombo" title="по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="61759_1.xlsx" title="Оборотно-сальдовая ведомость" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <fieldgroup title="Период">
          <usefield field="asuse_ym_tek_dep" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="asuse_ym_tek_dep" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61759_1.fill_table(:p_ym_beg,:p_ym_end);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="payer_name" group="max" as="payer_name" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <column table="a" column="saldo_deb_beg" group="sum" as="saldo_deb_beg" key="0" />
        <column table="a" column="saldo_deb_beg_srz" group="sum" as="saldo_deb_beg_srz" key="0" />
        <column table="a" column="saldo_kred_beg" group="sum" as="saldo_kred_beg" key="0" />
        <column table="a" column="ob_recalc" group="sum" as="ob_recalc" key="0" />
        <column table="a" column="ob_deb" group="sum" as="ob_deb" key="0" />
        <column table="a" column="ob_kred" group="sum" as="ob_kred" key="0" />
        <column table="a" column="ob_return" group="sum" as="ob_return" key="0" />
        <column table="a" column="ob_kor" group="sum" as="ob_kor" key="0" />
        <column table="a" column="ob_spis_deb" group="sum" as="ob_spis_deb" key="0" />
        <column table="a" column="ob_spis_kred" group="sum" as="ob_spis_kred" key="0" />
        <column table="a" column="saldo_deb_end" group="sum" as="saldo_deb_end" key="0" />
        <column table="a" column="saldo_kred_end" group="sum" as="saldo_kred_end" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61759_1_tbl" as="a" />
      </from>
      <grouping>
        <grset as="itog">
          <grset as="dog">
            <group>
              <column table="this" column="kod_dog" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_1-pre" timestamp="16.05.2022 16:17:23" materialize="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="name" group="max" as="name" key="0" />
        <column group="max" table="a" column="kod_be" type="string" as="kod_be" key="0" />
        <column table="a" column="abon_info" group="max" title="Абонент" as="abon_info" key="0" />
        <column table="a" column="ndog" group="max" title="Договор" as="ndog" key="0" />
        <column table="a" column="inn" group="max" title="Договор" as="inn" key="0" />
        <column table="b" column="kod" as="kod_sch" group="1" key="1" fixed="1" />
        <column table="b" column="name" as="name_sch" group="1" title="Номер счета" key="1" fixed="1" />
        <call function="case" as="tip_doc" type="string" title="Тип документа" group="1" key="1" fixed="1">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <const>'сч/ф'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <const>'сч/ф'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="sname" />
          </call>
        </call>
        <call function="case" as="num_doc" type="string" title="Номер документа" group="1" key="1" fixed="1">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <column table="a" column="nom_sf" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="nom_sf_kred" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="num_opl" />
          </call>
        </call>
        <call function="case" as="dat_doc" type="date" title="Дата документа" group="1" key="1" fixed="1">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <column table="a" column="dat_sf" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="dat_opl" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="dat_opl" />
          </call>
        </call>
        <call function="case" as="dat_bzad" type="date" group="1" title="Дата начала" key="1" fixed="1">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <column table="a" column="dat_bzad" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="dat_opl" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="dat_opl" />
          </call>
        </call>
        <call function="case" type="string" group="1" title="За что" as="predmet" key="1" fixed="1">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <const>'договора электроснабжения (продажа электроэнергии)'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <const>'НДС по авансам полученным по договору электроснабжения'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <const>'аванс по договору электроснабжения'</const>
          </call>
        </call>
        <call function="case" as="kred_for_deb" type="number" group="sum" class-title="Дебиторская задолженность" title="Кредит, от которого рассчитана задолженность по 76/005" key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="kred" is-fact-use="1" />
          </call>
        </call>
        <call function="case" as="deb" type="number" group="sum" class-title="Дебиторская задолженность" title="Всего" key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <column table="a" column="deb" is-fact-use="1" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="nal" is-fact-use="1" />
          </call>
        </call>
        <call function="case" as="deb_prizn" type="number" group="sum" class-title="Дебиторская задолженность" title="Подтвержденная" key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <column table="a" column="deb_prizn" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="nal_prizn" />
          </call>
        </call>
        <call function="case" as="deb_not_prizn" type="number" group="sum" class-title="Дебиторская задолженность" title="Не подтвержденная" key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <column table="a" column="deb_not_prizn" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="nal_not_prizn" />
          </call>
        </call>
        <call function="case" as="deb_not_isk" type="number" group="sum" class-title="Дебиторская задолженность" title="С истекшим сроком иск. давн." key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>1</const>
            </call>
            <column table="a" column="deb_not_isk" />
          </call>
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>2</const>
            </call>
            <column table="a" column="nal_not_isk" />
          </call>
        </call>
        <call function="case" as="kred" type="number" group="sum" class-title="Кредиторская задолженность" title="Всего" key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="kred" is-fact-use="1" />
          </call>
        </call>
        <call function="case" as="kred_prizn" type="number" group="sum" class-title="Кредиторская задолженность" title="Подтвержденная" key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="kred_prizn" />
          </call>
        </call>
        <call function="case" as="kred_not_prizn" type="number" group="sum" class-title="Кредиторская задолженность" title="Не подтвержденная" key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="kred_not_prizn" />
          </call>
        </call>
        <call function="case" as="kred_not_isk" type="number" group="sum" class-title="Кредиторская задолженность" title="С истекшим сроком иск. давн." key="0">
          <call function="when">
            <call function="=">
              <column table="b" column="kod" />
              <const>3</const>
            </call>
            <column table="a" column="kred_not_isk" />
          </call>
        </call>
      </select>
      <from>
        <query name="61880-1" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
        <query name="61880_1_acc" as="b" join="inner" dname="61880_1-pre">
          <call function="or">
            <call function="and">
              <call function="is not null">
                <column table="a" column="kod_sf" />
              </call>
              <call function="=">
                <column table="b" column="tip" />
                <const>1</const>
              </call>
            </call>
            <call function="and">
              <call function="is not null">
                <column table="a" column="kod_opl" />
              </call>
              <call function="=">
                <column table="b" column="tip" />
                <const>2</const>
              </call>
            </call>
          </call>
        </query>
      </from>
      <where>
        <call function="!=0">
          <column table="a" column="deb_dog" />
          <column table="a" column="kred_dog" />
        </call>
      </where>
      <having>
        <call function="!=0">
          <column table="this" column="deb" />
          <column table="this" column="kred" />
          <column table="this" column="kred_for_deb" />
        </call>
      </having>
    </query>
    <query name="61880-1" timestamp="20.02.2023 18:46:27" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <expressions>
        <call function="if" type="date" group="min" as="dat_prizn">
          <call function="=">
            <column table="kod_akt_sver" column="podpis" />
            <const>1</const>
          </call>
          <fact column="sr_akt_dat_akt_min" />
        </call>
      </expressions>
      <select>
        <column table="kod_dog_fin" column="kod_dog" as="kod_dog" />
        <call function="case" as="kod_be">
          <call function="when">
            <call function="in">
              <column table="kod_dep" column="kodp" />
              <call function="array">
                <const>20578</const>
                <const>20579</const>
                <const>21621</const>
              </call>
            </call>
            <const type="string">'R088'</const>
          </call>
          <call function="when">
            <call function="in">
              <column table="kod_dep" column="kodp" />
              <call function="array">
                <const>20488</const>
                <const>21626</const>
              </call>
            </call>
            <const type="string">'R015'</const>
          </call>
          <call function="when">
            <call function="in">
              <column table="kod_dep" column="kodp" />
              <call function="array">
                <const>1172</const>
              </call>
            </call>
            <const type="string">'R089'</const>
          </call>
          <call function="when">
            <call function="in">
              <column table="kod_dep" column="kodp" />
              <call function="array">
                <const>21628</const>
              </call>
            </call>
            <const type="string">'R133'</const>
          </call>
          <call function="else">
            <const type="string">'нет'</const>
          </call>
        </call>
        <call function="||" as="ndog">
          <column table="kod_dog_fin" column="ndog" />
          <const>' от '</const>
          <call function="date to char">
            <column table="kod_dog_fin" column="dat_sign" />
          </call>
        </call>
        <column table="kod_dep" column="name" as="name" />
        <column table="kod_sf" column="kod_sf" as="kod_sf" />
        <call function="nvl" as="dat_sf">
          <call function="if">
            <call function="and">
              <call function="is not null">
                <column table="kod_sf" column="kod_sf_first" />
              </call>
              <call function="lt">
                <column table="kod_sf" column="nachisl" />
                <const type="number">0</const>
              </call>
            </call>
            <column table="kod_sf_first" column="dat_sf" />
            <column table="kod_sf" column="dat_sf" />
          </call>
          <column table="kod_sf" column="dat_sf" />
        </call>
        <call function="nvl" as="dat_bzad">
          <call function="if">
            <call function="and">
              <call function="is not null">
                <column table="kod_sf" column="kod_sf_first" />
              </call>
              <call function="lt">
                <column table="kod_sf" column="nachisl" />
                <const type="number">0</const>
              </call>
            </call>
            <column table="kod_sf_first" column="dat_bzad" />
            <column table="kod_sf" column="dat_bzad" />
          </call>
          <column table="kod_sf" column="dat_bzad" />
        </call>
        <column table="kodp" column="inn" as="inn" />
        <call function="||" as="abon_info">
          <column table="kod_dog" column="ndog" />
          <const>' '</const>
          <column table="kodp" column="name" />
        </call>
        <call function="nvl" as="nom_sf">
          <call function="if">
            <call function="and">
              <call function="is not null">
                <column table="kod_sf" column="kod_sf_first" />
              </call>
              <call function="lt">
                <column table="kod_sf" column="nachisl" />
                <const type="number">0</const>
              </call>
            </call>
            <column table="kod_sf_first" column="nom_sf" />
            <column table="kod_sf" column="nom_sf" />
          </call>
          <column table="kod_sf" column="nom_sf" />
        </call>
        <fact column="fin_ul_ob_osn_pr" table="sf" as="deb" is-fact-use="1" />
        <fact table="sf" column="dat_prizn" as="dat_prizn" is-fact-use="1" />
        <fact table="opl" column="dat_prizn" as="dat_prizn_opl" is-fact-use="1" />
        <call function="if" as="pr_not_isk" type="number">
          <call function="gt">
            <call function="ym add month">
              <call function="date to ym">
                <useparam name="dat" />
              </call>
              <const>-36</const>
            </call>
            <call function="date to ym">
              <column table="kod_sf" column="dat_bzad" as="vvv" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" as="pr_not_isk_opl" type="number">
          <call function="gt">
            <call function="ym add month">
              <call function="date to ym">
                <useparam name="dat" />
              </call>
              <const>-36</const>
            </call>
            <call function="date to ym">
              <column table="kod_opl" column="dat_oper" as="vvv" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" as="deb_prizn" type="number">
          <call function="and">
            <call function="!=nvl">
              <column table="this" column="pr_not_isk" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column table="this" column="dat_prizn" />
            </call>
          </call>
          <fact column="fin_ul_ob_osn_pr" table="sf" />
        </call>
        <call function="if" as="deb_not_prizn" type="number">
          <call function="and">
            <call function="!=nvl">
              <column table="this" column="pr_not_isk" />
              <const>1</const>
            </call>
            <call function="is null">
              <column table="this" column="dat_prizn" />
            </call>
          </call>
          <fact column="fin_ul_ob_osn_pr" table="sf" />
        </call>
        <call function="if" as="deb_not_isk" type="number">
          <call function="=">
            <column table="this" column="pr_not_isk" />
            <const>1</const>
          </call>
          <fact column="fin_ul_ob_osn_pr" table="sf" />
        </call>
        <column table="kod_opl" column="kod_opl" as="kod_opl" />
        <column table="kod_opl" column="dat_opl" as="dat_opl" />
        <column table="kod_vidopl" column="abbr" as="abbr" />
        <column table="kod_vidopl" column="sname" as="sname" />
        <column table="kod_opl" column="num_opl" as="num_opl" />
        <column table="kod_opl" column="nom_sf" as="nom_sf_kred" />
        <fact column="fin_ul_ob_kr" table="opl" as="kred" is-fact-use="1" />
        <call function="if" as="kred_prizn" type="number">
          <call function="and">
            <call function="!=nvl">
              <column table="this" column="pr_not_isk_opl" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column table="this" column="dat_prizn_opl" />
            </call>
          </call>
          <fact column="fin_ul_ob_kr" table="opl" />
        </call>
        <call function="if" as="kred_not_prizn" type="number">
          <call function="and">
            <call function="!=nvl">
              <column table="this" column="pr_not_isk_opl" />
              <const>1</const>
            </call>
            <call function="is null">
              <column table="this" column="dat_prizn_opl" />
            </call>
          </call>
          <fact column="fin_ul_ob_kr" table="opl" />
        </call>
        <call function="if" as="kred_not_isk" type="number">
          <call function="=">
            <column table="this" column="pr_not_isk_opl" />
            <const>1</const>
          </call>
          <fact column="fin_ul_ob_kr" table="opl" />
        </call>
        <fact column="fin_ul_ob_kr_nal" table="opl" as="nal" is-fact-use="1" />
        <call function="if" as="nal_prizn" type="number">
          <call function="and">
            <call function="!=nvl">
              <column table="this" column="pr_not_isk_opl" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column table="this" column="dat_prizn_opl" />
            </call>
          </call>
          <fact column="fin_ul_ob_kr_nal" table="opl" />
        </call>
        <call function="if" as="nal_not_prizn" type="number">
          <call function="and">
            <call function="!=nvl">
              <column table="this" column="pr_not_isk_opl" />
              <const>1</const>
            </call>
            <call function="is null">
              <column table="this" column="dat_prizn_opl" />
            </call>
          </call>
          <fact column="fin_ul_ob_kr_nal" table="opl" />
        </call>
        <call function="if" as="nal_not_isk" type="number">
          <call function="=">
            <column table="this" column="pr_not_isk_opl" />
            <const>1</const>
          </call>
          <fact column="fin_ul_ob_kr_nal" table="opl" />
        </call>
        <call function="over" as="deb_dog">
          <call function="sum">
            <column table="this" column="deb" />
          </call>
          <call function="partition by">
            <column table="this" column="kod_dog" />
          </call>
        </call>
        <call function="over" as="kred_dog">
          <call function="sum">
            <column table="this" column="kred" />
          </call>
          <call function="partition by">
            <column table="this" column="kod_dog" />
          </call>
        </call>
      </select>
      <from>
        <qube>
          <link name="kod_dog">
            <link name="kod_dog_fin">
              <link name="kod_dep" />
              <link name="kodp" />
            </link>
          </link>
          <link name="dat" />
          <where>
            <call function="le">
              <column table="dat" column="val" />
              <useparam name="dat" />
            </call>
            <call function="=">
              <column table="kod_dog_fin" column="dep" />
              <useparam name="dep" />
            </call>
          </where>
          <dimset as="sf">
            <link name="kod_sf">
              <link name="kod_sf_first" as="kod_sf_first" />
            </link>
            <where>
              <call function="in" optional="1">
                <column table="kod_sf" column="vid_real" />
                <useparam name="vid_real_deb" />
              </call>
            </where>
          </dimset>
          <dimset as="opl">
            <link name="kod_opl_kred">
              <link name="kod_vidopl" />
              <link name="kod_opl_recalc_root" as="kod_opl" />
            </link>
            <where>
              <call function="in" optional="1">
                <call function="decode">
                  <column table="kod_opl" column="vid_real" />
                  <const>0</const>
                  <const>2</const>
                  <column table="kod_opl" column="vid_real" />
                </call>
                <useparam name="vid_real_deb" />
              </call>
            </where>
          </dimset>
        </qube>
      </from>
      <where>
        <call function="!=0">
          <column table="this" column="deb" />
          <column table="this" column="kred" />
          <column table="this" column="nal" />
        </call>
      </where>
    </query>
    <query name="61880_1_acc" timestamp="05.05.2022 12:18:11" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <select>
        <column table="a" column="kod" type="number" as="kod" key="1" fixed="1" />
        <column table="a" column="tip" type="number" as="tip" key="0" />
        <column table="a" column="name" type="string" as="name" key="0" />
      </select>
      <from>
        <table name="61880_1_acc" as="a" view="1" />
      </from>
    </query>
    <query name="61880_1-sch-itog" timestamp="21.04.2022 12:29:39" order="kod_sch" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" />
      </select>
      <from>
        <query name="61880_1-pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="kod_sch" />
      </order>
    </query>
    <query name="61880_1-deb-itog" timestamp="21.04.2022 12:34:07" order="kod_sch" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" />
      </select>
      <from>
        <query name="61880_1-pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <having>
        <call function="!=0">
          <column table="this" column="deb" />
        </call>
      </having>
      <order>
        <column column="kod_sch" />
      </order>
    </query>
    <query name="61880_1-kred-itog" order="kod_sch" timestamp="23.04.2024 16:30:47" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" />
      </select>
      <from>
        <query name="61880_1-pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <having>
        <call function="!=0">
          <column table="this" column="kred" />
        </call>
      </having>
      <order>
        <column column="kod_sch" />
      </order>
    </query>
    <query name="61880_1-itog" timestamp="21.04.2022 12:36:50" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" />
      </select>
      <from>
        <query name="61880_1-pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880_1-deb-dog" timestamp="16.05.2022 16:11:56" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <call function="row_number" as="npp" key="0">
          <call function="order by simple">
            <column table="this" column="kod_sch" />
            <column table="this" column="abon_info" />
          </call>
        </call>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="kod_be" group="1" as="kod_be" key="1" fixed="1" />
        <column table="a" column="name" group="1" as="name" key="1" fixed="1" />
        <column table="a" column="inn" group="1" as="inn" key="1" fixed="1" />
        <column table="a" column="abon_info" group="1" as="abon_info" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" />
      </select>
      <from>
        <query name="61880_1-pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="in">
          <column table="this" column="kod_sch" />
          <call function="array">
            <const>1</const>
            <const>2</const>
          </call>
        </call>
      </where>
    </query>
    <query name="61880_1-kred-dog" timestamp="16.05.2022 16:12:32" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <call function="row_number" as="npp" key="0">
          <call function="order by simple">
            <column table="this" column="kod_sch" />
            <column table="this" column="abon_info" />
          </call>
        </call>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="kod_be" group="1" as="kod_be" key="1" fixed="1" />
        <column table="a" column="name" group="1" as="name" key="1" fixed="1" />
        <column table="a" column="inn" group="1" as="inn" key="1" fixed="1" />
        <column table="a" column="abon_info" group="1" as="abon_info" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" />
      </select>
      <from>
        <query name="61880_1-pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="in">
          <column table="this" column="kod_sch" />
          <call function="array">
            <const>3</const>
          </call>
        </call>
      </where>
    </query>
    <query name="61880_1-detail" timestamp="21.04.2022 12:44:29" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <call function="row_number" as="npp" key="0">
          <call function="order by simple">
            <column table="a" column="kod_sch" />
            <column table="a" column="abon_info" />
            <column table="a" column="dat_doc" />
          </call>
        </call>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880_1-detail_pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880_1-detail_pre" timestamp="16.05.2022 16:11:11" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="kod_be" group="1" as="kod_be" key="1" fixed="1" />
        <column table="a" column="dat_doc" group="1" as="dat_doc" key="1" fixed="1" />
        <column table="a" column="ndog" group="1" as="ndog" key="1" fixed="1" />
        <column table="a" column="inn" group="1" as="inn" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="num_doc" group="1" as="num_doc" key="1" fixed="1" />
        <call function="over" as="abon_info" type="string" group="1" key="1" fixed="1">
          <call function="last_value ignore nulls">
            <column table="a" column="abon_info" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_dog" />
            <column table="a" column="num_doc" />
            <column table="a" column="dat_doc" />
          </call>
          <call function="order by rows * *">
            <call function="asc">
              <column table="a" column="kred" />
            </call>
          </call>
        </call>
        <call function="over" as="dat_bzad" group="1" type="date" key="1" fixed="1">
          <call function="last_value ignore nulls">
            <column table="a" column="dat_bzad" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_dog" />
            <column table="a" column="num_doc" />
            <column table="a" column="dat_doc" />
          </call>
          <call function="order by rows * *">
            <call function="asc">
              <column table="a" column="kred" />
            </call>
          </call>
        </call>
        <call function="over" as="tip_doc" type="string" group="1" key="1" fixed="1">
          <call function="last_value ignore nulls">
            <column table="a" column="tip_doc" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_dog" />
            <column table="a" column="num_doc" />
            <column table="a" column="dat_doc" />
          </call>
          <call function="order by rows * *">
            <call function="asc">
              <column table="a" column="kred" />
            </call>
          </call>
        </call>
      </select>
      <from>
        <query name="61880_1-pre" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <having>
        <call function="!=0">
          <column table="this" column="deb" />
          <column table="this" column="kred" />
        </call>
      </having>
    </query>
    <query name="61880_1_kred_dog_v2" timestamp="23.04.2024 17:15:15" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <call function="row_number" as="npp" key="0">
          <call function="order by simple">
            <column table="this" column="kod_sch" />
            <column table="this" column="abon_info" />
          </call>
        </call>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="kod_be" group="1" as="kod_be" key="1" fixed="1" />
        <column table="a" column="inn" group="1" as="inn" key="1" fixed="1" />
        <column table="a" column="abon_info" group="1" as="abon_info" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" colset="1" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" colset="1" />
      </select>
      <from>
        <query name="61880_1_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="in">
          <column table="this" column="kod_sch" />
          <call function="array">
            <const>3</const>
          </call>
        </call>
      </where>
    </query>
    <query name="61880_1_pre_v2" materialize="1" timestamp="23.04.2024 18:38:42" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column group="max" table="a" column="kod_be" type="string" as="kod_be" key="0" />
        <column table="a" column="abon_info" group="max" title="Абонент" as="abon_info" key="0" />
        <column table="a" column="ndog" group="max" title="Договор" as="ndog" key="0" />
        <column table="a" column="inn" group="max" title="Договор" as="inn" key="0" />
        <column table="a" column="kod_sch" as="kod_sch" group="1" key="1" fixed="1" />
        <column table="a" column="name_sch" as="name_sch" group="1" title="Номер счета" key="1" fixed="1" />
        <column function="case" as="tip_doc" type="string" title="Тип документа" group="1" table="a" column="name_doc" key="1" fixed="1" />
        <column function="case" as="num_doc" type="string" title="Номер документа" group="1" table="a" column="num_doc" key="1" fixed="1" />
        <column function="case" as="dat_doc" type="date" title="Дата документа" group="1" table="a" column="dat_doc" key="1" fixed="1" />
        <column function="case" as="dat_bzad" type="date" group="1" title="Дата начала" table="a" column="dat_bzad" key="1" fixed="1" />
        <const function="case" type="string" group="1" title="За что" as="predmet" colset="1" key="1" fixed="1">'дог-р электроснабжения (продажа электроэнергии)'</const>
        <call function="case" as="deb" type="number" group="sum" class-title="Дебиторская задолженность" title="Всего" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="kod_sch" />
              <const>1</const>
            </call>
            <column table="a" column="deb" />
          </call>
        </call>
        <const function="case" as="deb_prizn" type="number" group="sum" class-title="Дебиторская задолженность" title="Подтвержденная" colset="1" key="0">0</const>
        <call function="case" as="deb_not_prizn" type="number" group="sum" class-title="Дебиторская задолженность" title="Не подтвержденная" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="kod_sch" />
              <const>1</const>
            </call>
            <column table="a" column="deb" />
          </call>
        </call>
        <const function="case" as="deb_not_isk" type="number" group="sum" class-title="Дебиторская задолженность" title="С истекшим сроком иск. давн." colset="1" key="0">0</const>
        <call function="case" as="kred" type="number" group="sum" class-title="Кредиторская задолженность" title="Всего" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="kod_sch" />
              <const>3</const>
            </call>
            <column table="a" column="kred" />
          </call>
        </call>
        <const function="case" as="kred_prizn" type="number" group="sum" class-title="Кредиторская задолженность" title="Подтвержденная" colset="1" key="0">0</const>
        <call function="case" as="kred_not_prizn" type="number" group="sum" class-title="Кредиторская задолженность" title="Не подтвержденная" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="kod_sch" />
              <const>3</const>
            </call>
            <column table="a" column="kred" />
          </call>
        </call>
        <const function="case" as="kred_not_isk" type="number" group="sum" class-title="Кредиторская задолженность" title="С истекшим сроком иск. давн." colset="1" key="0">0</const>
      </select>
      <from>
        <query name="61880_1_data" as="a" />
      </from>
      <where>
        <call function="!=0">
          <column table="a" column="deb_dog" />
          <column table="a" column="kred_dog" />
        </call>
      </where>
      <having>
        <call function="!=0">
          <column table="this" column="deb" />
          <column table="this" column="kred" />
        </call>
      </having>
    </query>
    <query name="61880_1_data" timestamp="23.04.2024 19:24:30" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <select>
        <column table="a" column="kod_sch" as="kod_sch" type="number" key="1" fixed="1" />
        <column table="a" column="kod_dog" as="kod_dog" type="number" key="0" />
        <column table="a" column="kod_sf" as="kod_sf" type="number" key="0" />
        <column table="a" column="kod_be" as="kod_be" type="string" key="0" />
        <column table="a" column="ndog" as="ndog" type="string" key="0" />
        <column table="a" column="dat_doc" as="dat_doc" type="date" key="0" />
        <column table="a" column="dat_bzad" as="dat_bzad" type="date" key="0" />
        <column table="a" column="abon_info" as="abon_info" type="string" key="0" />
        <column table="a" column="num_doc" as="num_doc" type="string" key="0" />
        <column table="a" column="name_sch" as="name_sch" type="string" key="0" />
        <column table="a" column="name_doc" as="name_doc" type="string" key="0" />
        <column table="a" column="inn" as="inn" type="number" key="0" />
        <column table="a" column="deb" as="deb" type="number" key="0" />
        <column table="a" column="kred" as="kred" type="number" key="0" />
        <call function="over" as="deb_dog" key="0">
          <call function="sum">
            <column table="this" column="deb" />
          </call>
          <call function="partition by">
            <column table="this" column="kod_dog" />
          </call>
        </call>
        <call function="over" as="kred_dog" key="0">
          <call function="sum">
            <column table="this" column="kred" />
          </call>
          <call function="partition by">
            <column table="this" column="kod_dog" />
          </call>
        </call>
      </select>
      <from>
        <table name="61880_1_data" as="a" view="1" />
      </from>
    </query>
    <query name="61880_1_kred_itog_v2" order="kod_sch" timestamp="23.04.2024 16:31:33" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" colset="1" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" colset="1" />
      </select>
      <from>
        <query name="61880_1_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <having>
        <call function="!=0">
          <column table="this" column="kred" />
        </call>
      </having>
      <order>
        <column column="kod_sch" />
      </order>
    </query>
    <query name="61880_1_deb_dog_v2" timestamp="23.04.2024 17:11:29" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <call function="row_number" as="npp" key="0">
          <call function="order by simple">
            <column table="this" column="kod_sch" />
            <column table="this" column="abon_info" />
          </call>
        </call>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="kod_be" group="1" as="kod_be" key="1" fixed="1" />
        <column table="a" column="inn" group="1" as="inn" key="1" fixed="1" />
        <column table="a" column="abon_info" group="1" as="abon_info" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" colset="1" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" colset="1" />
      </select>
      <from>
        <query name="61880_1_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="in">
          <column table="this" column="kod_sch" />
          <call function="array">
            <const>1</const>
            <const>2</const>
          </call>
        </call>
      </where>
    </query>
    <query name="61880_1_deb_itog_v2" order="kod_sch" timestamp="23.04.2024 16:35:27" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" colset="1" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" colset="1" />
      </select>
      <from>
        <query name="61880_1_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <having>
        <call function="!=0">
          <column table="this" column="deb" />
        </call>
      </having>
      <order>
        <column column="kod_sch" />
      </order>
    </query>
    <query name="61880_1_detail_v2" timestamp="23.04.2024 16:52:23" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <call function="row_number" as="npp" key="0">
          <call function="order by simple">
            <column table="a" column="kod_sch" />
            <column table="a" column="abon_info" />
            <column table="a" column="dat_doc" />
          </call>
        </call>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880_1_detail_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880_1_detail_pre_v2" timestamp="24.04.2024 09:39:26" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="kod_be" group="1" as="kod_be" key="1" fixed="1" />
        <column table="a" column="dat_doc" group="1" as="dat_doc" key="1" fixed="1" />
        <column table="a" column="ndog" group="1" as="ndog" key="1" fixed="1" />
        <column table="a" column="inn" group="1" as="inn" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="num_doc" group="1" as="num_doc" key="1" fixed="1" />
        <column function="over" as="abon_info" type="string" group="1" table="a" column="abon_info" key="1" fixed="1" />
        <column function="over" as="dat_bzad" group="1" type="date" table="a" column="dat_bzad" key="1" fixed="1" />
        <column function="over" as="tip_doc" type="string" group="1" table="a" column="tip_doc" key="1" fixed="1" />
      </select>
      <from>
        <query name="61880_1_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <having>
        <call function="!=0">
          <column table="this" column="deb" />
          <column table="this" column="kred" />
        </call>
      </having>
    </query>
    <query name="61880_1_sch_itog_v2" order="kod_sch" timestamp="23.04.2024 17:10:58" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml" haskeys="1">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_sch" group="1" as="kod_sch" key="1" fixed="1" />
        <column table="a" column="name_sch" group="1" as="name_sch" key="1" fixed="1" />
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" colset="1" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" colset="1" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" colset="1" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" colset="1" />
      </select>
      <from>
        <query name="61880_1_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="kod_sch" />
      </order>
    </query>
    <query name="61880_1_itog_v2" timestamp="23.04.2024 16:55:05" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <params>
        <param name="dat">
          <const>to_date('19.09.2023','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <select>
        <column table="a" column="deb" group="sum" as="deb" key="0" />
        <column table="a" column="deb_prizn" group="sum" as="deb_prizn" key="0" colset="1" />
        <column table="a" column="deb_not_prizn" group="sum" as="deb_not_prizn" key="0" />
        <column table="a" column="deb_not_isk" group="sum" as="deb_not_isk" key="0" colset="1" />
        <column table="a" column="kred" group="sum" as="kred" key="0" />
        <column table="a" column="kred_prizn" group="sum" as="kred_prizn" key="0" colset="1" />
        <column table="a" column="kred_not_prizn" group="sum" as="kred_not_prizn" key="0" />
        <column table="a" column="kred_not_isk" group="sum" as="kred_not_isk" key="0" colset="1" />
      </select>
      <from>
        <query name="61880_1_pre_v2" as="a">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="kr_numobj_23_max" class="1" timestamp="31.03.2022 20:46:35" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml" haskeys="1">
      <select>
        <column table="a" column="kod_dog" type="number" comment="код объекта в договоре" key-dimension="kod_numobj" key="1" group="1" as="kod_dog" />
        <column table="a" column="kod_f23" type="string" comment="наименование объекта в текущем договоре" group="max" title="Группа потребителей на объекте" as="kod_f23" />
      </select>
      <from>
        <query name="kr_numobj" as="a">
          <link name="kod_f23" as="kod_f23" table="hs_23" child="kr_numobj" field="kod_f23" parent="hs_23" back="kr_numobj" title="Принадлежность объектов" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=0">
            <column table="a" column="pr_active" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880_10-main" nogrid="1" order="kod_gr" timestamp="26.12.2024 15:31:24" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml" haskeys="1">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
        <param type="array" name="p_kod_adr_m" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="gr_potr" column="kod_gr" as="kod_gr" key="1" fixed="1" />
        <call function="nvl" group="max" as="name" key="0">
          <column table="gr_potr" column="name" nvl="'нет'" />
          <const type="string">'Нет'</const>
        </call>
        <column table="gr_potr" column="kod_gr_parent" as="kod_gr_parent" key="0" />
        <column table="b" column="kod_dog" as="kod_dog" key="0" />
        <call function="||" as="name_dog" group="max" key="0">
          <column table="b" column="payer_name" />
          <const>' '</const>
          <column table="b" column="ndog" />
        </call>
        <column table="b" column="cust_kvth_per" group="sum" mp="-3" as="cust_kvth_per" key="0" />
        <column table="b" column="saldo_beg" group="sum" mp="-3" as="saldo_beg" key="0" />
        <column group="sum" table="b" column="nach_per" mp="-3" as="nach_per" key="0" />
        <column table="b" column="opl_per" group="sum" mp="-3" as="opl_per" key="0" />
        <column group="sum" table="b" column="realiz_per" mp="-3" as="realiz_per" key="0" />
        <column table="b" column="spis_bezn_per" group="sum" mp="-3" as="spis_bezn_per" key="0" />
        <call table="a" column="av_beg" function="-nvl" as="saldo_end" group="sum" mp="-3" key="0">
          <column table="b" column="saldo_deb_end" />
          <column table="b" column="saldo_kred_end" />
        </call>
        <column group="sum" table="b" column="saldo_deb_end" mp="-3" as="saldo_deb_end" key="0" />
        <column table="b" column="saldo_kred_end" group="sum" mp="-3" as="saldo_kred_end" key="0" />
        <column group="sum" table="b" column="dz_end_tek" mp="-3" as="dz_end_tek" key="0" />
        <column group="sum" table="b" column="dz_end_rest" mp="-3" as="dz_end_rest" key="0" />
        <column group="sum" table="b" column="dz_end_pros" mp="-3" as="dz_end_pros" key="0" />
        <column table="b" column="dz_end_isk" group="sum" mp="-3" as="dz_end_isk" key="0" />
        <column group="sum" table="b" column="dz_end_mor" mp="-3" as="dz_end_mor" key="0" />
        <column group="sum" table="b" column="dz_end_bezn" mp="-3" as="dz_end_bezn" key="0" />
        <column group="sum" table="b" column="dz_rezerv" mp="-3" as="dz_rezerv" key="0" />
      </select>
      <from>
        <query name="61880_10-spr_gr_potr" as="gr_potr" />
        <query name="rs_refcode" as=" rf" join="full outer" dname="61880_10-main">
          <call function="=">
            <column table=" rf" column="num" />
            <column table="gr_potr" column="kod_refcode" />
          </call>
        </query>
        <query name="rr_refprop_dog_81" as="r81" join="left outer" dname="61880_10-main" title="Группы потребителей">
          <call function="and">
            <call function="=">
              <column table=" rf" column="kod_refbook" />
              <const>81</const>
            </call>
            <call function="=">
              <call function="nvl">
                <column table="r81" column="kod_refcode" />
                <const>999</const>
              </call>
              <column table=" rf" column="kod_refcode" />
            </call>
          </call>
        </query>
        <query name="sqlb_rep_61880_10_tbl" as="b" join="full outer" dname="61880_10-main">
          <call function="and">
            <call function="=">
              <column table="r81" column="kod_dog" />
              <column table="b" column="kod_dog" />
            </call>
          </call>
        </query>
        <query name="kr_dogovor" as="d" join="left outer" dname="61880_10-main" title="Договор">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="d" column="adress_sf" />
            <useparam name="p_kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="gr_potr">
            <group>
              <column table="this" column="kod_gr" />
            </group>
            <grset as="dog" order="name_dog">
              <group>
                <column table="this" column="kod_dog" />
              </group>
              <where>
                <call function="and">
                  <call function="=1">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                  </call>
                  <call function="is not null">
                    <column table="this" column="kod_dog" />
                  </call>
                </call>
              </where>
            </grset>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="kod_gr" />
      </order>
    </query>
    <query name="61880_10-spr_gr_potr" class="1" timestamp="19.08.2022 10:04:05" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml" haskeys="1">
      <select>
        <column table="a" column="kod_gr" type="number" as="kod_gr" key="1" fixed="1" />
        <column table="a" column="name" type="string" as="name" key="0" />
        <column table="a" column="kod_refcode" type="number" as="kod_refcode" key="0" />
        <column table="a" column="kod_gr_parent" type="number" as="kod_gr_parent" key="0" />
      </select>
      <from>
        <table name="61880_10-spr_gr_potr" as="a" view="1" />
      </from>
    </query>
    <query name="61880_10-spr_gr_potr_p" class="1" timestamp="19.08.2022 11:06:38" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml" haskeys="1">
      <select>
        <column table="a" column="kod_gr" type="number" as="kod_gr" key="1" fixed="1" />
        <column table="a" column="name" type="string" as="name" key="0" />
        <column table="a" column="kod_refcode" type="number" as="kod_refcode" key="0" />
        <column table="a" column="kod_gr_parent" type="number" as="kod_gr_parent" key="0" />
      </select>
      <from>
        <table name="61880_10-spr_gr_potr" as="a" view="1" />
      </from>
      <where>
        <call function="is not null">
          <column table="a" column="kod_gr_parent" />
        </call>
      </where>
    </query>
    <query name="61880_11-main" timestamp="17.02.2022 21:04:11" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ndog" group="max" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" group="max" title="Наименование клиента" as="payer_name" key="0" />
        <column group="sum" table="a" column="dz_beg1" title="ДЗ на начало периода" as="dz_beg1" key="0" />
        <column group="sum" table="a" column="nach_per1" title="Фактическое потребление в периоде" as="nach_per1" key="0" />
        <column group="sum" table="a" column="opl_per1" title="Фактическая оплата в периоде" as="opl_per1" key="0" />
        <column group="sum" table="a" column="dz_end1" title="ДЗ на конец периода" as="dz_end1" key="0" />
        <column group="sum" table="a" column="dz_beg2" title="ДЗ на начало периода" as="dz_beg2" key="0" />
        <column group="sum" table="a" column="nach_per2" title="Фактическое потребление в периоде" as="nach_per2" key="0" />
        <column group="sum" table="a" column="opl_per2" title="Фактическая оплата в периоде" as="opl_per2" key="0" />
        <column group="sum" table="a" column="dz_end2" title="ДЗ на конец периода" as="dz_end2" key="0" />
        <column group="sum" table="a" column="dz_beg3" title="ДЗ на начало периода" as="dz_beg3" key="0" />
        <column group="sum" table="a" column="nach_per3" title="Фактическое потребление в периоде" as="nach_per3" key="0" />
        <column group="sum" table="a" column="opl_per3" title="Фактическая оплата в периоде" as="opl_per3" key="0" />
        <column group="sum" table="a" column="dz_end3" title="ДЗ на конец периода" as="dz_end3" key="0" />
        <column table="a" column="dz_pros_beg" group="sum" title="ДЗ ПР на начало последнего периода" as="dz_pros_beg" key="0" />
        <column table="a" column="dz_pros_end" group="sum" title="ДЗ ПР на конец последнего периода" as="dz_pros_end" key="0" />
        <call function="-nvl" title="Динамика ДЗ ПР  последнего периода" as="ddz_pros" key="0">
          <column table="this" column="dz_pros_end" />
          <column table="this" column="dz_pros_beg" />
        </call>
        <column table="kod_otrasl" column="name" as="otrasl" group="max" key="0" />
        <column group="max" table="kod_ist" column="name" as="budget" key="0" />
        <column table="m" column="name_p" title="Район" as="raion" group="max" key="0" />
        <call function="adress_region" as="n77" key="0">
          <column table="kodp" column="kod_d" />
        </call>
      </select>
      <from>
        <query name="sqlb_rep_61880_11_tbl" as="a" />
        <query name="kr_dogovor" join="left outer" as="kr_dogovor" dname="61880_11-main" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="kr_dogovor" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
          <link name="kod_ist" as="kod_ist" table="ks_istfin" child="kr_dogovor" field="kod_ist" parent="ks_istfin" back="kr_dogovor" title="Источники финансирования" />
        </query>
        <query name="adr_m" as="m" join="left outer" dname="61880_11-main" title="Административно территориальная единица">
          <call function="=">
            <column table="m" column="kod_m" />
            <column table="this" column="n77" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="dog">
            <group>
              <column table="this" column="kod_dog" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_11-param" timestamp="02.02.2022 18:03:50" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <params>
        <param name="dep" type="number" />
        <param part="54556-params" name="ym" type="number" />
      </params>
      <select>
        <call function="ym to char" as="ym_0" key="0">
          <useparam name="ym" />
        </call>
        <call function="ym to char" as="ym_1" key="0">
          <call function="ym add month">
            <useparam name="ym" />
            <const>-1</const>
          </call>
        </call>
        <call function="ym to char" as="ym_2" key="0">
          <call function="ym add month">
            <useparam name="ym" />
            <const>-2</const>
          </call>
        </call>
      </select>
      <from>
        <query name="dual" as="dual" />
      </from>
    </query>
    <query name="61880_13-main" nogrid="1" timestamp="05.02.2024 17:17:07" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="ndog" title="Номер договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Клиент" as="payer_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <call function="mes-name" title="Месяц" as="mes" key="0">
          <call function="mes">
            <column table="a" column="ym" />
          </call>
        </call>
        <call function="year" title="Год" as="year" type="string" key="0">
          <call function="ym begin time">
            <column table="a" column="ym" />
          </call>
        </call>
        <column table="a" column="dz_beg" title="Сальдо на нач. мес." as="dz_beg" key="0" />
        <column table="a" column="nach_per" title="Начислено (руб.)" as="nach_per" key="0" />
        <column table="a" column="opl_per" title="Оплачено (руб.)" as="opl_per" key="0" />
        <call title="Процент оплаты" function="/" as="perc_opl" key="0">
          <call function="*">
            <column table="a" column="opl_per" />
            <const>100</const>
          </call>
          <column table="a" column="nach_per" />
        </call>
        <column table="a" column="dz_end" title="Сальдо на кон. мес. (руб.)" as="dz_end" key="0" />
        <column table="a" column="cust" title="Начислено, кВтч" as="cust" key="0" />
        <call function="()" as="n1" title="Вид ценообразования" key="0">
          <const type="string" as="n1">'Договорная цена'</const>
        </call>
        <column table="rs127" column="name" title="Группа клиентов" as="n2" key="0" />
        <call function="()" as="n3" title="Министерство" key="0">
          <const type="string" as="n1">''</const>
        </call>
        <call table="kod_okved" column="name" title="ОКВЭД" as="n4" function="||-" key="0">
          <column table="kod_okved" column="okved" />
          <column table="kod_okved" column="name" />
        </call>
        <column table="rs123" column="name" as="n5" title="Отрасль НХ" key="0" />
        <call function="()" as="n6" title="Признак малого и среднего бизнеса" key="0">
          <const type="string" as="n1">''</const>
        </call>
        <call function="adress_region" as="n77" key="0">
          <column table="kodp" column="kod_d" />
        </call>
        <column table="m" column="name_p" title="Район" as="n7" key="0" />
        <call function="()" as="n8" title="Статус договора" key="0">
          <const type="string" as="n1">'Действует'</const>
        </call>
        <column table="kod_vdog" column="name" as="n9" title="Тип договора" key="0" />
        <call function="()" as="n10" title="Тип учета" key="0">
          <const type="string" as="n1">''</const>
        </call>
        <column table="rs125" column="name" as="n11" title="Тип учета УПЮЛ" key="0" />
        <column table="kod_ist" column="name" title="Бюджет" as="n12" key="0" />
        <column table="gc" column="name_level_1" title="Отрасль ээ 1 уровень" as="gr_potr_name_level1" comment="&quot;Группа потребителей&quot; из справочника &quot;Отрасли ЭЭ&quot;, первый уровень" key="0" />
        <column table="gc" column="name_level_2" title="Отрасль ээ 2 уровень" as="gr_potr_name_level2" comment="&quot;Группа потребителей&quot; из справочника &quot;Отрасли ЭЭ&quot;, второй уровень" key="0" />
        <column table="gc" column="name_level_3" title="Отрасль ээ 3 уровень" as="gr_potr_name_level3" comment="&quot;Группа потребителей&quot; из справочника &quot;Отрасли ЭЭ&quot;, третий уровень" key="0" />
        <column table="gc" column="name_level_4" title="Отрасль ээ 4 уровень" as="gr_potr_name_level4" comment="&quot;Группа потребителей&quot; из справочника &quot;Отрасли ЭЭ&quot;, четвертый уровень" key="0" />
        <column table="gc" column="name_level_5" title="Отрасль ээ 5 уровень" as="gr_potr_name_level5" comment="&quot;Группа потребителей&quot; из справочника &quot;Отрасли ЭЭ&quot;, пятый уровень" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_13_tbl" as="a" />
        <query name="kr_dogovor_dop" join="left outer" as="dd" dname="61880_13-main">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="dd" column="kod_dog" />
          </call>
        </query>
        <query name="kv_group_cust_level" join="left outer" as="gc" dname="61880_13-main">
          <call function="=">
            <column table="dd" column="kod_group_cust" />
            <column table="gc" column="kod_group_cust" />
          </call>
        </query>
        <query name="rr_refprop_dog_127" join="left outer" as="r127" dname="61880_13-main" title="Группа клиентов">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="r127" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rs127" dname="61880_13-main">
          <call function="=">
            <column table="r127" column="kod_refcode" />
            <column table="rs127" column="kod_refcode" />
          </call>
        </query>
        <query name="kr_dogovor" join="inner" as="d" dname="61880_13-main" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
          </link>
          <link name="kod_vdog" as="kod_vdog" table="ks_vdog" child="kr_dogovor" field="kod_vdog" parent="ks_vdog" back="kr_dogovor" title="Вид договора" />
          <link name="kod_ist" as="kod_ist" table="ks_istfin" child="kr_dogovor" field="kod_ist" parent="ks_istfin" back="kr_dogovor" title="Источники финансирования" />
        </query>
        <query name="rr_refprop_dog_123" join="left outer" as="r123" dname="61880_13-main" title="Отрасль">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="r127" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rs123" dname="61880_13-main">
          <call function="=">
            <column table="r123" column="kod_refcode" />
            <column table="rs123" column="kod_refcode" />
          </call>
        </query>
        <query name="adr_m" as="m" join="left outer" dname="61880_13-main" title="Административно территориальная единица">
          <call function="=">
            <column table="m" column="kod_m" />
            <column table="this" column="n77" />
          </call>
        </query>
        <query name="rr_refprop_dog_125" join="left outer" as="r125" dname="61880_13-main" title="Тип учета ЮЛ">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="r125" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rs125" dname="61880_13-main">
          <call function="=">
            <column table="r125" column="kod_refcode" />
            <column table="rs125" column="kod_refcode" />
          </call>
        </query>
      </from>
    </query>
    <query name="61880_11-main_new" timestamp="20.05.2022 20:51:43" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
      </params>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ndog" group="max" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" group="max" title="Наименование клиента" as="payer_name" key="0" />
        <column group="sum" table="a" column="dz_beg" title="ДЗ на начало периода" dimname="ym" as="dz_beg" key="0" pivot="1">
          <pivot>
            <call function="=">
              <column table="a" column="ym" />
              <column table="dim" column="ym" />
            </call>
            <query order="ym">
              <select>
                <column table="t" column="ym" as="ym" />
                <column table="t" column="name" as="name" />
              </select>
              <from>
                <query name="spr_time_ym" as="t" />
              </from>
              <where>
                <call function="and">
                  <call function="between">
                    <column table="t" column="ym" />
                    <query>
                      <select>
                        <column table="y" column="ym" group="min" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                    <query>
                      <select>
                        <column table="y" column="ym" group="max" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                  </call>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" column="nach_per" title="Фактическое потребление в периоде" dimname="ym" as="nach_per" key="0" pivot="1">
          <pivot>
            <call function="=">
              <column table="a" column="ym" />
              <column table="dim" column="ym" />
            </call>
            <query order="ym">
              <select>
                <column table="t" column="ym" as="ym" />
                <column table="t" column="name" as="name" />
              </select>
              <from>
                <query name="spr_time_ym" as="t" />
              </from>
              <where>
                <call function="and">
                  <call function="between">
                    <column table="t" column="ym" />
                    <query>
                      <select>
                        <column table="y" column="ym" group="min" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                    <query>
                      <select>
                        <column table="y" column="ym" group="max" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                  </call>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" column="opl_per" title="Фактическая оплата в периоде" dimname="ym" as="opl_per" key="0" pivot="1">
          <pivot>
            <call function="=">
              <column table="a" column="ym" />
              <column table="dim" column="ym" />
            </call>
            <query order="ym">
              <select>
                <column table="t" column="ym" as="ym" />
                <column table="t" column="name" as="name" />
              </select>
              <from>
                <query name="spr_time_ym" as="t" />
              </from>
              <where>
                <call function="and">
                  <call function="between">
                    <column table="t" column="ym" />
                    <query>
                      <select>
                        <column table="y" column="ym" group="min" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                    <query>
                      <select>
                        <column table="y" column="ym" group="max" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                  </call>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" column="dz_end" title="ДЗ на конец периода" dimname="ym" as="dz_end" key="0" pivot="1">
          <pivot>
            <call function="=">
              <column table="a" column="ym" />
              <column table="dim" column="ym" />
            </call>
            <query order="ym">
              <select>
                <column table="t" column="ym" as="ym" />
                <column table="t" column="name" as="name" />
              </select>
              <from>
                <query name="spr_time_ym" as="t" />
              </from>
              <where>
                <call function="and">
                  <call function="between">
                    <column table="t" column="ym" />
                    <query>
                      <select>
                        <column table="y" column="ym" group="min" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                    <query>
                      <select>
                        <column table="y" column="ym" group="max" as="ym" />
                      </select>
                      <from>
                        <query name="sqlb_rep_61880_11_new_tbl" as="y" />
                      </from>
                    </query>
                  </call>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column table="a" column="dz_pros_beg" group="sum" title="ДЗ ПР на начало последнего периода" as="dz_pros_beg" key="0" />
        <column table="a" column="dz_pros_end" group="sum" title="ДЗ ПР на конец последнего периода" as="dz_pros_end" key="0" />
        <call function="-nvl" title="Динамика ДЗ ПР  последнего периода" as="ddz_pros" key="0">
          <column table="this" column="dz_pros_end" />
          <column table="this" column="dz_pros_beg" />
        </call>
        <column table="kod_otrasl" column="name" as="otrasl" group="max" key="0" />
        <column group="max" table="kod_ist" column="name" as="budget" key="0" />
        <column table="m" column="name_p" title="Район" as="raion" group="max" key="0" />
        <call function="adress_region" as="n77" key="0">
          <column table="kodp" column="kod_d" />
        </call>
      </select>
      <from>
        <query name="sqlb_rep_61880_11_new_tbl" as="a" />
        <query name="kr_dogovor" join="left outer" as="kr_dogovor" dname="61880_11-main_new" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="kr_dogovor" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
          <link name="kod_ist" as="kod_ist" table="ks_istfin" child="kr_dogovor" field="kod_ist" parent="ks_istfin" back="kr_dogovor" title="Источники финансирования" />
        </query>
        <query name="adr_m" as="m" join="left outer" dname="61880_11-main_new" title="Административно территориальная единица">
          <call function="=">
            <column table="m" column="kod_m" />
            <column table="this" column="n77" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="dog">
            <group>
              <column table="this" column="kod_dog" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_12" is-report="1" title="4.6.2.3.4.3. Бюджет движения денежных средств" nogrid="1" timestamp="06.02.2024 10:27:03" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_12.xml">
      <params>
        <param name="p_dep" controlType="UICombo" title="Отделение" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" show-checkbox="0" />
        <param name="p_ym_beg" controlType="UICombo" title="с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_end" controlType="UICombo" title="по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="61880_12.xlsx" title="Бюджет движения денежных средств" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" show-checkbox="0" />
        <fieldgroup title="Период">
          <usefield field="asuse_ym_tek_dep" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="asuse_ym_tek_dep" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_12.fill_table(:p_ym_beg,:p_ym_end);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="payer_name" as="payer_name" key="0" />
        <column table="a" column="ndog" as="ndog" key="0" />
        <column table="gc" column="name_level_1" title="Отрасль ээ 1 уровень" comment="&quot;Группа потребителей&quot; из справочника &quot;Отрасли ЭЭ&quot;, первый уровень" as="name_gr" type="string" key="0" />
        <column table="a" column="dz_pros_beg" as="dz_pros_beg" key="0" />
        <column table="a" column="dz_beg" as="dz_beg" key="0" />
        <column table="a" column="kz_beg" as="kz_beg" key="0" />
        <column table="a" column="nach_per" as="nach_per" key="0" />
        <column table="a" column="nach_per_av" as="nach_per_av" key="0" />
        <column table="a" column="opl_per_rs" as="opl_per_rs" key="0" />
        <column table="a" column="opl_per_rs_av" as="opl_per_rs_av" key="0" />
        <column table="a" column="opl_per_k" as="opl_per_k" key="0" />
        <column table="a" column="opl_per_k_av" as="opl_per_k_av" key="0" />
        <column table="a" column="opl_per_v" as="opl_per_v" key="0" />
        <column table="a" column="opl_per_v_av" as="opl_per_v_av" key="0" />
        <column table="a" column="opl_per_v3" as="opl_per_v3" key="0" />
        <column table="a" column="opl_per_v3_av" as="opl_per_v3_av" key="0" />
        <column table="a" column="opl_per_oth" as="opl_per_oth" key="0" />
        <column table="a" column="opl_per_oth_av" as="opl_per_oth_av" key="0" />
        <column table="a" column="dz_spis_end" as="dz_spis_end" key="0" />
        <column table="a" column="kz_spis_end" as="kz_spis_end" key="0" />
        <column table="a" column="dz_end" as="dz_end" key="0" />
        <column table="a" column="kz_end" as="kz_end" key="0" />
        <column table="a" column="dz_pros_end" as="dz_pros_end" key="0" />
        <column table="a" column="gr_potr_bdds" as="gr_potr_bdds" key="0" />
        <column table="a" column="sdat_beg" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_12_tbl" as="a" />
        <query name="kr_dogovor_dop" join="left outer" as="dd" dname="61880_12">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="dd" column="kod_dog" />
          </call>
        </query>
        <query name="kv_group_cust_level" join="left outer" as="gc" dname="61880_12">
          <call function="=">
            <column table="dd" column="kod_group_cust" />
            <column table="gc" column="kod_group_cust" />
          </call>
        </query>
        <query name="rr_refprop_dog_81" join="left outer" as="r81" updateable="1" dname="61880_12" title="Группы потребителей">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="r81" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="c81" join="left outer" updateable="1" dname="61880_12">
          <call function="=">
            <column table="r81" column="kod_refcode" />
            <column table="c81" column="kod_refcode" />
          </call>
        </query>
      </from>
    </query>
    <query name="61880_14-data" timestamp="04.05.2022 14:55:29" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <select>
        <column table="dog" column="dep" as="dep" key="0" />
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ndog" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" as="payer_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" reference="ies_garant_spr_ck" refcol="id" key="0" />
        <column table="ck" column="name" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" reference="ies_garant_spr_mvt" refcol="id" key="0" />
        <column table="mvt" column="name" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" reference="ies_garant_spr_vidacc" refcol="id" key="0" />
        <column table="vidacc" column="name" as="name_vidacc" key="0" />
        <column table="a" column="fsk_kvt" title="ФСК кВт*ч" as="fsk_kvt" key="0" />
        <column table="a" column="fsk_nachisl" title="ФСК руб." as="fsk_nachisl" key="0" />
        <column table="a" column="gn_kvt" title="ГН кВт*ч" as="gn_kvt" key="0" />
        <column table="a" column="gn_nachisl" title="ГН руб." as="gn_nachisl" key="0" />
        <column table="a" column="vn_kvt" title="ВН (110-220) кВт*ч" as="vn_kvt" key="0" />
        <column table="a" column="vn_nachisl" title="ВН (110-220) руб." as="vn_nachisl" key="0" />
        <column table="a" column="sn1_kvt" title="СН1(35) кВт*ч" as="sn1_kvt" key="0" />
        <column table="a" column="sn1_nachisl" title="СН1(35) руб." as="sn1_nachisl" key="0" />
        <column table="a" column="sn2_kvt" title="СН2 (6-10) кВт*ч" as="sn2_kvt" key="0" />
        <column table="a" column="sn2_nachisl" title="СН2 (6-10) руб." as="sn2_nachisl" key="0" />
        <column table="a" column="nn_kvt" title="НН (0,4) кВт*ч" as="nn_kvt" key="0" />
        <column table="a" column="nn_nachisl" title="НН (0,4) руб." as="nn_nachisl" key="0" />
        <column table="a" column="itog_kvt" title="Итого кВт*ч" as="itog_kvt" key="0" />
        <column table="a" column="itog_nachisl" title="Итого руб." as="itog_nachisl" key="0" />
        <column table="a" column="itog_nachisl_nds" title="Итого руб. с НДС" as="itog_nachisl_nds" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_14_tbl" as="a" />
        <query name="kr_dogovor" join="left outer" as="dog" dname="61880_14-data" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="dog" column="kod_dog" />
          </call>
        </query>
        <query name="ies_garant_spr_ck" as="ck" join="left outer" dname="61880_14-data" title="Ценовая категория">
          <call function="=">
            <column table="a" column="kod_ck" />
            <column table="ck" column="id" />
          </call>
        </query>
        <query name="ies_garant_spr_mvt" as="mvt" join="left outer" dname="61880_14-data" title="Группы мощности">
          <call function="=">
            <column table="a" column="kod_mvt" />
            <column table="mvt" column="id" />
          </call>
        </query>
        <query name="ies_garant_spr_vidacc" as="vidacc" join="left outer" dname="61880_14-data">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <column table="vidacc" column="id" />
          </call>
        </query>
      </from>
    </query>
    <query name="ies_garant_spr_vidacc" order="id" timestamp="20.02.2022 13:35:24" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'электроэнергия, кВтч'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>2</const>
                <const>'генерирующая мощность, кВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>3</const>
                <const>'сетевая мощность, кВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="ies_garant_spr_ck" order="id" timestamp="20.02.2022 13:38:45" title="Ценовая категория" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'1 ценовая категория'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>2</const>
                <const>'2 ценовая категория'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>3</const>
                <const>'3 ценовая категория'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>4</const>
                <const>'4 ценовая категория'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>5</const>
                <const>'5 ценовая категория'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>6</const>
                <const>'6 ценовая категория'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="ies_garant_spr_mvt" order="id" timestamp="20.02.2022 13:41:58" title="Группы мощности" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'макс. мощность от 0 до 149 кВт '</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>2</const>
                <const>'макс. мощность от 150 кВт до 669 кВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>3</const>
                <const>'макс. мощность от 670 кВт до 9999 кВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>4</const>
                <const>'макс. мощностью св. 10 МВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="61880_14-itog-all" nogrid="1" timestamp="26.01.2023 16:02:24" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <params>
        <param name="p_kod_adr_m" />
      </params>
      <select>
        <column table="a" column="dep" as="dep" key="0" />
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ndog" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" as="payer_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" key="0" />
        <column table="a" column="name_ck" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" key="0" />
        <column table="a" column="name_mvt" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" key="0" />
        <column table="a" column="name_vidacc" as="name_vidacc" key="0" />
        <call function="if" title="ГН кВт*ч" group="sum" as="gn_kvt" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="gn_kvt" />
        </call>
        <column table="a" column="gn_nachisl" title="ГН руб." group="sum" as="gn_nachisl" key="0" />
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_kvt" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_kvt" />
        </call>
        <column table="a" column="fsk_nachisl" title="ФСК руб." group="sum" as="fsk_nachisl" key="0" />
        <call function="if" title="ВН (110-220) кВт*ч" group="sum" as="vn_kvt" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="vn_kvt" />
        </call>
        <column table="a" column="vn_nachisl" title="ВН (110-220) руб." group="sum" as="vn_nachisl" key="0" />
        <call function="if" title="СН1(35) кВт*ч" group="sum" as="sn1_kvt" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_kvt" />
        </call>
        <column table="a" column="sn1_nachisl" title="СН1(35) руб." group="sum" as="sn1_nachisl" key="0" />
        <call function="if" title="СН2 (6-10) кВт*ч" group="sum" as="sn2_kvt" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_kvt" />
        </call>
        <column table="a" column="sn2_nachisl" title="СН2 (6-10) руб." group="sum" as="sn2_nachisl" key="0" />
        <call function="if" title="НН (0,4) кВт*ч" group="sum" as="nn_kvt" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="nn_kvt" />
        </call>
        <column table="a" column="nn_nachisl" title="НН (0,4) руб." group="sum" as="nn_nachisl" key="0" />
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_kvt" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="itog_kvt" />
        </call>
        <column table="a" column="itog_nachisl" title="Итого руб." group="sum" as="itog_nachisl" key="0" />
        <column table="a" column="itog_nachisl_nds" title="Итого руб. с НДС" group="sum" as="itog_nachisl_nds" key="0" />
      </select>
      <from>
        <query name="61880_14-data" as="a" />
        <query name="kr_dogovor" join="left outer" as="k" dname="61880_14-itog-all" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="k" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in" optional="1">
            <column table="k" column="adress_region" />
            <useparam name="p_kod_adr_m" />
          </call>
          <call function="true" />
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <group>
            <column table="a" column="dep" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="61880_14-itog-all-vidacc" nogrid="1" timestamp="25.01.2023 18:38:39" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <params>
        <param name="p_kod_adr_m" />
      </params>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ndog" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" as="payer_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" key="0" />
        <column table="a" column="name_ck" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" key="0" />
        <column table="a" column="name_mvt" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" key="0" />
        <column table="a" column="name_vidacc" group="max" as="name_vidacc" key="0" />
        <column table="a" column="fsk_kvt" title="ФСК кВт*ч" group="sum" as="fsk_kvt" key="0" />
        <column table="a" column="fsk_nachisl" title="ФСК руб." group="sum" as="fsk_nachisl" key="0" />
        <column table="a" column="gn_kvt" title="ГН кВт*ч" group="sum" as="gn_kvt" key="0" />
        <column table="a" column="gn_nachisl" title="ГН руб." group="sum" as="gn_nachisl" key="0" />
        <column table="a" column="vn_kvt" title="ВН (110-220) кВт*ч" group="sum" as="vn_kvt" key="0" />
        <column table="a" column="vn_nachisl" title="ВН (110-220) руб." group="sum" as="vn_nachisl" key="0" />
        <column table="a" column="sn1_kvt" title="СН1(35) кВт*ч" group="sum" as="sn1_kvt" key="0" />
        <column table="a" column="sn1_nachisl" title="СН1(35) руб." group="sum" as="sn1_nachisl" key="0" />
        <column table="a" column="sn2_kvt" title="СН2 (6-10) кВт*ч" group="sum" as="sn2_kvt" key="0" />
        <column table="a" column="sn2_nachisl" title="СН2 (6-10) руб." group="sum" as="sn2_nachisl" key="0" />
        <column table="a" column="nn_kvt" title="НН (0,4) кВт*ч" group="sum" as="nn_kvt" key="0" />
        <column table="a" column="nn_nachisl" title="НН (0,4) руб." group="sum" as="nn_nachisl" key="0" />
        <column table="a" column="itog_kvt" title="Итого кВт*ч" group="sum" as="itog_kvt" key="0" />
        <column table="a" column="itog_nachisl" title="Итого руб." group="sum" as="itog_nachisl" key="0" />
        <column table="a" column="itog_nachisl_nds" title="Итого руб. с НДС" group="sum" as="itog_nachisl_nds" key="0" />
      </select>
      <from>
        <query name="61880_14-data" as="a" />
        <query name="kr_dogovor" join="left outer" as="k" dname="61880_14-itog-all-vidacc" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="k" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in" optional="1">
            <column table="k" column="adress_region" />
            <useparam name="p_kod_adr_m" />
          </call>
          <call function="true" />
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <group>
            <column table="this" column="kod_vidacc" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="61880_14-dog" nogrid="1" timestamp="25.01.2023 18:39:36" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <params>
        <param name="p_kod_adr_m" />
      </params>
      <select>
        <column table="a" column="dep" as="dep" key="0" />
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ndog" title="№ договора" group="max" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" group="max" as="payer_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" key="0" />
        <column table="a" column="name_ck" group="max" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" key="0" />
        <column table="a" column="name_mvt" group="max" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" key="0" />
        <column table="a" column="name_vidacc" group="max" as="name_vidacc" key="0" />
        <call function="if" title="ГН кВт*ч" group="sum" as="gn_kvt1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="gn_kvt" />
        </call>
        <column table="a" column="gn_kvt" title="ГН кВт*ч" group="sum" nvl="0" as="gn_kvt" key="0" />
        <column table="a" column="gn_nachisl" title="ГН руб." group="sum" nvl="0" as="gn_nachisl" key="0" />
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_kvt1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_kvt" />
        </call>
        <column table="a" column="fsk_kvt" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_kvt" key="0" />
        <column table="a" column="fsk_nachisl" title="ФСК руб." group="sum" nvl="0" as="fsk_nachisl" key="0" />
        <call function="if" title="ВН (110-220) кВт*ч" group="sum" as="vn_kvt1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="vn_kvt" />
        </call>
        <column table="a" column="vn_kvt" title="ВН (110-220) кВт*ч" group="sum" nvl="0" as="vn_kvt" key="0" />
        <column table="a" column="vn_nachisl" title="ВН (110-220) руб." group="sum" nvl="0" as="vn_nachisl" key="0" />
        <call function="if" title="СН1(35) кВт*ч" group="sum" as="sn1_kvt1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_kvt" />
        </call>
        <column table="a" column="sn1_kvt" title="СН1(35) кВт*ч" group="sum" nvl="0" as="sn1_kvt" key="0" />
        <column table="a" column="sn1_nachisl" title="СН1(35) руб." group="sum" nvl="0" as="sn1_nachisl" key="0" />
        <call function="if" title="СН2 (6-10) кВт*ч" group="sum" as="sn2_kvt1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_kvt" />
        </call>
        <column table="a" column="sn2_kvt" title="СН2 (6-10) кВт*ч" group="sum" nvl="0" as="sn2_kvt" key="0" />
        <column table="a" column="sn2_nachisl" title="СН2 (6-10) руб." group="sum" nvl="0" as="sn2_nachisl" key="0" />
        <call function="if" title="НН (0,4) кВт*ч" group="sum" as="nn_kvt1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="nn_kvt" />
        </call>
        <column table="a" column="nn_kvt" title="НН (0,4) кВт*ч" group="sum" nvl="0" as="nn_kvt" key="0" />
        <column table="a" column="nn_nachisl" title="НН (0,4) руб." group="sum" nvl="0" as="nn_nachisl" key="0" />
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_kvt1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="itog_kvt" />
        </call>
        <column table="a" column="itog_kvt" title="Итого кВт*ч" group="sum" nvl="0" as="itog_kvt" key="0" />
        <column table="a" column="itog_nachisl" title="Итого руб." group="sum" nvl="0" as="itog_nachisl" key="0" />
        <column table="a" column="itog_nachisl_nds" title="Итого руб. с НДС" group="sum" nvl="0" as="itog_nachisl_nds" key="0" />
      </select>
      <from>
        <query name="61880_14-data" as="a" />
        <query name="kr_dogovor" join="left outer" as="k" dname="61880_14-dog" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="k" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in" optional="1">
            <column table="k" column="adress_region" />
            <useparam name="p_kod_adr_m" />
          </call>
          <call function="true" />
        </call>
      </where>
      <grouping>
        <grset as="dog">
          <group>
            <column table="a" column="kod_dog" />
          </group>
          <grset as="itogvc">
            <group>
              <column table="a" column="kod_vidacc" />
            </group>
          </grset>
          <grset as="ck">
            <group>
              <column table="a" column="kod_ck" />
            </group>
            <grset as="mvt">
              <group>
                <column table="a" column="kod_mvt" />
              </group>
              <grset as="vidacc">
                <group>
                  <column table="a" column="kod_vidacc" />
                </group>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_15" timestamp="11.04.2022 08:56:20" is-report="1" title="4.6.2.3.2.7. Структура потребления электрической энергии (в разрезе ОКВЭД)" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_15.xml">
      <params>
        <param name="p_dep" controlType="UICombo" title="Отделение" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_beg" controlType="UICombo" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="61880_15.xlsx" title="Структура потребления электрической энергии (в разрезе ОКВЭД)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym_beg" />
        <usefield field="asuse_adr_m_subject_dep" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_15.fill_table(:p_ym_beg);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="d" column="adress_region" as="adress_region" key="0" />
        <column table="a" column="kod_razd" as="kod_razd" key="0" />
        <column table="a" column="name_razd" group="max" as="name_razd" key="0" />
        <column table="a" column="name_razd_a" group="max" as="name_razd_a" key="0" />
        <column table="a" column="kod_name_razd_a" group="max" as="kod_name_razd_a" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="name_podrazd" group="max" as="name_podrazd" key="0" />
        <column table="a" column="name_podrazd_a" group="max" as="name_podrazd_a" key="0" />
        <column table="a" column="kod_name_podrazd_a" group="max" as="kod_name_podrazd_a" key="0" />
        <column table="a" column="payer_name" group="max" as="payer_name" key="0" />
        <column table="a" column="kod_okved" as="kod_okved" reference="ks_okved" refcol="kod_okved" key="0" />
        <column group="max" table="o" column="okved" as="okved" key="0" />
        <column group="max" table="o" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="kvth" group="sum" mp="-3" as="kvth" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_15_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880_15" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
        <query name="ks_okved" as="o" join="left outer" dname="61880_15">
          <call function="=">
            <column table="a" column="kod_okved" />
            <column table="o" column="kod_okved" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="payer_name">
                <group>
                  <column table="this" column="kodp" />
                </group>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-r1" timestamp="24.03.2022 10:49:02" title="Макет 4.41" is-report="1" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param name="p_dep" controlType="UICombo" title="Отделение" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_beg" controlType="UICombo" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param controlType="UICheck" checked="0" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="no_dog" title="Выводить детализацию по договорам" />
      </params>
      <print-templates>
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym_beg" />
        <usefield field="asuse_adr_m_subject_dep" />
        <usefield type="number" field="cmn_check" name="no_dog" title="Выводить детализацию по договорам" />
      </content>
      <procedure>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="kodp" column="name" group="max" as="namep" key="0" />
        <column table="d" column="ndog" group="max" as="ndog" key="0" />
        <column table="d" column="adress_region" as="adress_region" key="0" />
        <column table="kod_razd" column="kod_razd" as="kod_razd" key="0" />
        <column table="kod_razd" column="razdel" group="max" title="раздел" as="razdel" key="0" />
        <column table="kod_razd" column="name" group="max" as="name_razd" key="0" />
        <column table="kod_razd" column="kod_str_ies" group="max" as="str_razd_ies" key="0" />
        <call function="get_podrazdel_ies" as="kod_podrazd" key="0">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <column table="kod_podrazd" column="razdel" group="max" as="podrazdel" title="подраздел" key="0" />
        <column table="kod_podrazd" column="name" group="max" as="name_podrazdel" key="0" />
        <column table="kod_podrazd" column="kod_str_ies" group="max" as="str_porazdel_ies" key="0" />
        <column table="kod_okved" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="kod_okved" column="okved" as="okved" key="0" />
        <column group="max" table="kod_okved" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year" key="0" />
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="rc" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880-17-data-r1" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
          </link>
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer" dname="61880-17-data-r1">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" as="kod_razd" table="ks_okved_razdel" child="ks_okved_podrazdel" field="kod_razd" parent="ks_okved_razdel" back="ks_okved_podrazdel" />
        </query>
        <query name="rr_refprop_dog_141" as="r141" join="left outer" dname="61880-17-data-r1" title="Группы договоров к макету 4.41">
          <call function="=">
            <column table="r141" column="kod_dog" />
            <column table="a" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="rc" join="left outer" dname="61880-17-data-r1">
          <call function="=">
            <column table="r141" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data" timestamp="22.09.2022 12:04:40" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml" haskeys="1">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="kodp" column="name" as="namep" group="max" key="0" />
        <column table="d" column="ndog" group="max" as="ndog" key="0" />
        <column table="d" column="adress_region" group="1" as="adress_region" key="1" fixed="1" />
        <column table="d" column="kod_vdog" group="1" as="kod_vdog" key="1" fixed="1" />
        <column table="kod_otrasl" column="kod_otrasl" group="1" as="kod_otrasl" key="1" fixed="1" />
        <column table="kod_razd" column="kod_razd" group="1" as="kod_razd" key="1" fixed="1" />
        <column table="kod_razd" column="razdel" title="раздел" group="max" as="razdel" key="0" />
        <column table="kod_razd" column="name" group="max" as="name_razd" key="0" />
        <column table="kod_razd" column="kod_str_ies" group="max" as="str_razd_ies" key="0" />
        <call function="get_podrazdel_ies" as="kod_podrazd" group="1" key="1" fixed="1">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <column table="kod_podrazd" column="razdel" group="max" as="podrazdel" title="подраздел" key="0" />
        <column table="kod_podrazd" column="name" group="max" as="name_podrazdel" key="0" />
        <column table="kod_podrazd" column="kod_str_ies" group="max" as="str_porazdel_ies" key="0" />
        <column table="kod_okved" column="kod_okved" title="оквэд" group="1" as="kod_okved" key="1" fixed="1" />
        <column group="max" table="kod_okved" column="okved" as="okved" key="0" />
        <column group="max" table="kod_okved" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year" key="0" />
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880-17-data" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer" dname="61880-17-data">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" as="kod_razd" table="ks_okved_razdel" child="ks_okved_podrazdel" field="kod_razd" parent="ks_okved_razdel" back="ks_okved_podrazdel" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
        </call>
      </where>
    </query>
    <query name="61880-17-data-rd1" timestamp="08.04.2022 11:00:07" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" group="max" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-title" timestamp="05.04.2022 21:36:20" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep">
          <const>20488</const>
        </param>
        <param type="number" name="p_ym_beg">
          <const>2022.01</const>
        </param>
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <call function="if" as="p_dep_text" type="string" title="Отделения" key="0">
          <call function="is not null">
            <column table="a" column="name" group="stragg_dist" />
          </call>
          <column table="a" column="sname" group="stragg_dist" />
        </call>
        <call as="p_ym_beg" function="ym to char" key="0">
          <useparam name="p_ym_beg" />
        </call>
        <call function="if" as="kod_adr_m_text" type="string" title="субъекты федерации" key="0">
          <call function="is not null">
            <column table="b" column="name_p" group="stragg_dist" />
          </call>
          <column table="b" column="name_p" group="stragg_dist" />
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
        <query name="adr_m_subject_list_dep" as="b" join="cross">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="and">
            <call function="in" optional="1">
              <column table="a" column="kodp" />
              <useparam name="p_dep" />
            </call>
            <call function="in" optional="1">
              <column table="b" column="kod_m" />
              <useparam name="kod_adr_m" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="61880-17-data-rd1a" timestamp="07.04.2022 12:13:41" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call as="kod_razd" function="()" type="number" key="0">
          <const>1</const>1</call>
        <call as="razdel" function="null" group="max" type="number" key="0">1</call>
        <call group="max" function="()" as="name_razd" type="string" key="0">
          <const type="string">'Полезный отпуск потребителям, всего'</const>
        </call>
        <call as="str_razd_ies" function="()" group="max" type="number" key="0">
          <const type="number">10900</const>1</call>
        <call function="if" as="kod_podrazd" type="number" key="0">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <call function="array">
              <const>188</const>
              <const>194</const>
            </call>
          </call>
          <const>1</const>
          <const>2</const>
        </call>
        <call function="null" group="max" as="podrazdel" type="number" key="0" />
        <call function="if" as="name_podrazdel" type="string" group="max" key="0">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <call function="array">
              <const>188</const>
              <const>194</const>
            </call>
          </call>
          <const type="string">'по договорам энергоснабжения'</const>
          <const type="string">'по договорам купли-продажи электрической энергии'</const>
        </call>
        <call function="if" as="str_porazdel_ies" type="number" group="max" key="0">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <call function="array">
              <const>188</const>
              <const>194</const>
            </call>
          </call>
          <const type="number">10901</const>
          <const type="number">10902</const>
        </call>
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_ls10400" timestamp="25.05.2022 15:32:07" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" group="max" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="lt">
            <column table="this" column="str_razd_ies" />
            <const>10400</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_gt10400" timestamp="25.05.2022 15:33:47" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" group="max" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="this" column="str_razd_ies" />
            <const>10400</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data_10400" timestamp="25.05.2022 23:13:18" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml" haskeys="1">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="kodp" column="name" as="namep" group="max" key="0" />
        <column table="d" column="ndog" group="max" as="ndog" key="0" />
        <column table="d" column="adress_region" group="1" as="adress_region" key="1" fixed="1" />
        <column table="d" column="kod_vdog" group="1" as="kod_vdog" key="1" fixed="1" />
        <column table="rc" column="kod_refcode" group="1" as="kod_refcode" reference="rs_refcode" refcol="kod_refcode" key="1" fixed="1" />
        <column table="kod_razd" column="kod_razd" group="1" as="kod_razd" key="1" fixed="1" />
        <column table="kod_razd" column="razdel" title="раздел" group="max" as="razdel" key="0" />
        <column table="kod_razd" column="name" group="max" as="name_razd" key="0" />
        <column table="kod_razd" column="kod_str_ies" group="max" as="str_razd_ies" key="0" />
        <call function="get_podrazdel_ies" as="kod_podrazd" group="1" key="1" fixed="1">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <call function="get_podrazdel_ies2" as="kod_podrazd2" group="1" key="1" fixed="1">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <column table="kod_podrazd" column="razdel" group="max" as="podrazdel" title="подраздел" key="0" />
        <column table="kod_podrazd" column="name" group="max" as="name_podrazdel" key="0" />
        <column table="kod_podrazd" column="kod_str_ies" group="max" as="str_porazdel_ies" key="0" />
        <column table="kod_podrazd1" column="kod_okved" group="1" as="kod_podrazd1" title="подраздел" key="1" fixed="1" />
        <column table="kod_podrazd1" column="razdel" group="max" as="podrazdel1" title="подраздел" key="0" />
        <column table="kod_podrazd1" column="name" group="max" as="name_podrazdel1" key="0" />
        <column table="kod_podrazd1" column="kod_str_ies" group="max" as="str_porazdel_ies1" key="0" />
        <column table="kod_podrazd2" column="razdel" group="max" as="podrazdel2" title="подраздел" key="0" />
        <column table="kod_podrazd2" column="name" group="max" as="name_podrazdel2" key="0" />
        <column table="kod_podrazd2" column="kod_str_ies" group="max" as="str_porazdel_ies2" key="0" />
        <column table="kod_okved" column="kod_okved" title="оквэд" group="1" as="kod_okved" key="1" fixed="1" />
        <column group="max" table="kod_okved" column="okved" as="okved" key="0" />
        <column group="max" table="kod_okved" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year" key="0" />
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1201</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_refcode" />
            <const>1202</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880-17-data_10400" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
          </link>
        </query>
        <query name="ks_okved_podrazdel_2" as="kod_podrazd2" join="left outer" dname="61880-17-data_10400">
          <call function="=">
            <column table="this" column="kod_podrazd2" />
            <column table="kod_podrazd2" column="kod_okved" />
          </call>
          <link name="kod_podrazdel_1" as="kod_podrazd1" table="ks_okved_podrazdel_1" child="ks_okved_podrazdel_2" field="kod_podrazdel_1" parent="ks_okved_podrazdel_1" back="ks_okved_podrazdel_2" />
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer" dname="61880-17-data_10400">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" as="kod_razd" table="ks_okved_razdel" child="ks_okved_podrazdel" field="kod_razd" parent="ks_okved_razdel" back="ks_okved_podrazdel" />
        </query>
        <query name="rr_refprop_dog_141" as="r141" join="left outer" dname="61880-17-data_10400" title="Группы договоров к макету 4.41">
          <call function="=">
            <column table="r141" column="kod_dog" />
            <column table="a" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="rc" join="left outer" dname="61880-17-data_10400">
          <call function="=">
            <column table="r141" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880-17-data-rd1_10400" timestamp="25.05.2022 23:19:38" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="name_podrazdel1" group="max" as="name_podrazdel1" key="0" />
        <column table="a" column="name_podrazdel2" group="max" as="name_podrazdel2" key="0" />
        <column table="a" column="str_porazdel_ies1" group="max" as="str_porazdel_ies1" key="0" />
        <column table="a" column="str_porazdel_ies2" group="max" as="str_porazdel_ies2" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="kod_podrazd1" as="kod_podrazd1" key="0" />
        <column table="a" column="kod_podrazd2" as="kod_podrazd2" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_razd_ies" />
            <const>10400</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_351" timestamp="25.05.2022 23:35:23" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="name_podrazdel1" group="max" as="name_podrazdel1" key="0" />
        <column table="a" column="name_podrazdel2" group="max" as="name_podrazdel2" key="0" />
        <column table="a" column="str_porazdel_ies1" group="max" as="str_porazdel_ies1" key="0" />
        <column table="a" column="str_porazdel_ies2" group="max" as="str_porazdel_ies2" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="kod_podrazd1" as="kod_podrazd1" key="0" />
        <column table="a" column="kod_podrazd2" as="kod_podrazd2" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies1" />
            <const>10401</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_3511" timestamp="25.05.2022 23:47:02" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="name_podrazdel1" group="max" as="name_podrazdel1" key="0" />
        <column table="a" column="name_podrazdel2" group="max" as="name_podrazdel2" key="0" />
        <column table="a" column="str_porazdel_ies1" group="max" as="str_porazdel_ies1" key="0" />
        <column table="a" column="str_porazdel_ies2" group="max" as="str_porazdel_ies2" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="kod_podrazd1" as="kod_podrazd1" key="0" />
        <column table="a" column="kod_podrazd2" as="kod_podrazd2" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies2" />
            <const>10411</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_3512" timestamp="25.05.2022 23:56:00" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="name_podrazdel1" group="max" as="name_podrazdel1" key="0" />
        <column table="a" column="name_podrazdel2" group="max" as="name_podrazdel2" key="0" />
        <column table="a" column="str_porazdel_ies1" group="max" as="str_porazdel_ies1" key="0" />
        <column table="a" column="str_porazdel_ies2" group="max" as="str_porazdel_ies2" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="kod_podrazd1" as="kod_podrazd1" key="0" />
        <column table="a" column="kod_podrazd2" as="kod_podrazd2" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies2" />
            <const>10412</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_3514" timestamp="26.05.2022 00:01:53" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="name_podrazdel1" group="max" as="name_podrazdel1" key="0" />
        <column table="a" column="name_podrazdel2" group="max" as="name_podrazdel2" key="0" />
        <column table="a" column="str_porazdel_ies1" group="max" as="str_porazdel_ies1" key="0" />
        <column table="a" column="str_porazdel_ies2" group="max" as="str_porazdel_ies2" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="kod_podrazd1" as="kod_podrazd1" key="0" />
        <column table="a" column="kod_podrazd2" as="kod_podrazd2" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies2" />
            <const>10414</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_352" timestamp="26.05.2022 00:08:13" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="name_podrazdel1" group="max" as="name_podrazdel1" key="0" />
        <column table="a" column="name_podrazdel2" group="max" as="name_podrazdel2" key="0" />
        <column table="a" column="str_porazdel_ies1" group="max" as="str_porazdel_ies1" key="0" />
        <column table="a" column="str_porazdel_ies2" group="max" as="str_porazdel_ies2" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="kod_podrazd1" as="kod_podrazd1" key="0" />
        <column table="a" column="kod_podrazd2" as="kod_podrazd2" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies1" />
            <const>10420</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_353" timestamp="26.05.2022 00:08:37" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call function="if" as="kod_razd" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <call function="if" as="razdel" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <call function="if" as="name_razd" group="max" key="0">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="a" column="name_podrazdel1" group="max" as="name_podrazdel1" key="0" />
        <column table="a" column="name_podrazdel2" group="max" as="name_podrazdel2" key="0" />
        <column table="a" column="str_porazdel_ies1" group="max" as="str_porazdel_ies1" key="0" />
        <column table="a" column="str_porazdel_ies2" group="max" as="str_porazdel_ies2" key="0" />
        <column table="a" column="kod_podrazd" as="kod_podrazd" key="0" />
        <column table="a" column="kod_podrazd1" as="kod_podrazd1" key="0" />
        <column table="a" column="kod_podrazd2" as="kod_podrazd2" key="0" />
        <column table="a" column="podrazdel" group="max" title="подраздел" as="podrazdel" key="0" />
        <column table="a" column="name_podrazdel" group="max" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="kod_okved" title="оквэд" as="kod_okved" key="0" />
        <column group="max" table="a" column="okved" as="okved" key="0" />
        <column group="max" table="a" column="kod_str_ies" as="kod_str_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies1" />
            <const>10430</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data_new" timestamp="07.03.2025 17:17:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml" haskeys="1">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="pr_nasel" group="1" as="pr_nasel" reference="sqlb_61880_17_tbl" refcol="pr_nasel" key="1" fixed="1" />
        <column table="kodp" column="name" as="namep" group="max" key="0" />
        <column table="kodp" column="kodp" as="kodp" group="max" key="0" />
        <column table="d" column="ndog" group="max" as="ndog" key="0" />
        <column table="kod_vdog" column="kod_vdoc" group="1" as="kod_vdoc" key="1" fixed="1" />
        <call group="1" function="case" as="gr_10920" key="1" fixed="1">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="kod_vdog" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="=">
                <column table="kodp" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const>1</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="kod_vdog" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="!=">
                <column table="kodp" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const>2</const>
          </call>
          <call function="else">
            <const>3</const>
          </call>
        </call>
        <column table="kod_otrasl" column="kod_otrasl" group="1" as="kod_otrasl" key="1" fixed="1" />
        <column table="res" column="id" group="1" as="id" key="1" fixed="1" />
        <column table="res" column="gr1" group="1" as="gr1" key="1" fixed="1" />
        <column table="res" column="gr2" group="1" as="gr2" key="1" fixed="1" />
        <column table="res" column="gr3" group="1" as="gr3" key="1" fixed="1" />
        <column table="res" column="name" group="max" as="name_razd" key="0" />
        <call function="if" group="max" as="name_razd1" ifaplyed="1" key="0">
          <call function="is null">
            <column table="res" column="gr2" />
          </call>
          <column table="res" column="name" />
        </call>
        <call function="if" group="max" as="name_razd2" ifaplyed="1" key="0">
          <call function="and">
            <call function="is not null">
              <column table="res" column="gr2" />
            </call>
            <call function="is null">
              <column table="res" column="gr3" />
            </call>
          </call>
          <column table="res" column="name" />
        </call>
        <call function="if" group="max" as="name_razd3" ifaplyed="1" key="0">
          <call function="is not null">
            <column table="res" column="gr3" />
          </call>
          <column table="res" column="name" />
        </call>
        <column table="res" column="kod_str" group="max" as="kod_str_razd" key="0" />
        <call function="if" group="max" as="kod_str_razd1" ifaplyed="1" key="0">
          <call function="is null">
            <column table="res" column="gr2" />
          </call>
          <column table="res" column="kod_str" />
        </call>
        <call function="if" group="max" as="kod_str_razd2" ifaplyed="1" key="0">
          <call function="and">
            <call function="is not null">
              <column table="res" column="gr2" />
            </call>
            <call function="is null">
              <column table="res" column="gr3" />
            </call>
          </call>
          <column table="res" column="kod_str" />
        </call>
        <call function="if" group="max" as="kod_str_razd3" ifaplyed="1" key="0">
          <call function="is not null">
            <column table="res" column="gr3" />
          </call>
          <column table="res" column="kod_str" />
        </call>
        <column table="res" column="v_dog" group="max" as="v_dog" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year" key="0" />
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_bug" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>804</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <call function="if" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="cust_kvt_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="nach_all_ym" />
        </call>
        <call function="if" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="cust_kvt_year" />
        </call>
        <call function="if" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year_biz" ifaplyed="1" key="0">
          <call function="=">
            <column table="this" column="kod_otrasl" />
            <const>-1</const>
          </call>
          <column table="a" column="nach_all_year" />
        </call>
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880-17-data_new" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
          <link name="kod_vdog" as="kod_vdog" table="ks_vdog" child="kr_dogovor" field="kod_vdog" parent="ks_vdog" back="kr_dogovor" title="Вид договора" />
        </query>
        <query name="sqlb_61880_17_tbl" as="res" join="full outer" dname="61880-17-data_new">
          <call function="or">
            <call function="and">
              <call function="=">
                <column table="a" column="pr_nasel" nvl="0" />
                <column table="res" column="pr_nasel" nvl="0" />
              </call>
              <call table="kodp" column="kod_okved" function="=">
                <column table="kodp" column="kod_okved" />
                <column table="res" column="kodokved" />
              </call>
            </call>
            <call function="=">
              <call function="if">
                <call function="=1">
                  <column table="a" column="pr_nasel" />
                </call>
                <const type="number">-9998</const>
              </call>
              <column table="res" column="kodokved" />
            </call>
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
        </call>
      </where>
    </query>
    <query name="61880-17-data-res" nogrid="1" timestamp="05.04.2024 11:26:24" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <column table="a" column="id" group="min" as="id" key="0" />
        <column table="a" column="gr1" as="gr1" key="0" />
        <column table="a" column="gr2" as="gr2" key="0" />
        <column table="a" column="gr3" as="gr3" key="0" />
        <column table="a" column="name_razd" as="name_razd" key="0" />
        <column table="a" column="name_razd1" group="max" as="name_razd1" key="0" />
        <column table="a" column="name_razd2" group="max" as="name_razd2" key="0" />
        <column table="a" column="name_razd3" group="max" as="name_razd3" key="0" />
        <column table="a" column="kod_str_razd" group="min" as="kod_str_razd" key="0" />
        <column table="a" column="kod_str_razd1" group="max" as="kod_str_razd1" key="0" />
        <column table="a" column="kod_str_razd2" group="max" as="kod_str_razd2" key="0" />
        <column table="a" column="kod_str_razd3" group="max" as="kod_str_razd3" key="0" />
        <column table="a" column="v_dog" group="max" as="v_dog" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_new" as="a">
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="rd1" order="id,gr1">
          <group>
            <column table="this" column="gr1" />
          </group>
          <where>
            <call function="and">
              <call function="is not null">
                <column table="this" column="gr1" />
              </call>
            </call>
          </where>
          <grset as="kodp1" order="namep">
            <group>
              <column table="this" column="kod_dog" />
            </group>
            <where>
              <call function="and">
                <call function="=">
                  <call function="nvlu">
                    <useparam name="no_dog" />
                    <const>0</const>
                  </call>
                  <call function="nvl">
                    <column table="this" column="v_dog" />
                    <const>0</const>
                  </call>
                </call>
                <call function="=">
                  <call function="nvlu">
                    <useparam name="no_dog" />
                    <const>0</const>
                  </call>
                  <const>1</const>
                </call>
              </call>
            </where>
          </grset>
          <grset as="rd2" order="id,gr1,gr2">
            <group>
              <column table="this" column="gr2" />
            </group>
            <where>
              <call function="and">
                <call function="is not null">
                  <column table="this" column="gr2" />
                </call>
              </call>
            </where>
            <grset as="kodp2" order="namep">
              <group>
                <column table="this" column="kod_dog" />
              </group>
              <where>
                <call function="and">
                  <call function="=">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                    <call function="nvl">
                      <column table="this" column="v_dog" />
                      <const>0</const>
                    </call>
                  </call>
                  <call function="=">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                    <const>1</const>
                  </call>
                </call>
              </where>
            </grset>
            <grset as="rd3" order="id,gr1,gr2,gr3">
              <group>
                <column table="this" column="gr3" />
              </group>
              <where>
                <call function="and">
                  <call function="is not null">
                    <column table="this" column="gr3" />
                  </call>
                </call>
              </where>
              <grset as="kodp3" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <call function="nvl">
                        <column table="this" column="v_dog" />
                        <const>0</const>
                      </call>
                    </call>
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data_new_1" timestamp="07.07.2022 23:48:57" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml" haskeys="1">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="kodp" column="name" as="namep" group="max" key="0" />
        <column table="d" column="ndog" group="max" as="ndog" key="0" />
        <column table="d" column="adress_region" group="1" as="adress_region" key="1" fixed="1" />
        <column table="d" column="kod_vdog" group="1" as="kod_vdog" key="1" fixed="1" />
        <column table="res" column="id" group="1" as="id" key="1" fixed="1" />
        <column table="res" column="gr1" group="1" as="gr1" key="1" fixed="1" />
        <column table="res" column="gr2" group="1" as="gr2" key="1" fixed="1" />
        <column table="res" column="gr3" group="1" as="gr3" key="1" fixed="1" />
        <column table="res" column="name" group="max" as="name_razd" key="0" />
        <column table="res" column="kod_str" group="max" as="kod_str_razd" key="0" />
        <column table="res" column="v_dog" group="max" as="v_dog" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" as="nach_all_year" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880-17-data_new_1" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент" />
        </query>
        <query name="sqlb_61880_17_tbl" as="res" join="right outer" dname="61880-17-data_new_1">
          <call function="=">
            <column table="kodp" column="kod_okved" />
            <column table="res" column="kodokved" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880-17-data-rd1a_new" timestamp="24.08.2022 16:27:18" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <call as="kod_razd" function="()" type="number" key="0">
          <const>1</const>1</call>
        <call as="razdel" function="null" group="max" type="number" key="0">1</call>
        <call group="max" function="()" as="name_razd" type="string" key="0">
          <const type="string">'Полезный отпуск потребителям, всего'</const>
        </call>
        <call as="str_razd_ies" function="()" group="max" type="number" key="0">
          <const type="number">10900</const>1</call>
        <call function="if" as="kod_podrazd" type="number" key="0">
          <call function="in">
            <column table="a" column="kod_vdoc" />
            <call function="array">
              <const>1</const>
            </call>
          </call>
          <const>1</const>
          <const>2</const>
        </call>
        <call function="null" group="max" as="podrazdel" type="number" key="0" />
        <call function="if" as="name_podrazdel" type="string" group="max" key="0">
          <call function="in">
            <column table="a" column="kod_vdoc" />
            <call function="array">
              <const>1</const>
            </call>
          </call>
          <const type="string">'по договорам энергоснабжения'</const>
          <const type="string">'по договорам купли-продажи электрической энергии'</const>
        </call>
        <call function="if" as="str_porazdel_ies" type="number" group="max" key="0">
          <call function="in">
            <column table="a" column="kod_vdoc" />
            <call function="array">
              <const>1</const>
            </call>
          </call>
          <const type="number">10901</const>
          <const type="number">10902</const>
        </call>
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_new" as="a">
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-10910" nogrid="1" timestamp="14.02.2024 16:28:07" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880-17-data_new" as="a">
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="=">
          <column table="a" column="kod_str_razd" />
          <const>10414</const>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="kodp" order="namep">
            <group>
              <column table="this" column="kodp" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd10920_new" nogrid="1" timestamp="27.09.2022 14:01:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml" haskeys="1">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="namep" group="max" as="namep" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <column table="gr" column="kod_razd" as="kod_razd" key="1" fixed="1" />
        <call as="razdel" function="null" group="max" type="number" key="0">1</call>
        <column group="max" table="gr" column="name_razd" as="name_razd" key="0" />
        <column table="gr" column="str_razd_ies" group="max" as="str_razd_ies" key="0" />
        <column table="gr" column="kod_podrazd" as="kod_podrazd" reference="61880-17-data_new" refcol="gr_10920" key="0" />
        <call function="null" group="max" as="podrazdel" type="number" key="0" />
        <column group="max" table="gr" column="name_podrazdel" as="name_podrazdel" key="0" />
        <column group="max" table="gr" column="str_porazdel_ies" as="str_porazdel_ies" key="0" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym" key="0" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" as="nach_all_ym" key="0" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year" key="0" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" as="nach_all_year" key="0" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_bug" key="0" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" as="nach_all_ym_bug" key="0" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_bug" key="0" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" as="nach_all_year_bug" key="0" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" as="cust_kvt_ym_biz" key="0" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" as="nach_all_ym_biz" key="0" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" as="cust_kvt_year_biz" key="0" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" as="nach_all_year_biz" key="0" />
        <column group="sum" table="a" column="saldo_year_beg" as="saldo_year_beg" key="0" />
        <column group="sum" table="a" column="saldo_ym" as="saldo_ym" key="0" />
        <column group="sum" table="a" column="saldo_ym_tek" as="saldo_ym_tek" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="61880_17-10920-gr" as="gr" />
        <query name="61880-17-data_new" as="a" join="left outer" dname="61880-17-data-rd10920_new">
          <call function="=">
            <column table="gr" column="kod_podrazd" />
            <column table="a" column="gr_10920" />
          </call>
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_17-10920-gr" class="1" timestamp="27.09.2022 13:51:48" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml" haskeys="1">
      <select>
        <column table="a" column="kod_razd" type="number" as="kod_razd" key="1" fixed="1" />
        <column table="a" column="name_razd" type="string" as="name_razd" key="0" />
        <column table="a" column="str_razd_ies" type="number" as="str_razd_ies" key="0" />
        <column table="a" column="kod_podrazd" type="number" as="kod_podrazd" key="0" />
        <column table="a" column="name_podrazdel" type="string" as="name_podrazdel" key="0" />
        <column table="a" column="str_porazdel_ies" type="number" as="str_porazdel_ies" key="0" />
      </select>
      <from>
        <table name="61880_17-10920-gr" as="a" view="1" />
      </from>
    </query>
    <query name="61880-17-v3-title" nogrid="1" timestamp="27.05.2023 16:03:08" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17_v3.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <call function="if" as="p_kod_org" type="string" key="0">
          <call function="is not null">
            <column table="a" column="kod_org" group="max" />
          </call>
          <column table="a" column="kod_org" group="max" />
        </call>
        <call function="if" as="address_p" type="string" key="0">
          <call function="is not null">
            <column table="adr" column="kf_adress_o" group="stragg_dist" />
          </call>
          <column table="adr" column="kf_adress_o" group="stragg_dist" />
        </call>
        <call function="if" as="p_ogrn" type="string" key="0">
          <call function="is not null">
            <column table="p" column="ogrn" group="max" />
          </call>
          <column table="p" column="ogrn" group="max" />
        </call>
        <call function="if" as="p_okpo" type="string" key="0">
          <call function="is not null">
            <column table="p" column="okpo" group="max" />
          </call>
          <column table="p" column="okpo" group="max" />
        </call>
        <call function="if" as="p_dep_text" type="string" title="Отделения" key="0">
          <call function="is not null">
            <column table="a" column="name" group="stragg_dist" />
          </call>
          <column table="a" column="name" group="stragg_dist" />
          <column table="a" column="sname" group="stragg_dist" />
        </call>
        <call function="if" as="p_org_name_full" type="string" title="Полное наименование абонента" key="0">
          <call function="is not null">
            <column table="p" column="allname" group="stragg_dist" />
          </call>
          <column table="p" column="allname" function="stragg_dist" group="stragg_dist" />
        </call>
        <call function="if" as="p_org_name_short" type="string" title="Наименование абонента" key="0">
          <call function="is not null">
            <column table="p" column="name" group="stragg_dist" />
          </call>
          <column table="p" column="name" function="stragg_dist" group="stragg_dist" />
        </call>
        <call function="if" as="p_inn" type="string" title="ИНН" key="0">
          <call function="is not null">
            <column table="p" column="inn" group="stragg_dist" />
          </call>
          <column table="p" column="inn" function="stragg_dist" group="stragg_dist" />
        </call>
        <call as="p_ym_beg" function="||" key="0">
          <call name="p_ym_beg" function="mes-name">
            <call function="mes">
              <useparam name="p_ym_beg" />
            </call>
          </call>
          <const name="p_ym_beg">' '</const>
          <call name="p_ym_beg" function="trunc">
            <useparam name="p_ym_beg" />
          </call>
        </call>
        <call function="if" as="kod_adr_m_text" type="string" title="субъекты федерации" key="0">
          <call function="is not null">
            <column table="b" column="name_p" group="stragg_dist" />
          </call>
          <call table="b" column="name_p" function="||">
            <const>'('</const>
            <column table="b" column="name_p" group="stragg_dist" />
            <const>')'</const>
          </call>
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
        <query name="kr_payer" as="p" join="left outer" dname="61880-17-v3-title" title="Абонент">
          <call function="=">
            <column table="a" column="kodp" />
            <column table="p" column="kodp" />
          </call>
        </query>
        <query name="k_house" as="adr" join="left outer" dname="61880-17-v3-title">
          <call function="=">
            <column table="p" column="kod_d_p" />
            <column table="adr" column="kodd" />
          </call>
        </query>
        <query name="adr_m_obj_list_dep" as="b" join="cross">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="and">
            <call function="in" optional="1">
              <column table="a" column="kodp" />
              <useparam name="p_dep" />
            </call>
            <call function="in" optional="1">
              <column table="b" column="kod_m" />
              <useparam name="kod_adr_m" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="61880_18" is-report="1" title="Отчет по планированию сборов" timestamp="01.02.2023 17:52:12" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_18.xml">
      <params>
        <param name="p_dep" controlType="UICombo" title="Отделение" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param controlType="UIDate" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_date" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="cmn_date" name="p_date" />
        <usefield field="asuse_adr_m_subject_dep" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_18.fill_table(:p_date);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="ndog" title="№ Договора" group="max" as="ndog" key="0" />
        <column table="a" column="namep" title="Полное наименование" group="max" as="namep" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="period_av" group="max" title="Периоды выставления авансов" as="period_av" key="0" />
        <column group="max" table="a" column="perc" title="Проценты авансов" type="string" as="perc" key="0" />
        <column table="a" column="pr_rasch_av" group="max" title="Признак расчета авансов" as="pr_rasch_av" key="0" />
        <column table="a" column="dz_beg" group="sum" as="dz_beg" key="0" />
        <column table="a" column="dz_beg" group="sum" title="ДЗ на 01  число, тыс. руб." as="dz_beg1" mp="-3" key="0" />
        <column table="a" column="pros_dz_on_dat" title="В т.ч. просроченная ДЗ не погашенная на дату формирования, тыс. руб." group="sum" mp="-3" as="pros_dz_on_dat" key="0" />
        <column table="a" column="kz_beg" group="sum" as="kz_beg" key="0" />
        <column table="a" column="kz_beg" title="КЗ на 01  число, тыс. руб." group="sum" as="kz_beg1" mp="-3" key="0" />
        <column table="a" column="nahisl" title="План оплат по условиям договора, тыс. руб." group="sum" mp="-3" as="nahisl" key="0" />
        <column table="a" column="av_all" group="sum" mp="-3" title="Авансы по условия договора за Р/п, тыс. руб." as="av_all" key="0" />
        <column table="a" column="opl_on_dat" title="Итого поступившие оплаты на текущую дату, тыс. руб." group="sum" as="opl_on_dat1" mp="-3" key="0" />
        <column table="a" column="av_10" group="sum" as="av_10" key="0" />
        <column table="a" column="av_10" title="Аванс до 10 числа, тыс. руб." group="sum" as="av_101" mp="-3" key="0" />
        <column table="a" column="opl_av_10" title="Оплата в счет аванса на 10 числоб тыс. руб." group="sum" mp="-3" as="opl_av_10" key="0" />
        <call function="-nvl" group="sum" as="plan_11_18" title="План с 11 по 18 числа, тыс. руб." mp="-3" key="0">
          <column table="this" column="nahisl" />
          <column table="this" column="av_101" />
          <column table="this" column="av_251" />
        </call>
        <column table="a" column="opl_sf_18" group="sum" title="Оплата с 11 по 18 числа (в счет погашения фактической счет-фактуры), тыс. руб." mp="-3" as="opl_sf_18" key="0" />
        <column table="a" column="av_25" group="sum" as="av_25" key="0" />
        <column table="a" column="av_25" title="Аванс до 25 числа, тыс. руб." group="sum" as="av_251" mp="-3" key="0" />
        <column table="a" column="opl_av_25" title="Оплата в счет аванса на 25 число, тыс. руб." group="sum" mp="-3" as="opl_av_25" key="0" />
        <column table="a" column="opl_on_dat" group="sum" as="opl_on_dat" key="0" />
        <call function="-nvl" group="sum" as="sbor_prognoz" title="Сбор на конец месяца 26-30/31 число прогноз, тыс. руб." mp="-3" key="0">
          <column table="this" column="av_251" />
          <column table="this" column="opl_av_25" />
        </call>
        <column table="a" column="sbor_26_31_fact" group="sum" title="Сбор на конец месяца 26-30/31 число факт, тыс. руб." mp="-3" as="sbor_26_31_fact" key="0" />
        <call function="-nvl" group="sum" as="ostatok" title="Обязательства клиента, тыс. руб." mp="-3" key="0">
          <call function="+nvl" title="ДЗ/КЗ на конец месяца">
            <column table="this" column="dz_beg1" />
            <column table="this" column="kz_beg1" />
            <column table="this" column="av_101" />
            <column table="this" column="plan_11_18" />
            <column table="this" column="av_251" />
          </call>
          <column table="this" column="opl_av_10" />
          <column table="this" column="opl_sf_18" />
          <column table="this" column="opl_av_25" />
        </call>
        <call function="+nvl" as="dolg" key="0">
          <column table="this" column="dz_beg" />
          <column table="this" column="kz_beg" />
          <column table="this" column="av_10" />
          <column table="this" column="av_25" />
          <call function="0-">
            <column table="this" column="opl_on_dat" />
          </call>
        </call>
        <call function="+nvl" title="ДЗ/КЗ на конец месяца, тыс. руб." as="ob_end" mp="-3" key="0">
          <column table="this" column="dz_end" />
          <column table="this" column="kz_end" />
        </call>
        <column table="a" column="dz_end" group="sum" as="dz_end" key="0" />
        <column table="a" column="kz_end" group="sum" as="kz_end" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_18_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880_18" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="d" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="kod_dog" order="namep">
          <group>
            <column table="this" column="kod_dog" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="61880_19" is-report="1" title="РСД" order="namep,ndog,dat_sf" timestamp="30.06.2024 21:29:09" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_19.xml" haskeys="1">
      <params>
        <param name="p_dep" controlType="UICombo" title="Отделение" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_beg" controlType="UICombo" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym_beg" />
        <usefield field="asuse_adr_m_subject_dep" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_19.fill_table(:p_ym_beg);
end;
      </text>
      </procedure>
      <customers>
        <customer id="29" />
      </customers>
      <select>
        <column table="a" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="kod_sf" group="1" as="kod_sf" key="1" fixed="1" />
        <call function="()" title="Код системы" as="kod_sist" group="max" key="0">
          <const>14</const>
        </call>
        <column function="null" title="Признак типа данных по ДЗ (за что)" as="kod_type" group="max" table="a" column="pr_rre" key="0" />
        <column table="a" column="ddate" title="Период расчета" group="max" as="ddate" key="0" />
        <column table="a" column="name_url" title="Юридическое лицо контура Сбыт" group="max" as="name_url" key="0" />
        <column table="a" column="name_dep" group="max" title="Филиал" as="name_dep" key="0" />
        <column table="a" column="kod_be" group="max" title="Код БЕ" as="kod_be" key="0" />
        <column table="a" column="name_gr_potr" group="max" title="Группа потребителей" as="name_gr_potr" key="0" />
        <column table="a" column="namep" group="max" title="Наименование контрагента" as="namep" key="0" />
        <column table="a" column="pr_vgo" group="max" title="Признак ВГО" as="pr_vgo" key="0" />
        <column table="a" column="inn" group="max" title="ИНН контрагента" as="inn" key="0" />
        <column table="a" column="ndog" group="max" title="Номер договора" as="ndog" key="0" />
        <column table="a" column="ddate_dog" title="Дата договора" group="max" as="ddate_dog" key="0" />
        <column group="max" table="a" column="name_typedog" title="Предмет договора" as="name_typedog" key="0" />
        <column group="max" table="a" column="pr_bankr" title="Банкроты / Ликвидируемые" as="pr_bankr" key="0" />
        <column group="max" title="Стадия банкротства (ликвидации)" table="a" column="pr_stbankr" as="pr_stbankr" key="0" />
        <column group="1" title="Номер документа долга" table="a" column="num_sf" as="num_sf" key="1" fixed="1" />
        <column group="max" title="Дата документа долга" table="a" column="dat_sf" as="dat_sf" key="0" />
        <column group="min" title="Плановая дата платежа по договору" table="a" column="dat_bzad" as="dat_bzad" key="0" />
        <column table="a" title="Срок возникновения просроченной задолженности, дней" column="nday" group="max" as="nday" key="0" />
        <column group="sum" title="Списано ДЗ за счет РСД за отчетный период" table="a" column="spis_rsd" as="spis_rsd" key="0" />
        <column group="sum" title="Списано ДЗ за счет прибыли за отчетный период" table="a" column="spis_dz" as="spis_dz" key="0" />
        <column group="sum" title="Восстановление ранее списанной ДЗ" table="a" column="re_spis_dz" as="re_spis_dz" key="0" />
        <column group="sum" title="ДЗ на конец периода" table="a" column="dz_on_date" as="dz_on_date" key="0" />
        <column group="sum" title="Текущая задолженность" table="a" column="dz_tek" as="dz_tek" key="0" />
        <column table="a" column="dz_prosr_0_30" group="sum" title="Просроченная задолженность от 0 до 30" as="dz_prosr_0_30" key="0" />
        <column table="a" column="dz_prosr_30_45" group="sum" title="Просроченная задолженность от 30 до 45" as="dz_prosr_30_45" key="0" />
        <column table="a" column="dz_prosr_45_60" group="sum" title="Просроченная задолженность от 45 до 60" as="dz_prosr_45_60" key="0" />
        <column table="a" column="dz_prosr_60_90" group="sum" title="Просроченная задолженность от 60 до 90" as="dz_prosr_60_90" key="0" />
        <column table="a" column="dz_prosr_90_180" group="sum" title="Просроченная задолженность от 90 до 180" as="dz_prosr_90_180" key="0" />
        <column table="a" column="dz_prosr_180_365" group="sum" title="Просроченная задолженность от 180 до 365" as="dz_prosr_180_365" key="0" />
        <column table="a" column="dz_prosr_365_1095" group="sum" title="Просроченная задолженность от 365 до 1095" as="dz_prosr_365_1095" key="0" />
        <column table="a" column="dz_prosr_1095" group="sum" title="Просроченная задолженность свыше 1095" as="dz_prosr_1095" key="0" />
        <column group="sum" title="КЗ на конец периода" table="a" column="kz_ym_end" as="kz_ym_end" key="0" />
        <column group="sum" title="ДЗ для расчета РСД Всего" table="a" column="dz_rsd_all" as="dz_rsd_all" key="0" />
        <column group="sum" title="ДЗ для расчета РСД Текущая" table="a" column="dz_rsd_tek" as="dz_rsd_tek" key="0" />
        <column group="sum" title="ДЗ для расчета РСД Остаток после вычета КЗ от 0 до 45" table="a" column="dz_rsd_0_45" as="dz_rsd_0_45" key="0" />
        <column group="sum" title="ДЗ для расчета РСД Остаток после вычета КЗ от 45 до 90" table="a" column="dz_rsd_45_90" as="dz_rsd_45_90" key="0" />
        <column group="sum" title="ДЗ для расчета РСД Остаток после вычета КЗ свыше 90" table="a" column="dz_rsd_90" as="dz_rsd_90" key="0" />
        <column group="sum" title="РСД Расчет РСД НУ от 45 до 90 50 %" table="a" column="rsd_45_90" as="rsd_45_90" key="0" />
        <column group="sum" title="РСД Расчет РСД НУ свыше 90 100%" table="a" column="rsd_90" as="rsd_90" key="0" />
        <column group="sum" table="a" column="rsd_all" title="РСД НУ Всего " as="rsd_all" key="0" />
        <column group="sum" title="Не учитывается в НУ" table="a" column="not_nu" as="not_nu" key="0" />
        <column group="sum" table="a" column="spis_dz_rsd" title="Списано ДЗ за счет РСД за отчетный период (НУ)" as="spis_dz_rsd" key="0" />
        <column table="a" column="sdat_beg" group="max" as="sdat_beg" key="0" />
        <column table="a" column="sdat_end" group="max" as="sdat_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_19_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880_19" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="d" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <order>
        <column column="namep" />
        <column column="ndog" />
        <column column="dat_sf" />
      </order>
    </query>
    <query name="61880_2-data" timestamp="08.01.2022 17:34:44" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
      </params>
      <expressions>
        <call function="if" as="av_beg" group="sum">
          <call function="lt">
            <column table="dat" column="val" />
            <call function="ym begin time">
              <useparam name="p_ym_beg" />
            </call>
          </call>
          <fact column="fin_ul_ob_av" />
        </call>
        <call function="if" as="av_end" group="sum">
          <call function="lt">
            <column table="dat" column="val" />
            <call function="ym begin time">
              <useparam name="p_ym_end" />
            </call>
          </call>
          <fact column="fin_ul_ob_av" />
        </call>
      </expressions>
      <select>
        <column table="kod_sf" column="kod_dog" as="kod_dog" />
        <fact column="fin_ul_dolg_deb_per_rm" as="dz_beg" title="ДЗ на начало" is-fact-use="1">
          <withparams>
            <call function="ym begin time">
              <useparam name="p_ym_beg" />
            </call>
          </withparams>
        </fact>
        <fact column="fin_ul_sverh_dolg_deb_pre_dat" as="sv_beg" is-fact-use="1">
          <withparams>
            <call function="ym begin time">
              <useparam name="p_ym_beg" />
            </call>
          </withparams>
        </fact>
        <fact column="av_beg" as="av_beg" is-fact-use="1" />
        <fact column="fin_ul_dolg_deb_per_rm" as="dz_end" is-fact-use="1">
          <withparams>
            <call function="ym begin time">
              <call function="ym add month">
                <useparam name="p_ym_end" />
                <const>1</const>
              </call>
            </call>
          </withparams>
        </fact>
        <fact column="fin_ul_sverh_dolg_deb_pre_dat" as="sv_end" is-fact-use="1">
          <withparams>
            <call function="ym begin time">
              <call function="ym add month">
                <useparam name="p_ym_end" />
                <const>1</const>
              </call>
            </call>
          </withparams>
        </fact>
        <fact column="av_end" as="av_end" is-fact-use="1" />
      </select>
      <from>
        <qube>
          <link name="kod_dog" />
          <link name="kod_sf" />
        </qube>
      </from>
      <where>
        <call function="and">
          <call function="in" optional="1">
            <column table="kod_dog" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="=0">
            <column table="kod_dog" column="pr_active" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880_2-main" timestamp="09.06.2022 18:20:43" nogrid="1" order="num" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
      </params>
      <select>
        <column table=" rf" column="kod_refcode" nvl="-1" as="kod_refcode" key="0" />
        <column table=" rf" column="num" group="max" nvl="-1" as="num" key="0" />
        <call function="nvl" group="max" as="name" key="0">
          <column table=" rf" column="name" nvl="'нет'" />
          <const type="string">'Нет'</const>
        </call>
        <column table="d" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="d" column="ndog" group="max" as="ndog" key="0" />
        <column table="kodp" column="name" as="namep" group="max" key="0" />
        <column table="b" column="dz_beg" group="sum" mp="-3" as="dz_beg" key="0" />
        <column table="b" column="sv_beg" group="sum" mp="-3" as="sv_beg" key="0" />
        <column table="b" column="per_beg" function="+nvl" as="av_per_beg" group="sum" nullif="0" mp="-3" key="0">
          <column table="b" column="per_beg" />
        </column>
        <column table="b" column="cust_per" group="sum" mp="-3" as="cust_per" key="0" />
        <column group="sum" table="b" column="nach_per" mp="-3" as="nach_per" key="0" />
        <call group="sum" table="b" column="nach_per" as="real" function="null" mp="-3" key="0" />
        <column table="b" column="opl_per" group="sum" mp="-3" as="opl_per" key="0" />
        <column group="sum" table="b" column="opl_per_tek" mp="-3" as="opl_per_tek" key="0" />
        <column table="b" column="opl_per_other" group="sum" mp="-3" as="opl_per_other" key="0" />
        <column group="sum" table="b" column="opl_av" mp="-3" as="opl_av" key="0" />
        <column group="sum" table="b" column="opl_non_monet" mp="-3" as="opl_non_monet" key="0" />
        <column group="sum" table="b" column="ob_spis" mp="-3" as="ob_spis" key="0" />
        <column group="sum" table="b" column="dz_end" mp="-3" as="dz_end" key="0" />
        <column table="b" column="sv_end" group="sum" mp="-3" as="sv_end" key="0" />
        <column table="b" column="per_end" function="+nvl" as="av_per_end" group="sum" nullif="0" mp="-3" key="0">
          <column table="b" column="per_end" />
        </column>
        <column group="max" table="kodp" column="inn" as="inn" key="0" />
        <column group="max" table="kod_otrasl" column="name" as="name_msp" key="0" />
        <column group="max" table="rc" column="name" as="otrasl" key="0" />
        <column group="max" table="kod_ist" column="name" as="ist" key="0" />
        <column group="max" table="d" column="adress_district" as="district" key="0" />
        <column group="max" table="d" column="adress_region_name" as="region2" key="0" />
        <call as="okved" group="max" function="||-" nullif="'-'" key="0">
          <column table="kod_okved" column="okved" />
          <column table="kod_okved" column="name" />
        </call>
      </select>
      <from>
        <query name="sqlb_rep_61880_2_tbl" as="b" />
        <query name="rr_refprop_dog_81" as="r101" join="left outer" dname="61880_2-main" title="Группы потребителей">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="r101" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as=" rf" join="left outer" dname="61880_2-main">
          <call function="and">
            <call function="=">
              <column table=" rf" column="kod_refbook" />
              <const>81</const>
            </call>
            <call function="=">
              <column table="r101" column="kod_refcode" />
              <column table=" rf" column="kod_refcode" />
            </call>
          </call>
        </query>
        <query name="kr_dogovor" join="left outer" as="d" dname="61880_2-main" title="Договор">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kod_ist" as="kod_ist" table="ks_istfin" child="kr_dogovor" field="kod_ist" parent="ks_istfin" back="kr_dogovor" title="Источники финансирования" />
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
        </query>
        <query name="rr_refprop_dog_123" join="left outer" as="r123" dname="61880_2-main" title="Отрасль">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="r123" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rc" dname="61880_2-main">
          <call function="=">
            <column table="r123" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="ref">
            <group>
              <column table="this" column="kod_refcode" />
            </group>
            <grset as="dog">
              <group>
                <column table="this" column="kod_dog" />
              </group>
              <where>
                <call function="and">
                  <call function="is not null">
                    <column table="this" column="kod_dog" />
                  </call>
                </call>
              </where>
            </grset>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="num" />
      </order>
    </query>
    <query name="61880_20" is-report="1" title="4.6.2.3.4.1. Справка о движении ДЗ и КЗ" nogrid="1" timestamp="25.10.2022 16:42:30" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_20.xml">
      <params>
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param name="p_ym_beg" controlType="UICombo" title="с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_end" controlType="UICombo" title="по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="61880_20.xlsx" title="Справка о движении ДЗ и КЗ за отчетный период" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <fieldgroup title="Период">
          <usefield field="asuse_ym_tek_dep" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="asuse_ym_tek_dep" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
        <usefield field="asuse_adr_m_subject_dep" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_20.fill_table(:p_ym_beg,:p_ym_end);
end;
      </text>
      </procedure>
      <select>
        <column group="max" table="dep" column="name" as="name" key="0" />
        <column group="max" table="kodp_uch" column="name" as="name_uch" title="Участок" key="0" />
        <column table="a" column="number_dog" title="Номер договора" group="max" as="number_dog" key="0" />
        <column table="a" column="kod_dog" title="Код договора" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="vid_real_name" title="Вид реализации" group="max" as="vid_real_name" key="0" />
        <column table="a" column="vid_real" as="vid_real" key="0" />
        <column table="a" column="payer_name" title="Наименование потребителя" group="max" as="payer_name" key="0" />
        <column table="a" column="payer_inn" title="ИНН потребителя" group="max" as="payer_inn" key="0" />
        <column table="a" column="saldo_beg" title="Сальдо на начало месяца, руб." group="sum" as="saldo_beg" key="0" />
        <column table="a" column="dz_beg" group="sum" title="ДЗ на начало месяца, руб." as="dz_beg" key="0" />
        <column group="sum" table="a" column="kz_beg" title="КЗ на начало месяца, руб." as="kz_beg" key="0" />
        <column table="a" column="pol_otpusk" group="sum" title="Полезный отпуск в отчетном периоде, квт*ч" as="pol_otpusk" key="0" />
        <column group="sum" table="a" column="nach_otch_all" title="Начислено в отчетном периоде, всего, руб." as="nach_otch_all" key="0" />
        <column table="a" column="nach_otch" group="sum" title="начислено за отчетный  период, руб." as="nach_otch" key="0" />
        <column group="sum" table="a" column="per_past_per_plu" title="перерасчеты за прошлые периоды на увеличение, руб." as="per_past_per_plu" key="0" />
        <column group="sum" table="a" column="per_past_per_min" title="перерасчеты за прошлые периоды на уменьшение, руб." as="per_past_per_min" key="0" />
        <column group="sum" table="a" column="opl_otch_per_all" title="Оплата, поступившая в отчетном периоде, всего,  руб." as="opl_otch_per_all" key="0" />
        <column group="sum" table="a" column="opl_otch_per" title="оплата за отчетный период, руб" as="opl_otch_per" key="0" />
        <column group="sum" table="a" column="opl_past_per" title="оплата в счет погашения прошлых периодов, руб." as="opl_past_per" key="0" />
        <column group="sum" table="a" column="opl_future_per" title="оплата в счет будущих периодов (авансы), руб." as="opl_future_per" key="0" />
        <column table="a" group="sum" column="vozvrat_all" title="Возвраты денежных средств в отчетном периоде" as="vozvrat_all" key="0" />
        <column group="sum" table="a" column="vozvrat_pay" title="возврат платежей, включенных с реализацию, руб." as="vozvrat_pay" key="0" />
        <column table="a" column="vozvrat_avans" title="возрат авансов, руб." group="sum" as="vozvrat_avans" key="0" />
        <column group="sum" table="a" column="realization" title="Реализация  в отчетном периоде, руб." as="realization" key="0" />
        <column group="sum" table="a" column="opl_real_otch_per" title="оплата, поступившая в отчетном периоде в счет реализации отчетного периода, руб." as="opl_real_otch_per" key="0" />
        <column group="sum" title="возврат платежей, включенных с реализацию, руб." table="a" column="vozvrat_pay_real" as="vozvrat_pay_real" key="0" />
        <column group="sum" table="a" column="zachteno_avansov" title="зачтено авансов в реализацию отчетного периода, руб." as="zachteno_avansov" key="0" />
        <column group="sum" table="a" column="dz_spis" title="Списание ДЗ, руб." as="dz_spis" key="0" />
        <column group="sum" table="a" column="kz_spis" title="Списание КЗ, руб." as="kz_spis" key="0" />
        <column group="sum" table="a" column="saldo_end" title="Сальдо на конец месяца, руб." as="saldo_end" key="0" />
        <column group="sum" table="a" column="dz_end" title="ДЗ на конец месяца, руб." as="dz_end" key="0" />
        <column group="sum" table="a" column="kz_end" title="КЗ на конец месяца, руб." as="kz_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_61880_20_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="61880_20" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
          <link name="kodp_uch" as="kodp_uch" table="kr_org" child="kr_dogovor" field="kodp_uch" parent="kr_org" back="kr_dogovor" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="d" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="dog">
            <group>
              <column table="this" column="kod_dog" />
              <column table="this" column="vid_real" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_2_int_date-main" nogrid="1" order="kod_group_cust_level1" timestamp="04.02.2024 17:14:17" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_int_date.xml">
      <params>
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="b" column="kod_group_cust_level1" comment="Код отрасли ээ (Уровень 1 из спр-ка Отрасли ЭЭ)" title="Код отрасли ээ" as="kod_group_cust_level1" key="0" />
        <column table="b" column="gr_potr_name_level1" group="max" title="Наименование отрасли ээ" as="name" key="0" />
        <column table="b" column="gr_potr_name_level2" as="gr_potr_name_level2" group="max" title="Наименование отрасли ээ 2 уровень" key="0" />
        <column table="b" column="gr_potr_name_level3" as="gr_potr_name_level3" group="max" title="Наименование отрасли ээ 3 уровень" key="0" />
        <column table="b" column="gr_potr_name_level4" as="gr_potr_name_level4" group="max" title="Наименование отрасли ээ 4 уровень" key="0" />
        <column table="b" column="gr_potr_name_level5" as="gr_potr_name_level5" group="max" title="Наименование отрасли ээ 5 уровень" key="0" />
        <column table="b" column="kod_dog" as="kod_dog" key="0" />
        <column table="d" column="ndog" as="ndog" group="max" key="0" />
        <column table="d" column="dat_dog" group="max" as="dat_dog" key="0" />
        <column table="d" column="dat_fin" group="max" as="dat_fin" key="0" />
        <column table="kodp" column="name" as="namep" group="max" key="0" />
        <call table="b" column="saldo_beg" group="sum" as="saldo_beg" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="saldo_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="dz_beg" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="dz_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="sv_beg" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="sv_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="av_per_beg" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="per_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="cust_per" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="cust_per" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_otp_old" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="per_otp_old" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_otp_tek" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="per_otp_tek" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="nach_per" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="nach_per" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_nach_old" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="per_nach_old" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_nach_tek" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="per_nach_tek" mp="-3" />
          <const type="number">0</const>
        </call>
        <call group="sum" table="b" column="nach_per" as="real" function="null" mp="-3" key="0" />
        <call table="b" column="saldo_beg" group="sum" as="opl_per" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="opl_per" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_per_tek" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="opl_per_tek" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_per_other" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="opl_per_other" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_av" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="opl_av" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_non_monet" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="opl_non_monet" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="ob_spis" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="ob_spis" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="vozvrat_kz" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="vozvrat_kz" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="dz_end" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="dz_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="sv_end" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="sv_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="av_per_end" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="per_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="saldo_end" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">1</const>
          </call>
          <column table="b" column="saldo_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="saldo_beg_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="saldo_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="dz_beg_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="dz_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="sv_beg_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="sv_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="av_per_beg_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="per_beg" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="cust_per_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="cust_per" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_otp_old_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="per_otp_old" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_otp_tek_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="per_otp_tek" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="nach_per_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="nach_per" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_nach_old_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="per_nach_old" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="per_nach_tek_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="per_nach_tek" mp="-3" />
          <const type="number">0</const>
        </call>
        <call group="sum" table="b" column="nach_per" as="real_2" function="null" mp="-3" key="0" />
        <call table="b" column="saldo_beg" group="sum" as="opl_per_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="opl_per" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_per_tek_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="opl_per_tek" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_per_other_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="opl_per_other" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_av_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="opl_av" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="opl_non_monet_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="opl_non_monet" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="ob_spis_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="ob_spis" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="vozvrat_kz_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="vozvrat_kz" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="dz_end_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="dz_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="sv_end_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="sv_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="av_per_end_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="per_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <call table="b" column="saldo_beg" group="sum" as="saldo_end_2" function="if" key="0">
          <call function="=">
            <column table="b" column="period_num" type="number" />
            <const type="number">2</const>
          </call>
          <column table="b" column="saldo_end" mp="-3" />
          <const type="number">0</const>
        </call>
        <column table="b" column="pr_vgo" group="max" as="pr_vgo" key="0" />
        <column group="max" table="kodp" column="inn" as="inn" key="0" />
        <column group="max" table="kod_otrasl" column="name" as="name_msp" key="0" />
        <column group="max" table="rc" column="name" as="otrasl" key="0" />
        <column group="max" table="kod_ist" column="name" as="ist" key="0" />
        <column group="max" table="d" column="adress_district" as="district" key="0" />
        <column group="max" table="d" column="adress_region_name" as="region2" key="0" />
        <call as="okved" group="max" function="||-" nullif="'-'" key="0">
          <column table="kod_okved" column="okved" />
          <column table="kod_okved" column="name" />
        </call>
      </select>
      <from>
        <query name="sqlb_rep_61880_2_int_date_tbl" as="b" />
        <query name="kr_dogovor" join="left outer" as="d" dname="61880_2_int_date-main" title="Договор">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kod_ist" as="kod_ist" table="ks_istfin" child="kr_dogovor" field="kod_ist" parent="ks_istfin" back="kr_dogovor" title="Источники финансирования" />
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
        </query>
        <query name="rr_refprop_dog_123" join="left outer" as="r123" dname="61880_2_int_date-main" title="Отрасль">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="r123" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rc" dname="61880_2_int_date-main">
          <call function="=">
            <column table="r123" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="ref">
            <group>
              <column table="this" column="kod_group_cust_level1" />
            </group>
            <grset as="dog">
              <group>
                <column table="this" column="kod_dog" />
              </group>
              <where>
                <call function="and">
                  <call function="=1">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                  </call>
                  <call function="is not null">
                    <column table="this" column="kod_dog" />
                  </call>
                </call>
              </where>
            </grset>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="kod_group_cust_level1" />
      </order>
    </query>
    <query name="61880_2-main_on_date" timestamp="30.09.2022 17:26:40" nogrid="1" order="num" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_on_date.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="date" name="p_date" />
      </params>
      <select>
        <column table=" rf" column="kod_refcode" nvl="-1" as="kod_refcode" key="0" />
        <column table=" rf" column="num" group="max" nvl="-1" as="num" key="0" />
        <call function="nvl" group="max" as="name" key="0">
          <column table=" rf" column="name" nvl="'нет'" />
          <const type="string">'Нет'</const>
        </call>
        <column table="d" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="d" column="ndog" group="max" as="ndog" key="0" />
        <column table="kodp" column="name" as="namep" group="max" key="0" />
        <column table="b" column="dz_beg" group="sum" mp="-3" as="dz_beg" key="0" />
        <column table="b" column="sv_beg" group="sum" mp="-3" as="sv_beg" key="0" />
        <column table="b" column="per_beg" function="+nvl" as="av_per_beg" group="sum" nullif="0" mp="-3" key="0">
          <column table="b" column="per_beg" />
        </column>
        <column table="b" column="cust_per" group="sum" mp="-3" as="cust_per" key="0" />
        <column group="sum" table="b" column="nach_per" mp="-3" as="nach_per" key="0" />
        <call group="sum" table="b" column="nach_per" as="real" function="null" mp="-3" key="0" />
        <column table="b" column="opl_per" group="sum" mp="-3" as="opl_per" key="0" />
        <column group="sum" table="b" column="opl_per_tek" mp="-3" as="opl_per_tek" key="0" />
        <column table="b" column="opl_per_other" group="sum" mp="-3" as="opl_per_other" key="0" />
        <column group="sum" table="b" column="opl_av" mp="-3" as="opl_av" key="0" />
        <column group="sum" table="b" column="opl_non_monet" mp="-3" as="opl_non_monet" key="0" />
        <column group="sum" table="b" column="ob_spis" mp="-3" as="ob_spis" key="0" />
        <column group="sum" table="b" column="dz_end" mp="-3" as="dz_end" key="0" />
        <column table="b" column="sv_end" group="sum" mp="-3" as="sv_end" key="0" />
        <column table="b" column="per_end" function="+nvl" as="av_per_end" group="sum" nullif="0" mp="-3" key="0">
          <column table="b" column="per_end" />
        </column>
        <column group="max" table="kodp" column="inn" as="inn" key="0" />
        <column group="max" table="kod_otrasl" column="name" as="name_msp" key="0" />
        <column group="max" table="rc" column="name" as="otrasl" key="0" />
        <column group="max" table="kod_ist" column="name" as="ist" key="0" />
        <column group="max" table="d" column="adress_district" as="district" key="0" />
        <column group="max" table="d" column="adress_region_name" as="region2" key="0" />
        <call as="okved" group="max" function="||-" nullif="'-'" key="0">
          <column table="kod_okved" column="okved" />
          <column table="kod_okved" column="name" />
        </call>
      </select>
      <from>
        <query name="sqlb_rep_61880_2_on_date_tbl" as="b" />
        <query name="rr_refprop_dog_81" as="r101" join="left outer" dname="61880_2-main_on_date" title="Группы потребителей">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="r101" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as=" rf" join="left outer" dname="61880_2-main_on_date">
          <call function="and">
            <call function="=">
              <column table=" rf" column="kod_refbook" />
              <const>81</const>
            </call>
            <call function="=">
              <column table="r101" column="kod_refcode" />
              <column table=" rf" column="kod_refcode" />
            </call>
          </call>
        </query>
        <query name="kr_dogovor" join="left outer" as="d" dname="61880_2-main_on_date" title="Договор">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kod_ist" as="kod_ist" table="ks_istfin" child="kr_dogovor" field="kod_ist" parent="ks_istfin" back="kr_dogovor" title="Источники финансирования" />
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
        </query>
        <query name="rr_refprop_dog_123" join="left outer" as="r123" dname="61880_2-main_on_date" title="Отрасль">
          <call function="=">
            <column table="b" column="kod_dog" />
            <column table="r123" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rc" dname="61880_2-main_on_date">
          <call function="=">
            <column table="r123" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="ref">
            <group>
              <column table="this" column="kod_refcode" />
            </group>
            <grset as="dog">
              <group>
                <column table="this" column="kod_dog" />
              </group>
              <where>
                <call function="and">
                  <call function="is not null">
                    <column table="this" column="kod_dog" />
                  </call>
                </call>
              </where>
            </grset>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="num" />
      </order>
    </query>
    <query name="61880_3-pre" timestamp="08.11.2022 16:38:17" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_3.xml">
      <params>
        <param name="p_prizn_activ_dog" />
        <param name="p_dep" />
        <param name="p_ym_beg" />
        <param name="p_ym_end" />
        <param type="array" name="p_kod_adr_m" />
      </params>
      <select>
        <column table="kod_account" column="kod_account" as="kod_account" />
        <column table="kod_dog" column="kod_dog" as="kod_dog" />
        <column table="kod_okved" column="kod_okved" as="kod_okved" />
        <column table="kodp" column="kodp" as="kodp" />
        <column table="kod_dog" column="ndog" as="ndog" />
        <column table="kod_dog" column="dep" as="dep" />
        <column table="kod_account" column="ym" as="ym" />
        <column table="kod_dog" column="kod_ist" title="Код источника финансирования" as="kod_ist" />
        <call function="if" as="kvth">
          <call function="and">
            <call function="=">
              <column table="vid_t" column="vid_real" />
              <const>2</const>
            </call>
            <call function="=">
              <column table="vid_t" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <fact column="nr_account_cust" />
        </call>
      </select>
      <from>
        <qube>
          <link name="kod_account">
            <link name="kod_dog">
              <link name="kodp">
                <link name="kod_okved" />
              </link>
            </link>
            <link name="vid_t" />
          </link>
          <where>
            <call function="and">
              <call function="ge">
                <column table="kod_account" column="ym" title="Отчетный период начисления c" />
                <useparam name="p_ym_beg" />
              </call>
              <call function="le">
                <column table="kod_account" column="ym" title="Отчетный период начисления по" />
                <useparam name="p_ym_end" />
              </call>
              <call function="in" optional="1">
                <column table="kod_dog" column="pr_active" />
                <useparam name="p_prizn_activ_dog" />
              </call>
              <call function="in" optional="1">
                <column table="kod_dog" column="dep" />
                <useparam name="p_dep" />
              </call>
              <call function="in" optional="1">
                <column column="adress_region" table="kod_dog" />
                <useparam name="p_kod_adr_m" />
              </call>
            </call>
          </where>
        </qube>
      </from>
    </query>
    <query name="61880_3-r2" timestamp="25.01.2023 16:37:12" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_3.xml" haskeys="1">
      <params>
        <param name="p_prizn_activ_dog" />
        <param name="p_dep" />
        <param name="p_ym_beg" />
        <param name="p_ym_end" />
        <param type="array" name="p_kod_adr_m" />
      </params>
      <select>
        <call as="kod" function="()" group="1" type="number" key="1" fixed="1">
          <const type="number">1</const>1</call>
        <call function="if" group="sum" as="kvth_33" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>1</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_35" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>2</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_36" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>3</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_37" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>4</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_38" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>5</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_39" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>6</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_40" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>7</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_41" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>8</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_44" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>9</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_45" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>10</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_46" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>11</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_47" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>12</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_49" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>13</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_50" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>14</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_51" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>15</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_52" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>16</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_53" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>17</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_54" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>18</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_55" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>19</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_56" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>20</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_57" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>21</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_58" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>22</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_59" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>23</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_60" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>24</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_61" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>25</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_62_backup" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>26</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_62" mp="-3" title=" " key="0">
          <call function="and">
            <call function="=">
              <column table="t" column="id" />
              <const>26</const>
            </call>
            <call function="and">
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>0</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>1</const>
              </call>
            </call>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_63" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>27</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_64_backup" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>28</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_64" mp="-3" title=" " key="0">
          <call function="and">
            <call function="=">
              <column table="t" column="id" />
              <const>28</const>
            </call>
            <call function="and">
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>0</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>1</const>
              </call>
            </call>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_65" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>29</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_66_backup" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>30</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_66" mp="-3" title=" " key="0">
          <call function="and">
            <call function="=">
              <column table="t" column="id" />
              <const>30</const>
            </call>
            <call function="and">
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>0</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>1</const>
              </call>
            </call>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_67" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>31</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_68_backup" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>32</const>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_68" mp="-3" title=" " key="0">
          <call function="and">
            <call function="=">
              <column table="t" column="id" />
              <const>32</const>
            </call>
            <call function="and">
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>0</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_ist" />
                <const>1</const>
              </call>
            </call>
          </call>
          <column table="a" column="kvth" />
        </call>
        <call function="if" group="sum" as="kvth_69" mp="-3" key="0">
          <call function="=">
            <column table="t" column="id" />
            <const>33</const>
          </call>
          <column table="a" column="kvth" />
        </call>
      </select>
      <from>
        <query name="61880_3-pre" as="a">
          <withparams>
            <useparam name="p_prizn_activ_dog" />
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="sqlb_61880_3_tbl" as="t" join="inner" dname="61880_3-r2">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_okved" />
              <column table="t" column="kodokved" />
            </call>
          </call>
        </query>
      </from>
    </query>
    <query name="61880_7" timestamp="07.07.2022 17:12:16" is-report="1" title="4.6.2.3.5.2. Полезный отпуск по СФ" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_7.xml">
      <params>
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param name="p_ym_beg" controlType="UICombo" title="с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_end" controlType="UICombo" title="по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="61880_7.xlsx" print-proc="2" print-xlsx="1" title="Полезный отпуск по СФ" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <fieldgroup title="Период">
          <usefield field="asuse_ym_tek_dep" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="asuse_ym_tek_dep" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
      </content>
      <select>
        <column table="kod_sf" column="kodp" as="kodp" />
        <column table="kod_sf" column="kod_dog" as="kod_dog" />
        <column table="kod_sf" column="kod_sf" as="kod_sf" />
        <column table="kod_dog" column="ndog" group="max" as="ndog" />
        <column group="max" table="kodp" column="nump" as="nump" />
        <column table="kodp" column="name" group="max" as="name" />
        <column group="max" table="kod_sf" column="kod_sf" as="kod_sf_id" />
        <column table="vid_pl" column="name" group="max" as="vid_pl_name" />
        <column group="max" table="vid_sf" column="name_for_sf" as="vid_sf_name" />
        <column group="max" table="vid_real" column="name" as="vid_real_name" />
        <column group="max" table="kod_sf" column="nom_sf" as="nom_sf" />
        <column group="max" table="kod_sf" column="dat_sf" as="dat_sf" />
        <column group="max" table="kod_sf" column="ym" as="ym" />
        <fact group="sum" column="sr_facras_cust" as="cust" is-fact-use="1" />
        <fact group="sum" column="sr_facras_nachisl" as="nachisl" is-fact-use="1" />
        <call function="if" group="max" as="num_sf_main" ifaplyed="1">
          <call function="!=">
            <column table="kod_sf" column="kod_sf" />
            <column table="kod_sf" column="kod_sf_first" />
          </call>
          <column table="kod_sf_main" column="num_sf" />
        </call>
      </select>
      <from>
        <qube>
          <link name="kod_sf">
            <link name="kod_sf_main" />
            <link name="kod_dog">
              <link name="kodp" />
            </link>
            <link name="vid_pl" />
            <link name="vid_real" />
            <link name="vid_sf" />
          </link>
        </qube>
      </from>
      <where>
        <call function="and">
          <call function="in" optional="1">
            <column table="kod_dog" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="between">
            <column table="kod_sf" column="ym" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="sf">
            <group>
              <column table="this" column="kod_sf" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_8" is-report="1" title="4.6.2.3.4.5. Клиенты с неоплаченными СФ" order="a.name,a.ndog,a.dat_sf" timestamp="20.12.2022 14:19:52" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_8.xml">
      <params>
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param controlType="UIDate" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="На дату" name="p_date" />
      </params>
      <content>
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <usefield field="cmn_date" title="На дату" name="p_date" />
      </content>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="ndog" title="Номер договора" type="string" as="ndog" key="0" />
        <column table="a" column="gr_potr_name" title="Группа потребителей" as="gr_potr_name" key="0" />
        <column table="a" column="name" title="Наименование контрагента" as="name" key="0" />
        <column table="a" column="pr_vgo" title="Признак ВГО" type="string" as="pr_vgo" key="0" />
        <column table="a" column="inn" title="ИНН" as="inn" key="0" />
        <column table="a" column="nom_sf" title="Номер счет-фактуры" as="nom_sf" key="0" />
        <column table="a" column="dat_sf" title="Дата возникновения" as="dat_sf" key="0" />
        <column table="a" column="nachisl" title="Выставлено по СФ" as="nachisl" key="0" is-fact-use="1" />
        <column column="dz" title="Остаток долга" table="a" as="dz" key="0" />
        <column table="a" column="dat_bzad" title="Плановая дата погашения" as="dat_bzad" key="0" />
      </select>
      <from>
        <query name="61880_8_1" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_date" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="a.name" />
        <column column="a.ndog" />
        <column column="a.dat_sf" />
      </order>
    </query>
    <query name="61880_8-data" timestamp="22.02.2023 10:56:40" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_8.xml" haskeys="1">
      <params>
        <param field="asuse_dep" name="p_dep" mandatory="1">
          <const>21626</const>
        </param>
        <param field="cmn_date" title="На дату" name="p_date">
          <const type="date">to_date('20.02.2023','dd.mm.yyyy')</const>
        </param>
      </params>
      <select>
        <column table="kod_dog_fin" column="kodp" group="1" as="kodp" key="1" fixed="1" />
        <column table="kod_dog_fin" column="kod_dog" group="1" as="kod_dog" key="1" fixed="1" />
        <call table="kod_sf_main" column="kod_sf" group="1" function="nvl" as="kod_sf" key="1" fixed="1">
          <call function="if">
            <call function="and">
              <call function="is not null">
                <column table="kod_sf" column="kod_sf_first" />
              </call>
              <call function="lt">
                <column table="kod_sf" column="nachisl" />
                <const type="number">0</const>
              </call>
            </call>
            <column table="kod_sf" column="kod_sf_first" />
            <column table="kod_sf" column="kod_sf" />
          </call>
          <column table="kod_sf" column="kod_sf" />
        </call>
        <column table="kod_dog_fin" column="ndog" group="max" title="Номер договора" as="ndog" key="0" />
        <column table="kodp" column="name" group="max" title="Наименование контрагента" as="name" key="0" />
        <column group="max" table="kodp" column="inn" title="ИНН" as="inn" key="0" />
        <column table="kod_sf" column="nom_sf" title="Номер счет-фактуры" group="min" as="nom_sf" key="0" />
        <column group="min" table="kod_sf" column="dat_sf" title="Дата возникновения" as="dat_sf" key="0" />
        <fact column="sr_facras_nachisl" group="sum" as="nachisl" title="Выставлено по СФ" is-fact-use="1" key="0" />
        <call function="if" group="sum" as="opl" is-fact-use="1" ifaplyed="1" key="0">
          <call function="le">
            <column table="kod_opl" column="dat_opl" />
            <useparam name="p_date" />
          </call>
          <fact column="sr_opl_opl_sf" />
        </call>
        <call function="-nvl" as="dz" title="Остаток долга" key="0">
          <column table="this" column="nachisl" />
          <column table="this" column="opl" />
        </call>
        <column group="min" table="kod_sf" column="dat_bzad" title="Плановая дата погашения" as="dat_bzad" key="0" />
      </select>
      <from>
        <qube>
          <link name="kod_sf">
            <link name="kod_dog">
              <link name="kod_dog_fin">
                <link name="kodp" />
              </link>
            </link>
          </link>
          <link name="kod_opl" />
        </qube>
      </from>
      <where>
        <call function="and">
          <call function="in" optional="1">
            <column table="kod_dog_fin" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in">
            <column table="kod_sf" column="vid_real" />
            <call function="array">
              <const>2</const>
            </call>
          </call>
          <call function="le">
            <column table="kod_sf" column="dat_sf" />
            <useparam name="p_date" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880_8_1" order="a.name,a.ndog,a.dat_sf" timestamp="05.02.2024 15:01:05" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_8.xml" haskeys="1">
      <params>
        <param field="asuse_dep" name="p_dep" mandatory="1">
          <const>21626</const>
        </param>
        <param field="cmn_date" title="На дату" name="p_date">
          <const type="date">to_date('20.02.2023','dd.mm.yyyy')</const>
        </param>
      </params>
      <select>
        <column table="a" column="kodp" as="kodp" key="1" fixed="1" />
        <column table="a" column="kod_dog" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="kod_sf" function="nvl" invisible-in-column-chooser="1" as="kod_sf" key="1" fixed="1" />
        <column table="a" column="ndog" title="Номер договора" as="ndog" key="0" />
        <column table="gc" column="name_level_1" title="Группа потребителей" as="gr_potr_name" comment="&quot;Группа потребителей&quot; из справочника &quot;Отрасли ЭЭ&quot;, первый уровень" key="0" />
        <column table="a" column="name" title="Наименование контрагента" as="name" key="0" />
        <call table="rs127" column="name" title="Признак ВГО" as="pr_vgo" function="if" type="string" key="0">
          <call table="rs127" column="name" function="in">
            <call column="name" function="nvl" table="rs127">
              <column column="name" table="rs127" />
              <const type="string">'Нет'</const>
            </call>
            <const type="string">('ВГО','ВГО БЕ СБЫТ')</const>
          </call>
          <const type="string">'Да'</const>
          <const type="string">'- '</const>
        </call>
        <column table="a" column="inn" title="ИНН" as="inn" key="0" />
        <column table="a" column="nom_sf" title="Номер счет-фактуры" as="nom_sf" key="0" />
        <column table="a" column="dat_sf" title="Дата возникновения" as="dat_sf" key="0" />
        <column table="a" column="nachisl" title="Выставлено по СФ" as="nachisl" key="0" is-fact-use="1" />
        <column column="dz" title="Остаток долга" table="a" as="dz" key="0" />
        <column table="a" column="dat_bzad" title="Плановая дата погашения" as="dat_bzad" key="0" />
      </select>
      <from>
        <query name="61880_8-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_date" />
          </withparams>
        </query>
        <query name="kr_dogovor_dop" join="left outer" as="dd" dname="61880_8_1">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="dd" column="kod_dog" />
          </call>
        </query>
        <query name="kv_group_cust_level" join="left outer" as="gc" dname="61880_8_1">
          <call function="=">
            <column table="dd" column="kod_group_cust" />
            <column table="gc" column="kod_group_cust" />
          </call>
        </query>
        <query name="rr_refprop_dog_127" join="left outer" as="r127" dname="61880_8_1" title="Группа клиентов">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="r127" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rs127" dname="61880_8_1">
          <call function="=">
            <column table="r127" column="kod_refcode" />
            <column table="rs127" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="!=">
            <column table="this" column="dz" />
            <const type="number">0</const>
          </call>
        </call>
      </where>
      <order>
        <column column="a.name" />
        <column column="a.ndog" />
        <column column="a.dat_sf" />
      </order>
    </query>
    <query name="61880_9-main" timestamp="26.09.2023 12:15:24" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array">
          <const>1172</const>
        </param>
        <param name="ym1" type="number">
          <const>2023.01</const>
        </param>
        <param name="ym2" type="number">
          <const>2023.01</const>
        </param>
        <param name="cond">
          <undefined />
        </param>
        <param name="kod_adr_m" type="array">
          <undefined />
        </param>
      </params>
      <select>
        <column table="a" column="kod_account" key="1" as="kod_account" />
        <!--<column table="sr_facras_text" column="kod_ras" dgroup="max" key="1"/>-->
        <column table="kod_account" column="kod_f23" as="kod_f46" />
        <column table="a" column="dep" as="dep" />
        <column table="dep" column="name" as="dep_name" title="Отделение" />
        <column table="a" column="kod_dog" as="kod_dog" />
        <column table="kod_dog" column="ndog" as="ndog" />
        <call function="if" as="adress_region" type="number">
          <call function="=">
            <column table="kod_obj" column="kodd" nvl="-1" />
            <const>-1</const>
          </call>
          <column table="kod_dog" column="adress_region" />
          <call function="adress_region">
            <column table="kod_obj" column="kodd" />
          </call>
        </call>
        <column table="a" column="vid_t" as="vid_t" />
        <column table="a" column="kod_numobj" as="kod_numobj" />
        <column table="kod_numobj" column="num_obj" as="num_obj" />
        <column table="kod_numobj" column="name" as="obj_name" />
        <column table="kod_account" column="ym" as="ym" />
        <call function="nvl" as="rym">
          <column table="kod_account" column="rym" />
          <column table="kod_account" column="ym" />
        </call>
        <column table="a" column="f46_razdel_ies" as="f46_razdel" />
        <column table="a" column="f46_podrazdel_ies" as="f46_podrazdel" />
        <column table="f46_razdel" column="name" as="f46_razdel_name" />
        <column table="f46_podrazdel" column="name" as="f46_podrazdel_name" />
        <!--<column table="a" column="f46_razdel"/>

      <column table="a" column="f46_podrazdel"/>

      <column table="a" column="f46_razdel_name"/>

      <column table="a" column="f46_podrazdel_name"/>-->
        <column table="kod_f23" column="gr" as="f46_npp" />
        <column table="kod_f23" column="name" as="f46_name" />
        <column table="a" column="acc_nach_bn" as="nach" />
        <column table="a" column="acc_nach" as="nachisl" />
        <column table="a" column="acc_cust" as="cust" />
        <column table="vid_t" column="num_t" type="number" as="num_t" />
        <column table="vid_t" column="name" as="vid_t_name" />
        <call function="case" type="number" comment="Добавлено условие Case 08.11.2022 Вартановой Т. по согласованию с А.Данилиным" as="voltage">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="kod_account" column="category_fik" />
                <const>(1, 2, 3, 5)</const>
              </call>
              <call function="in">
                <column table="kod_account" column="voltage" />
                <const>(6, -1)</const>
              </call>
            </call>
            <const>3</const>
          </call>
          <call function="else">
            <column table="kod_account" column="voltage" />
          </call>
        </call>
        <call function="case" as="voltage_abbr">
          <call function="when">
            <call table="this" column="voltage" function="=">
              <column table="this" column="voltage" />
              <const>3</const>
            </call>
            <const>'ВН'</const>
          </call>
          <call function="else">
            <column table="voltage" column="abbr" />
          </call>
        </call>
        <column table="kod_account" column="kodinterval" as="kodinterval" />
        <column table="kodinterval" column="name" as="interval_name" />
        <column table="a" column="edizm" as="edizm" />
        <column table="edizm" column="name" as="edizm_name" />
        <column table="kod_account" column="category_fik" as="category" />
        <column table="category_fik" column="name" as="category_name" />
        <column table="tarif" column="npp" as="npp" />
        <call function="case" as="tip_tar" type="string" title="Тип тарифа (для Ф46)">
          <call function="when">
            <call function="!=">
              <call function="nvl">
                <column table="kod_account" column="kodinterval" />
                <const>24</const>
              </call>
              <const>24</const>
            </call>
            <const>'Зонный'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
            <const>'Трехставочный'</const>
          </call>
          <call function="else">
            <const>'Одноставочный'</const>
          </call>
        </call>
        <column table="a" column="pr_2rate" as="pr_2rate" />
        <call function="case" type="string" as="pr_2rate_name" title="">
          <call function="when">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
            <const>'Двухставочный/Трехставочный'</const>
          </call>
          <call function="else">
            <const>'Одноставочный'</const>
          </call>
        </call>
        <column table="kodinterval" column="zone" as="zone" />
        <column table="a" column="pr_usl" as="pr_usl" />
        <column table="a" column="pr_free" as="pr_free" />
        <column table="a" column="pr_nasel" as="pr_nasel" />
        <column table="kodp" column="kod_fs" as="kod_fs" />
      </select>
      <from>
        <query name="fingen_united" as="a">
          <link name="kod_account" as="kod_account" table="nr_account" child="fingen_united" field="kod_account" parent="nr_account" back="fingen_united">
            <link name="tarif" as="tarif" table="ks_tarif" child="nr_account" field="tarif" parent="ks_tarif" back="nr_account" />
            <link name="kod_numobj" as="kod_numobj" table="kr_numobj" child="nr_account" field="kod_numobj" parent="kr_numobj" back="nr_account">
              <link name="kod_obj" as="kod_obj" table="kr_object" child="kr_numobj" field="kod_obj" parent="kr_object" back="kr_numobj" />
            </link>
            <link name="vid_t" as="vid_t" table="sk_nachisl" child="nr_account" field="vid_t" parent="sk_nachisl" back="nr_account" title="Вид начисления">
              <link name="edizm" as="edizm" table="sk_edizm" child="sk_nachisl" field="edizm" parent="sk_edizm" back="sk_nachisl" />
            </link>
            <link name="voltage" as="voltage" table="hk_voltage" child="nr_account" field="voltage" parent="hk_voltage" back="nr_account" title="Уровень напряжения" />
            <link name="category_fik" as="category_fik" table="price_cat" child="nr_account" field="category_fik" parent="price_cat" back="nr_account" />
            <link name="kod_f23" as="kod_f23" table="hs_23" child="nr_account" field="kod_f23" parent="hs_23" back="nr_account" title="Принадлежность объектов" />
            <link name="kodinterval" as="kodinterval" table="kk_interval" child="nr_account" field="kodinterval" parent="kk_interval" back="nr_account" />
            <!--<dlink name="sr_facras_text"/>-->
          </link>
          <link name="kod_dog" as="kod_dog" table="kr_dogovor" child="fingen_united" field="kod_dog" parent="kr_dogovor" back="fingen_united" title="Договор">
            <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
            <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент" />
          </link>
          <extendwhere>
            <call function="between">
              <column table="*" column="ym" />
              <useparam name="ym1" />
              <useparam name="ym2" />
            </call>
            <call function="is not null">
              <column table="kod_account" column="price" />
            </call>
            <!--<call function="=">
              <column table="*" column="kod_dog"/>
              <const>100001158</const>
            </call>-->
          </extendwhere>
        </query>
        <query name="f46_razdel" as="f46_razdel" join="left outer" dname="61880_9-main">
          <call function="=">
            <column table="this" column="f46_razdel" />
            <column table="f46_razdel" column="id" />
          </call>
        </query>
        <query name="f46_podrazdel" as="f46_podrazdel" join="left outer" dname="61880_9-main">
          <call function="=">
            <column table="this" column="f46_podrazdel" />
            <column table="f46_podrazdel" column="id" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="vid_real" />
            <const>2</const>
          </call>
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep">20578</useparam>
          </call>
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
          <!--<call function="is not null">
            <column table="this" column="kod_ras"/>
          </call>-->
          <useparam name="cond" />
        </call>
      </where>
    </query>
    <query name="61880-9-IАБ-new" order="f46_npp" timestamp="21.07.2022 13:34:09" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1">
          <const>2021.01</const>
        </param>
        <param name="ym2">
          <const>2021.11</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="hs_23" column="gr" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="hs_23" column="name" group="max" as="f46_name" key="0" />
        <call function="case" type="number" group="sum" format="N3" as="cust_1k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>1</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_1k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>1</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_2k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>2</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_2k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>2</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm72_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm72_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm22_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>22</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm22_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>22</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm72_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm72_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" as="nach_all" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="not in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>2</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
        <call function="case" as="nach_otcl" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>4</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="61880_9-main" as="a" join="left outer" dname="61880-9-IАБ-new">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <call function="=">
            <column table="hs_23" column="kod_f23" />
            <column table="a" column="kod_f46" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="or">
            <call function="=0">
              <column table="a" column="dep" nvl="0" />
            </call>
            <call function="in" optional="1">
              <column table="a" column="dep" />
              <useparam name="p_dep" />
            </call>
          </call>
        </call>
      </where>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-IАБ-new-volt" order="kod_sort" timestamp="21.07.2022 16:36:16" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="v46" column="voltage" as="voltage1" key="0" />
        <column table="v46" column="f46_npp" as="f46_npp1" reference="61880-9-IАБ-new-volt-pre" refcol="voltage" key="0" />
        <column table="v46" column="kod_sort" as="kod_sort" key="0" />
        <column table="v46" column="voltage_abbr" as="voltage_abbr" key="0" />
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880-9-all-volt-46" as="v46">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-IАБ-new-volt-pre" as="a" join="left outer" dname="61880-9-IАБ-new-volt">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <call function="and">
            <call function="=nvl">
              <column table="v46" column="voltage" />
              <column table="a" column="voltage" />
            </call>
            <call function="=nvl">
              <column table="v46" column="f46_npp" />
              <column table="a" column="f46_npp" />
            </call>
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep" />
          </call>
        </call>
      </where>
      <order>
        <column column="kod_sort" />
      </order>
    </query>
    <query name="61880-9-all-volt-46" timestamp="21.07.2022 16:34:09" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="b" column="f46_npp" as="f46_npp" key="0" />
        <column table="a" column="voltage" as="voltage" key="0" />
        <column table="a" column="voltage_abbr" as="voltage_abbr" key="0" />
        <column table="a" column="kod_sort" as="kod_sort" key="0" />
      </select>
      <from>
        <query name="61880-9-all-volt-pre" as="a" />
        <query name="61880-9-all-46" as="b" join="cross">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880-9-all-volt" timestamp="18.01.2022 13:39:06" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <select>
        <column table="a" column="voltage" as="voltage" key="1" fixed="1" />
        <column table="a" column="abbr" as="voltage_abbr" key="0" />
        <column table="a" column="kod_sort" as="kod_sort" key="0" />
      </select>
      <from>
        <query name="hk_voltage" as="a" title="Уровень напряжения" />
      </from>
      <where>
        <call function="le">
          <column table="a" column="voltage" />
          <const>6</const>
        </call>
      </where>
    </query>
    <query name="61880-9-all-46" timestamp="21.07.2022 16:34:35" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="a" column="f46_npp" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="a" column="f46_name" group="max" as="f46_name" key="0" />
        <column table="a" column="cust" group="max" fixed="1" as="cust" key="0" />
      </select>
      <from>
        <query name="61880_9-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880-9-IАБ-new-volt-pre" timestamp="21.07.2022 16:35:54" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="a" column="voltage" group="1" as="voltage" key="1" fixed="1" />
        <column table="a" column="dep" group="1" as="dep" key="1" fixed="1" />
        <column table="hs_23" column="gr" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="hs_23" column="name" group="max" as="f46_name" key="0" />
        <call function="case" type="number" group="sum" format="N3" as="cust_1k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>1</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_1k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>1</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_2k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>2</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_2k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>2</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm_35k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>5</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm72_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm72_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm22_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>22</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm22_46k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>22</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>4</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm_34k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>3</const>
                  <const>4</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="cust_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" format="N3" as="nach_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>77</const>
                  <const>78</const>
                  <const>79</const>
                </call>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="custm72_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachm72_56k" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_t" />
                <const>72</const>
              </call>
              <call function="in">
                <column table="a" column="category" />
                <call function="array">
                  <const>5</const>
                  <const>6</const>
                </call>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" as="nach_all" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="not in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>2</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
        <call function="case" as="nach_otcl" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>4</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="61880_9-main" as="a" join="left outer" dname="61880-9-IАБ-new-volt-pre">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <call function="=">
            <column table="hs_23" column="kod_f23" />
            <column table="a" column="kod_f46" />
          </call>
        </query>
      </from>
    </query>
    <query name="61880-9-all-volt-fsk" timestamp="18.01.2022 13:35:22" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <select>
        <const table="a" column="voltage" type="number" as="voltage" key="0">5</const>
        <const table="a" column="abbr" as="voltage_abbr" type="string" key="0">'ФСК'</const>
        <const table="a" column="kod_sort" type="number" as="kod_sort" key="0">5</const>
      </select>
      <from>
        <query as="a" name="dual" />
      </from>
    </query>
    <query name="61880-9-all-volt-pre" timestamp="18.01.2022 14:22:27" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="a">
          <union>
            <query as="a" haskeys="1">
              <select>
                <column table="a" column="voltage" as="voltage" key="1" fixed="1" />
                <column table="a" column="voltage_abbr" as="voltage_abbr" key="0" />
                <column table="a" column="kod_sort" as="kod_sort" key="0" />
              </select>
              <from>
                <query name="61880-9-all-volt" as="a" />
              </from>
            </query>
            <query as="b">
              <select>
                <column table="b" column="voltage" as="voltage" />
                <column table="b" column="voltage_abbr" as="voltage_abbr" />
                <column table="b" column="kod_sort" as="kod_sort" />
              </select>
              <from>
                <query name="61880-9-all-volt-fsk" as="b" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="61880-9-IIАБ-new" order="f46_npp" timestamp="21.07.2022 13:35:14" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1">
          <const>2021.01</const>
        </param>
        <param name="ym2">
          <const>2021.11</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="a" column="f46_npp" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="a" column="f46_name" group="max" as="f46_name" key="0" />
        <call function="case" type="number" group="sum" as="nach_1st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Одноставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" nvl="0" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_1st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Одноставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_z" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Зонный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_z" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Зонный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_3st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Трехставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_3st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Трехставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_kvt" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>3</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_kvt" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>3</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_kvtch" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_kvtch" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" as="nach_all" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="not in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>2</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
        <call function="case" as="nach_otcl" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>4</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
      </select>
      <from>
        <query name="61880_9-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in" optional="1">
            <column table="a" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-IIАБ-new-volt-pre" timestamp="21.07.2022 16:41:02" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="a" column="voltage" group="1" as="voltage" key="1" fixed="1" />
        <column table="a" column="dep" group="1" as="dep" key="1" fixed="1" />
        <column table="a" column="f46_npp" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="a" column="f46_name" group="max" as="f46_name" key="0" />
        <call function="case" type="number" group="sum" as="nach_1st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Одноставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" nvl="0" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_1st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Одноставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_z" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Зонный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_z" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Зонный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_3st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Трехставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_3st" key="0">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="tip_tar" />
                <const>'Трехставочный'</const>
              </call>
              <call function="=">
                <column table="a" column="edizm" />
                <const>4</const>
              </call>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_kvt" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>3</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_kvt" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>3</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_kvtch" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_kvtch" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" as="nach_all" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="not in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>2</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
        <call function="case" as="nach_otcl" group="sum" type="number" mp="-3" key="0">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="a" column="vid_t" />
                <call function="array">
                  <const>80</const>
                  <const>-81</const>
                  <const>-82</const>
                  <const>-83</const>
                  <const>-84</const>
                  <const>-78</const>
                  <const>-79</const>
                </call>
              </call>
              <call function="gt">
                <column table="a" column="category" />
                <const>4</const>
              </call>
            </call>
            <column table="a" column="nach" />
          </call>
        </call>
      </select>
      <from>
        <query name="61880_9-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880-9-IIАБ-new-volt" order="kod_sort" timestamp="21.07.2022 16:40:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="v46" column="voltage" as="voltage1" key="0" />
        <column table="v46" column="f46_npp" as="f46_npp1" reference="61880-9-IIАБ-new-volt-pre" refcol="voltage" key="0" />
        <column table="v46" column="kod_sort" as="kod_sort" key="0" />
        <column table="v46" column="voltage_abbr" as="voltage_abbr" key="0" />
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880-9-all-volt-46" as="v46">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-IIАБ-new-volt-pre" as="a" join="left outer" dname="61880-9-IIАБ-new-volt">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <call function="and">
            <call function="=nvl">
              <column table="v46" column="voltage" />
              <column table="a" column="voltage" />
            </call>
            <call function="=nvl">
              <column table="v46" column="f46_npp" />
              <column table="a" column="f46_npp" />
            </call>
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep" />
          </call>
        </call>
      </where>
      <order>
        <column column="kod_sort" />
      </order>
    </query>
    <query name="61880_9-main_all" timestamp="26.04.2023 11:58:02" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" />
        <param name="ym1">
          <const>2021.01</const>
        </param>
        <param name="ym2">
          <const>2021.08</const>
        </param>
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="a" column="kod_account" key="1" as="kod_account" />
        <column table="a" column="kod_f46" title="код классификатора потребителя" as="kod_f46" />
        <column table="a" column="dep" as="dep" />
        <column table="a" column="dep_name" title="Отделение" as="dep_name" />
        <column table="a" column="kod_dog" as="kod_dog" />
        <column table="a" column="adress_region" title="Регион" as="adress_region" reference="adr_m" refcol="kod_m" />
        <column table="adr_m" column="name_s" title="Регион наименование" as="name_s" />
        <column table="a" column="ndog" as="ndog" />
        <column table="a" column="vid_t" as="vid_t" />
        <column table="a" column="kod_numobj" as="kod_numobj" />
        <column table="a" column="num_obj" as="num_obj" />
        <column table="a" column="obj_name" as="obj_name" />
        <column table="a" column="ym" as="ym" />
        <column table="a" column="rym" as="rym" />
        <column table="a" column="f46_razdel" as="f46_razdel" />
        <column table="a" column="f46_podrazdel" as="f46_podrazdel" />
        <column table="a" column="f46_razdel_name" as="f46_razdel_name" />
        <column table="a" column="f46_podrazdel_name" as="f46_podrazdel_name" />
        <column table="a" column="f46_npp" as="f46_npp" />
        <column table="a" column="f46_name" as="f46_name" />
        <column table="a" column="nach" as="nach" />
        <column table="a" column="nachisl" as="nachisl" />
        <column table="a" column="cust" as="cust" />
        <column table="a" column="num_t" type="number" as="num_t" />
        <column table="a" column="vid_t_name" as="vid_t_name" />
        <column table="a" column="voltage" as="voltage" />
        <column table="a" column="voltage_abbr" type="string" as="voltage_abbr" />
        <column table="a" column="kodinterval" as="kodinterval" />
        <column table="a" column="interval_name" as="interval_name" />
        <column table="a" column="edizm" as="edizm" />
        <column table="a" column="edizm_name" as="edizm_name" />
        <column table="a" column="category" as="category" />
        <column table="a" column="category_name" as="category_name" />
        <column table="a" column="npp" as="npp" />
        <column table="a" column="tip_tar" as="tip_tar" />
        <column table="a" column="pr_2rate" as="pr_2rate" />
        <column table="a" column="pr_2rate_name" as="pr_2rate_name" />
        <column table="a" column="zone" as="zone" />
        <column table="a" column="pr_usl" as="pr_usl" />
        <column table="a" column="pr_free" as="pr_free" />
        <column table="a" column="pr_nasel" as="pr_nasel" />
        <!--<column table="sr_facras_text" column="kod_ras" dgroup="max" key="1"/>-->
        <!--<column table="a" column="f46_razdel"/>

      <column table="a" column="f46_podrazdel"/>

      <column table="a" column="f46_razdel_name"/>

      <column table="a" column="f46_podrazdel_name"/>-->
      </select>
      <from>
        <query name="61880_9-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="true" />
            </call>
          </withparams>
        </query>
        <query name="adr_m" join="left outer" as="adr_m" dname="61880_9-main_all" title="Административно территориальная единица">
          <call function="=">
            <column table="a" column="adress_region" />
            <column table="adr_m" column="kod_m" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in" optional="1">
            <column table="a" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880_9-III-main" timestamp="21.07.2022 13:33:06" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1">
          <const>2021.01</const>
        </param>
        <param name="ym2">
          <const>2021.08</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <call function="()" as="id" key="0">
          <const type="number">300</const>
        </call>
        <call function="()" as="name_str" group="max" title="Наименование" key="0">
          <const type="string">'Продажа'</const>
        </call>
        <call function="()" as="num_str" group="max" title="Код строки" key="0">
          <const type="string">'300 '</const>
        </call>
        <call function="if" as="cust_kvth" group="sum" title="Объем электрической энергии за отчетный месяц (год), тыс кВт ч" mp="-3" key="0">
          <call function="in">
            <column table="a" column="edizm" />
            <call function="array">
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" as="nach_kvth" group="sum" title="Стоимость электрической энергии за отчетный месяц (год), тыс руб" mp="-3" key="0">
          <call function="in">
            <column table="a" column="edizm" />
            <call function="array">
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" as="cust_mvt" group="sum" title="Величина электрической мощности за отчетный месяц (в среднем" mp="-3" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>72</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" as="nach_mvt" group="sum" title="Стоимость электрической мощности за отчетный месяц (год), тыс руб" mp="-3" key="0">
          <call function="in">
            <column table="a" column="edizm" />
            <call function="array">
              <const>3</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="+nvl" title="Стоимость без дифференциации на энергию и мощность за отчетный месяц (год), тыс руб" as="nach_all" group="sum" mp="-3" key="0">
          <column table="this" column="nach_kvth" />
          <column table="this" column="nach_mvt" />
        </call>
        <!--<column table="sr_facras_text" column="kod_ras" dgroup="max" key="1"/>-->
        <!--<column table="a" column="f46_razdel"/>

      <column table="a" column="f46_podrazdel"/>

      <column table="a" column="f46_razdel_name"/>

      <column table="a" column="f46_podrazdel_name"/>-->
      </select>
      <from>
        <query name="61880_9-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="true" />
            </call>
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in" optional="1">
            <column table="a" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="str" order="id">
          <group>
            <column table="this" column="id" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="61880-9-В-new" order="f46_npp" timestamp="21.07.2022 13:35:41" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1">
          <const>2021.01</const>
        </param>
        <param name="ym2">
          <const>2021.11</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="a" column="f46_npp" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="a" column="f46_name" group="max" as="f46_name" key="0" />
        <call function="case" type="number" group="sum" as="nach_kvtch" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachisl_kvtch" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="/">
              <column table="a" column="nachisl" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_kvtch" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_1st" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>0</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachisl_1st" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>0</const>
            </call>
            <call function="/">
              <column table="a" column="nachisl" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_1st" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>0</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_z1" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>1</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachisl_z1" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>1</const>
            </call>
            <call function="/">
              <column table="a" column="nachisl" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_z1" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>1</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_z2" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>2</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachisl_z2" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>2</const>
            </call>
            <call function="/">
              <column table="a" column="nachisl" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_z2" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>2</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nach_z3" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>3</const>
            </call>
            <call function="/">
              <column table="a" column="nach" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="nachisl_z3" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>3</const>
            </call>
            <call function="/">
              <column table="a" column="nachisl" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <call function="case" type="number" group="sum" as="cust_z3" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="zone" />
              <const>3</const>
            </call>
            <call function="/">
              <column table="a" column="cust" />
              <const>1000</const>
            </call>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
      </select>
      <from>
        <query name="61880_9-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in" optional="1">
            <column table="a" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-new-I" order="f46_npp" timestamp="26.09.2023 15:11:12" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array">
          <const>1172</const>
        </param>
        <param name="ym1" type="number">
          <const>2023.01</const>
        </param>
        <param name="ym2" type="number">
          <const>2023.01</const>
        </param>
        <param name="cond">
          <undefined />
        </param>
        <param name="kod_adr_m" type="array">
          <undefined />
        </param>
      </params>
      <select>
        <column table="hs_23" column="gr" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="hs_23" column="name" group="max" as="f46_name" key="0" />
        <call function="if" group="sum" as="cust_1k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="category" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_1k" group="sum" as="cust_1k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_1k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="category" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_1k" as="nach_1k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_2k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="category" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_2k" group="sum" as="cust_2k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_2k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="category" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_2k" as="nach_2k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_35k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_35k" group="sum" as="cust_35k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_35k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
                <const>23</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_35k" as="nach_35k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_35m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_35m" group="sum" as="cust_35m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_35m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_35m" as="nach_35m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_46k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_46k" group="sum" as="cust_46k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_46k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="!=">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_46k" as="nach_46k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_46m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="!=">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_46m" group="sum" as="cust_46m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_46m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="!=">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_46m" as="nach_46m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_46mp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_46mp" group="sum" as="cust_46mp_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_46mp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_46mp" as="nach_46mp_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_34k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_34k" group="sum" as="cust_34k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_34k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
                <const>23</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_34k" as="nach_34k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_34m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_34m" group="sum" as="cust_34m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_34m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_34m" as="nach_34m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_56k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_56k" group="sum" as="cust_56k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_56k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
                <const>23</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_56k" as="nach_56k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_56m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_56m" group="sum" as="cust_56m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_56m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_56m" as="nach_56m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="sqlb_rep_61880_9_tbl" as="a" join="left outer" dname="61880-9-new-I">
          <call function="and">
            <call function="in" optional="1">
              <column table="a" column="adress_region" />
              <useparam name="kod_adr_m" />
            </call>
            <call function="=">
              <column table="hs_23" column="kod_f23" />
              <column table="a" column="kod_f46" />
            </call>
            <useparam name="cond" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="gt">
            <column table="hs_23" column="kod_f23" />
            <const>0</const>
          </call>
          <call function="lt">
            <column table="hs_23" column="kod_f23" />
            <const>38</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="hs_23" column="gr" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-voltage" order="kod_sort" timestamp="20.07.2022 16:04:44" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <select>
        <column table="a" column="voltage" as="voltage" key="1" fixed="1" />
        <column table="a" column="abbr" as="abbr" key="0" />
        <column table="a" column="kod_sort" as="kod_sort" key="0" />
      </select>
      <from>
        <query name="hk_voltage" as="a" title="Уровень напряжения" />
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="ge">
            <column table="a" column="voltage" />
            <const type="number">-1</const>
          </call>
        </call>
      </where>
      <order>
        <column column="kod_sort" />
      </order>
    </query>
    <query name="61880-9-new-IB" order="f46_npp" timestamp="16.03.2023 18:50:46" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="ym1">
          <const>2022.03</const>
        </param>
        <param name="ym2">
          <const>2022.03</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" />
      </params>
      <select>
        <column table="hs_23" column="gr" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="hs_23" column="name" group="max" as="f46_name" key="0" />
        <call function="if" group="sum" as="cust" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="61880_9-main" as="a" join="left outer" dname="61880-9-new-IB">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <call function="=">
            <column table="hs_23" column="kod_f23" />
            <column table="a" column="kod_f46" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="gt">
            <column table="hs_23" column="kod_f23" />
            <const>0</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="hs_23" column="gr" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-new-II" order="f46_npp" timestamp="26.09.2023 15:12:18" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="ym1" type="number">
          <const>2022.03</const>
        </param>
        <param name="ym2" type="number">
          <const>2022.03</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="hs_23" column="gr" group="1" as="f46_npp" key="1" fixed="1" />
        <column table="hs_23" column="name" group="max" as="f46_name" key="0" />
        <call function="if" group="sum" as="cust_1st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_1st" group="sum" as="cust_1st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_1st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_1st" as="nach_1st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_zon" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>-25</const>
                <const>-23</const>
                <const>26</const>
                <const>21</const>
                <const>22</const>
                <const>23</const>
                <const>27</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_zon" group="sum" as="cust_zon_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_zon" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>-25</const>
                <const>-23</const>
                <const>26</const>
                <const>21</const>
                <const>22</const>
                <const>23</const>
                <const>27</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_zon" as="nach_zon_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_3st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_3st" group="sum" as="cust_3st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_3st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_3st" as="nach_3st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_3st_m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_3st_m" group="sum" as="cust_3st_m_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_3st_m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_3st_m" as="nach_3st_m_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_kvtch_all" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column group="sum" table="this" column="cust_kvtch_all" as="cust_kvtch_all_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" column="nach" as="nach_all" mp="-3" key="0" />
        <column group="sum" table="this" column="nach_all" as="nach_all_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880-9-voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="sqlb_rep_61880_9_tbl" as="a" join="left outer" dname="61880-9-new-II">
          <call function="and">
            <call function="in" optional="1">
              <column table="a" column="adress_region" />
              <useparam name="kod_adr_m" />
            </call>
            <call function="=">
              <column table="hs_23" column="kod_f23" />
              <column table="a" column="kod_f46" />
            </call>
            <useparam name="cond" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="gt">
            <column table="hs_23" column="kod_f23" />
            <const>0</const>
          </call>
          <call function="lt">
            <column table="hs_23" column="kod_f23" />
            <const>38</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="hs_23" column="gr" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-voltage_1" order="kod_sort" timestamp="27.07.2022 13:57:56" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <select>
        <column table="a" column="voltage" as="voltage" key="1" fixed="1" />
        <column table="a" column="abbr" as="abbr" key="0" />
        <column table="a" column="kod_sort" as="kod_sort" key="0" />
      </select>
      <from>
        <query name="hk_voltage" as="a" title="Уровень напряжения" />
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="ge">
            <column table="a" column="voltage" />
            <const type="number">0</const>
          </call>
        </call>
      </where>
      <order>
        <column column="kod_sort" />
      </order>
    </query>
    <query name="61880-9-new-IA" order="f46_npp" timestamp="25.09.2023 12:14:33" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" type="array">
          <const>1172</const>
        </param>
        <param name="ym1" type="number">
          <const>2023.01</const>
        </param>
        <param name="ym2" type="number">
          <const>2023.01</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880-9-new-I" as="a" join="left outer">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-new-IБ" order="f46_npp" timestamp="10.07.2023 13:35:03" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="ym1" type="number">
          <const>2022.03</const>
        </param>
        <param name="ym2" type="number">
          <const>2022.03</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880-9-new-I" as="a" join="left outer">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-new-IIА" order="f46_npp" timestamp="10.07.2023 13:39:25" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="ym1" type="number">
          <const>2022.03</const>
        </param>
        <param name="ym2" type="number">
          <const>2022.03</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880-9-new-II" as="a" join="left outer">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-new-IIБ" order="f46_npp" timestamp="10.07.2023 13:39:08" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="ym1" type="number">
          <const>2022.03</const>
        </param>
        <param name="ym2" type="number">
          <const>2022.03</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880-9-new-II" as="a" join="left outer">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="f46_npp" />
      </order>
    </query>
    <query name="61880-9-new-4R" timestamp="10.07.2023 15:51:56" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="u" column="tr_cust_fsk_kvth" as="tr_cust_fsk_kvth" type="number" mp="-3" key="1" fixed="1" />
        <column table="u" column="tr_cust_tso_kvth" as="tr_cust_tso_kvth" type="number" mp="-3" key="0" />
        <column table="u" column="tr_cust_fsk_kvt" as="tr_cust_fsk_kvt" type="number" mp="-3" key="0" />
        <column table="u" column="tr_cust_tso_kvt" as="tr_cust_tso_kvt" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_fsk_kvth" as="tr_money_fsk_kvth" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_tso_kvth" as="tr_money_tso_kvth" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_fsk_kvt" as="tr_money_fsk_kvt" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_tso_kvt" as="tr_money_tso_kvt" type="number" mp="-3" key="0" />
      </select>
      <from>
        <table name="61880-9-new-4R" view="1" as="u">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </table>
      </from>
    </query>
    <query name="61880-9-info" timestamp="11.07.2023 18:11:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <call function="mes-name-pp" as="mes" key="0">
          <call function="mes">
            <useparam name="ym1" />
          </call>
        </call>
        <call function="trunc" as="year" key="0">
          <useparam name="ym1" />
        </call>
        <call function="||" group="stragg_dist" as="dep_name" key="0">
          <column table="kr_dep" column="name" />
        </call>
        <call function="||" group="stragg" as="adr_name" key="0">
          <column table="adr_m_obj_list_dep" column="name_p" />
        </call>
        <call function="sysdate" as="dat" key="0" />
      </select>
      <from>
        <query name="adr_m_obj_list_dep" as="adr_m_obj_list_dep">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
        <query name="kr_dep" join="cross" as="kr_dep" />
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="adr_m_obj_list_dep" column="kod_m" />
            <useparam name="kod_adr_m" />
          </call>
          <call function="in" optional="1">
            <column table="kr_dep" column="kodp" />
            <useparam name="p_dep" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880-9-new-IB_nas" order="kod_social" timestamp="28.11.2023 14:44:02" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="ym1" type="number">
          <const>2022.03</const>
        </param>
        <param name="ym2" type="number">
          <const>2022.03</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <call table="hs_23" column="gr" group="1" as="kod_social" function="()" type="number" key="1" fixed="1">
          <const>1</const>
        </call>
        <call table="hs_23" column="name" group="max" as="name_social" function="()" type="string" key="0">
          <const type="string">'в пределах социальной нормы'</const>
        </call>
        <call function="if" group="sum" as="cust" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </select>
      <from>
        <query name="dual" as="dual" />
        <query name="sqlb_rep_61880_9_tbl" as="a" join="left outer" dname="61880-9-new-IB_nas">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_fs" />
              <const type="number">-1</const>
            </call>
            <call function="in" optional="1">
              <column table="a" column="adress_region" />
              <useparam name="kod_adr_m" />
            </call>
            <useparam name="cond" />
            <call function="true" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="social">
            <group>
              <column table="this" column="kod_social" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="kod_social" />
      </order>
    </query>
    <query name="61880-9-new-IB_nas_pr" order="kod_social" timestamp="26.09.2023 15:13:50" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="ym1" type="number">
          <const>2022.03</const>
        </param>
        <param name="ym2" type="number">
          <const>2022.03</const>
        </param>
        <param name="cond" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <call table="hs_23" column="gr" group="1" as="kod_social" function="()" type="number" key="1" fixed="1">
          <const>1</const>
        </call>
        <call table="hs_23" column="name" group="max" as="name_social" function="()" type="string" key="0">
          <const type="string">'в пределах социальной нормы'</const>
        </call>
        <call function="if" group="sum" as="cust" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </select>
      <from>
        <query name="dual" as="dual" />
        <query name="sqlb_rep_61880_9_tbl" as="a" join="left outer" dname="61880-9-new-IB_nas_pr">
          <call function="and">
            <call function="!=">
              <column table="a" column="kod_fs" />
              <const type="number">-1</const>
            </call>
            <call function="in" optional="1">
              <column table="a" column="adress_region" />
              <useparam name="kod_adr_m" />
            </call>
            <useparam name="cond" />
            <call function="true" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="social">
            <group>
              <column table="this" column="kod_social" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="kod_social" />
      </order>
    </query>
    <query name="61880_9-main_test" timestamp="25.09.2023 12:03:17" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array">
          <const>1172</const>
        </param>
        <param name="ym1" type="number">
          <const>2023.01</const>
        </param>
        <param name="ym2" type="number">
          <const>2023.01</const>
        </param>
        <param name="cond">
          <undefined />
        </param>
        <param name="kod_adr_m" type="array">
          <undefined />
        </param>
      </params>
      <select>
        <column table="a" column="kod_account" key="1" as="kod_account" />
        <!--<column table="sr_facras_text" column="kod_ras" dgroup="max" key="1"/>-->
        <column table="kod_account" column="kod_f23" as="kod_f46" />
        <column table="a" column="dep" as="dep" />
        <column table="dep" column="name" as="dep_name" title="Отделение" />
        <column table="a" column="kod_dog" as="kod_dog" />
        <column table="kod_dog" column="ndog" as="ndog" />
        <call function="if" as="adress_region">
          <call function="=">
            <column table="kod_obj" column="kodd" nvl="-1" />
            <const>-1</const>
          </call>
          <column table="kod_dog" column="adress_region" />
          <call function="adress_region">
            <column table="kod_obj" column="kodd" />
          </call>
        </call>
        <column table="a" column="vid_t" as="vid_t" />
        <column table="a" column="kod_numobj" as="kod_numobj" />
        <column table="kod_numobj" column="num_obj" as="num_obj" />
        <column table="kod_numobj" column="name" as="obj_name" />
        <column table="kod_account" column="ym" as="ym" />
        <call function="nvl" as="rym">
          <column table="kod_account" column="rym" />
          <column table="kod_account" column="ym" />
        </call>
        <column table="a" column="f46_razdel_ies" as="f46_razdel" />
        <column table="a" column="f46_podrazdel_ies" as="f46_podrazdel" />
        <column table="f46_razdel" column="name" as="f46_razdel_name" />
        <column table="f46_podrazdel" column="name" as="f46_podrazdel_name" />
        <!--<column table="a" column="f46_razdel"/>

      <column table="a" column="f46_podrazdel"/>

      <column table="a" column="f46_razdel_name"/>

      <column table="a" column="f46_podrazdel_name"/>-->
        <column table="kod_f23" column="gr" as="f46_npp" />
        <column table="kod_f23" column="name" as="f46_name" />
        <column table="a" column="acc_nach_bn" as="nach" />
        <column table="a" column="acc_nach" as="nachisl" />
        <column table="a" column="acc_cust" as="cust" />
        <column table="vid_t" column="num_t" type="number" as="num_t" />
        <column table="vid_t" column="name" as="vid_t_name" />
        <call function="case" type="number" comment="Добавлено условие Case 08.11.2022 Вартановой Т. по согласованию с А.Данилиным" as="voltage">
          <call function="when">
            <call function="and">
              <call function="in">
                <column table="kod_account" column="category_fik" />
                <const>(1, 2, 3, 5)</const>
              </call>
              <call function="in">
                <column table="kod_account" column="voltage" />
                <const>(6, -1)</const>
              </call>
            </call>
            <const>3</const>
          </call>
          <call function="else">
            <column table="kod_account" column="voltage" />
          </call>
        </call>
        <call function="case" as="voltage_abbr">
          <call function="when">
            <call table="this" column="voltage" function="=">
              <column table="this" column="voltage" />
              <const>3</const>
            </call>
            <const>'ВН'</const>
          </call>
          <call function="else">
            <column table="voltage" column="abbr" />
          </call>
        </call>
        <column table="kod_account" column="kodinterval" as="kodinterval" />
        <column table="kodinterval" column="name" as="interval_name" />
        <column table="a" column="edizm" as="edizm" />
        <column table="edizm" column="name" as="edizm_name" />
        <column table="kod_account" column="category_fik" as="category" />
        <column table="category_fik" column="name" as="category_name" />
        <column table="tarif" column="npp" as="npp" />
        <call function="case" as="tip_tar" type="string" title="Тип тарифа (для Ф46)">
          <call function="when">
            <call function="!=">
              <call function="nvl">
                <column table="kod_account" column="kodinterval" />
                <const>24</const>
              </call>
              <const>24</const>
            </call>
            <const>'Зонный'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
            <const>'Трехставочный'</const>
          </call>
          <call function="else">
            <const>'Одноставочный'</const>
          </call>
        </call>
        <column table="a" column="pr_2rate" as="pr_2rate" />
        <call function="case" type="string" as="pr_2rate_name" title="">
          <call function="when">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
            <const>'Двухставочный/Трехставочный'</const>
          </call>
          <call function="else">
            <const>'Одноставочный'</const>
          </call>
        </call>
        <column table="kodinterval" column="zone" as="zone" />
        <column table="a" column="pr_usl" as="pr_usl" />
        <column table="a" column="pr_free" as="pr_free" />
        <column table="a" column="pr_nasel" as="pr_nasel" />
        <column table="kodp" column="kod_fs" as="kod_fs" />
      </select>
      <from>
        <query name="fingen_united" as="a">
          <link name="kod_account" as="kod_account" table="nr_account" child="fingen_united" field="kod_account" parent="nr_account" back="fingen_united">
            <link name="tarif" as="tarif" table="ks_tarif" child="nr_account" field="tarif" parent="ks_tarif" back="nr_account" />
            <link name="kod_numobj" as="kod_numobj" table="kr_numobj" child="nr_account" field="kod_numobj" parent="kr_numobj" back="nr_account">
              <link name="kod_obj" as="kod_obj" table="kr_object" child="kr_numobj" field="kod_obj" parent="kr_object" back="kr_numobj" />
            </link>
            <link name="vid_t" as="vid_t" table="sk_nachisl" child="nr_account" field="vid_t" parent="sk_nachisl" back="nr_account" title="Вид начисления">
              <link name="edizm" as="edizm" table="sk_edizm" child="sk_nachisl" field="edizm" parent="sk_edizm" back="sk_nachisl" />
            </link>
            <link name="voltage" as="voltage" table="hk_voltage" child="nr_account" field="voltage" parent="hk_voltage" back="nr_account" title="Уровень напряжения" />
            <link name="category_fik" as="category_fik" table="price_cat" child="nr_account" field="category_fik" parent="price_cat" back="nr_account" />
            <link name="kod_f23" as="kod_f23" table="hs_23" child="nr_account" field="kod_f23" parent="hs_23" back="nr_account" title="Принадлежность объектов" />
            <link name="kodinterval" as="kodinterval" table="kk_interval" child="nr_account" field="kodinterval" parent="kk_interval" back="nr_account" />
            <!--<dlink name="sr_facras_text"/>-->
          </link>
          <link name="kod_dog" as="kod_dog" table="kr_dogovor" child="fingen_united" field="kod_dog" parent="kr_dogovor" back="fingen_united" title="Договор">
            <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
            <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент" />
          </link>
          <extendwhere>
            <call function="between">
              <column table="*" column="ym" />
              <useparam name="ym1" />
              <useparam name="ym2" />
            </call>
            <call function="is not null">
              <column table="kod_account" column="price" />
            </call>
            <!--<call function="=">
              <column table="*" column="kod_dog"/>
              <const>100001158</const>
            </call>-->
          </extendwhere>
        </query>
        <query name="f46_razdel" as="f46_razdel" join="left outer" dname="61880_9-main_test">
          <call function="=">
            <column table="this" column="f46_razdel" />
            <column table="f46_razdel" column="id" />
          </call>
        </query>
        <query name="f46_podrazdel" as="f46_podrazdel" join="left outer" dname="61880_9-main_test">
          <call function="=">
            <column table="this" column="f46_podrazdel" />
            <column table="f46_podrazdel" column="id" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="vid_real" />
            <const>2</const>
          </call>
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep">20578</useparam>
          </call>
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
          <!--<call function="is not null">
            <column table="this" column="kod_ras"/>
          </call>-->
          <useparam name="cond" />
        </call>
      </where>
    </query>
    <query name="61880_9_v3_I" timestamp="18.12.2024 14:34:44" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <params>
        <param type="string" as="podrazdel" name="podrazdel" />
      </params>
      <select>
        <column table="a" column="kod_f46" group="1" as="kod_f46" key="1" fixed="1" />
        <call function="if" group="sum" as="cust_1k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="=">
              <column table="a" column="category" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_1k" group="sum" as="cust_1k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_1k" mp="-3" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="category" />
            <const>1</const>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_1k" as="nach_1k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_2k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="=">
              <column table="a" column="category" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_2k" group="sum" as="cust_2k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_2k" mp="-3" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="category" />
            <const>2</const>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_2k" as="nach_2k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_35k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_35k" group="sum" as="cust_35k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_35k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
                <const>23</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_35k" as="nach_35k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_35m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>3</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_35m" group="sum" as="cust_35m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_35m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>3</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_35m" as="nach_35m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_46k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_46k" group="sum" as="cust_46k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_46k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="!=">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_46k" as="nach_46k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_46m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="!=">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_46m" group="sum" as="cust_46m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_46m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="!=">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_46m" as="nach_46m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_46mp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_46mp" group="sum" as="cust_46mp_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_46mp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>22</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_46mp" as="nach_46mp_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_34k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_34k" group="sum" as="cust_34k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_34k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
                <const>23</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_34k" as="nach_34k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_34m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_34m" group="sum" as="cust_34m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_34m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_34m" as="nach_34m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_56k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_56k" group="sum" as="cust_56k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_56k" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
                <const>23</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_56k" as="nach_56k_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_56m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_56m" group="sum" as="cust_56m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_56m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_56m" as="nach_56m_by" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
      </select>
      <from>
        <query name="sqlb_rep_61880_9_tbl" as="a" join="left outer" />
        <query name="rs_esys" as="e" join="cross" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="f46_razdel" />
            <const>'I'</const>
          </call>
          <call function="=">
            <column table="a" column="f46_podrazdel" />
            <useparam name="podrazdel" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="this" column="kod_f46" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_9_v3_voltage" order="kod_sort" timestamp="01.07.2024 10:14:15" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <select>
        <column table="a" column="voltage" type="number" as="voltage" key="1" fixed="1" />
        <call function="if" as="abbr" type="string" title="Уровень напряжения" key="0">
          <call function="=">
            <column table="a" column="voltage" />
            <const type="number">6</const>
          </call>
          <const type="string">'ГН'</const>
          <column table="a" column="abbr" />
        </call>
        <column table="a" column="kod_sort" as="kod_sort" key="0" />
      </select>
      <from>
        <query name="hk_voltage" as="a" title="Уровень напряжения" />
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="gt">
            <column table="a" column="voltage" />
            <const type="number">-2</const>
          </call>
          <call function="lt">
            <column table="a" column="voltage" />
            <const type="number">7</const>
          </call>
        </call>
      </where>
      <order>
        <column column="kod_sort" />
      </order>
    </query>
    <query name="61880_9_v3_voltage_1" order="kod_sort" timestamp="08.08.2024 16:22:42" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <select>
        <column table="a" column="voltage" as="voltage" key="1" fixed="1" />
        <call function="if" as="abbr" type="string" title="Уровень напряжения" key="0">
          <call function="=">
            <column table="a" column="voltage" />
            <const type="number">6</const>
          </call>
          <const type="string">'ГН'</const>
          <column table="a" column="abbr" />
        </call>
        <column table="a" column="kod_sort" as="kod_sort" key="0" />
      </select>
      <from>
        <query name="hk_voltage" as="a" title="Уровень напряжения" />
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="ge">
            <column table="a" column="voltage" />
            <const type="number">0</const>
          </call>
          <call function="lt">
            <column table="a" column="voltage" />
            <const type="number">7</const>
          </call>
        </call>
      </where>
      <order>
        <column column="kod_sort" />
      </order>
    </query>
    <query name="61880_9_v3_II" timestamp="06.12.2023 16:21:34" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <params>
        <param type="string" as="podrazdel" name="podrazdel" />
      </params>
      <select>
        <column table="a" column="kod_f46" group="1" as="kod_f46" key="1" fixed="1" />
        <call function="if" group="sum" as="cust_1st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_1st" group="sum" as="cust_1st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_1st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_1st" as="nach_1st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_zon" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>-25</const>
                <const>-23</const>
                <const>26</const>
                <const>21</const>
                <const>22</const>
                <const>23</const>
                <const>27</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_zon" group="sum" as="cust_zon_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_zon" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>-25</const>
                <const>-23</const>
                <const>26</const>
                <const>21</const>
                <const>22</const>
                <const>23</const>
                <const>27</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_zon" as="nach_zon_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_3st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_3st" group="sum" as="cust_3st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_3st" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_3st" as="nach_3st_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_3st_m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column table="this" column="cust_3st_m" group="sum" as="cust_3st_m_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="nach_3st_m" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>3</const>
              </call>
            </call>
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <column group="sum" table="this" column="nach_3st_m" as="nach_3st_m_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <call function="if" group="sum" as="cust_kvtch_all" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="edizm" />
              <call function="array">
                <const>4</const>
              </call>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <column group="sum" table="this" column="cust_kvtch_all" as="cust_kvtch_all_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" column="nach" as="nach_all" mp="-3" key="0" />
        <column group="sum" table="this" column="nach_all" as="nach_all_by" dimname="volt1" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="abbr" as="abbr" />
              </select>
              <from>
                <query name="61880_9_v3_voltage_1" as="a1" />
              </from>
            </query>
          </pivot>
        </column>
      </select>
      <from>
        <query name="sqlb_rep_61880_9_tbl" as="a" join="left outer" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="f46_razdel" />
            <const>'II'</const>
          </call>
          <call function="=">
            <column table="a" column="f46_podrazdel" />
            <useparam name="podrazdel" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="this" column="kod_f46" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_9_v3_IA" timestamp="30.11.2023 18:04:54" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <select>
        <column table="hs_23" column="gr" group="1" as="gr" key="1" fixed="1" />
        <column table="hs_23" column="kod_f23" as="kod_f46" group="max" reference="61880_9_v3_I" refcol="kod_f46" key="0" />
        <column table="hs_23" column="name" as="f46_name" group="max" key="0" />
        <column table="a" column="cust_1k" group="sum" as="cust_1k" key="0" />
        <column table="a" column="cust_1k_by" group="sum" as="cust_1k_by" key="0" />
        <column table="a" column="nach_1k" group="sum" as="nach_1k" key="0" />
        <column table="a" column="nach_1k_by" group="sum" as="nach_1k_by" key="0" />
        <column table="a" column="cust_2k" group="sum" as="cust_2k" key="0" />
        <column table="a" column="cust_2k_by" group="sum" as="cust_2k_by" key="0" />
        <column table="a" column="nach_2k" group="sum" as="nach_2k" key="0" />
        <column table="a" column="nach_2k_by" group="sum" as="nach_2k_by" key="0" />
        <column table="a" column="cust_35k" group="sum" as="cust_35k" key="0" />
        <column table="a" column="cust_35k_by" group="sum" as="cust_35k_by" key="0" />
        <column table="a" column="nach_35k" group="sum" as="nach_35k" key="0" />
        <column table="a" column="nach_35k_by" group="sum" as="nach_35k_by" key="0" />
        <column table="a" column="cust_35m" group="sum" as="cust_35m" key="0" />
        <column table="a" column="cust_35m_by" group="sum" as="cust_35m_by" key="0" />
        <column table="a" column="nach_35m" group="sum" as="nach_35m" key="0" />
        <column table="a" column="nach_35m_by" group="sum" as="nach_35m_by" key="0" />
        <column table="a" column="cust_46k" group="sum" as="cust_46k" key="0" />
        <column table="a" column="cust_46k_by" group="sum" as="cust_46k_by" key="0" />
        <column table="a" column="nach_46k" group="sum" as="nach_46k" key="0" />
        <column table="a" column="nach_46k_by" group="sum" as="nach_46k_by" key="0" />
        <column table="a" column="cust_46m" group="sum" as="cust_46m" key="0" />
        <column table="a" column="cust_46m_by" group="sum" as="cust_46m_by" key="0" />
        <column table="a" column="nach_46m" group="sum" as="nach_46m" key="0" />
        <column table="a" column="nach_46m_by" group="sum" as="nach_46m_by" key="0" />
        <column table="a" column="cust_46mp" group="sum" as="cust_46mp" key="0" />
        <column table="a" column="cust_46mp_by" group="sum" as="cust_46mp_by" key="0" />
        <column table="a" column="nach_46mp" group="sum" as="nach_46mp" key="0" />
        <column table="a" column="nach_46mp_by" group="sum" as="nach_46mp_by" key="0" />
        <column table="a" column="cust_34k" group="sum" as="cust_34k" key="0" />
        <column table="a" column="cust_34k_by" group="sum" as="cust_34k_by" key="0" />
        <column table="a" column="nach_34k" group="sum" as="nach_34k" key="0" />
        <column table="a" column="nach_34k_by" group="sum" as="nach_34k_by" key="0" />
        <column table="a" column="cust_34m" group="sum" as="cust_34m" key="0" />
        <column table="a" column="cust_34m_by" group="sum" as="cust_34m_by" key="0" />
        <column table="a" column="nach_34m" group="sum" as="nach_34m" key="0" />
        <column table="a" column="nach_34m_by" group="sum" as="nach_34m_by" key="0" />
        <column table="a" column="cust_56k" group="sum" as="cust_56k" key="0" />
        <column table="a" column="cust_56k_by" group="sum" as="cust_56k_by" key="0" />
        <column table="a" column="nach_56k" group="sum" as="nach_56k" key="0" />
        <column table="a" column="nach_56k_by" group="sum" as="nach_56k_by" key="0" />
        <column table="a" column="cust_56m" group="sum" as="cust_56m" key="0" />
        <column table="a" column="cust_56m_by" group="sum" as="cust_56m_by" key="0" />
        <column table="a" column="nach_56m" group="sum" as="nach_56m" key="0" />
        <column table="a" column="nach_56m_by" group="sum" as="nach_56m_by" key="0" />
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="61880_9_v3_I" as="a" join="left outer" dname="61880_9_v3_IA">
          <withparams>
            <const type="string">'А'</const>
          </withparams>
          <call function="=">
            <column table="hs_23" column="kod_f23" />
            <column table="a" column="kod_f46" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="hs_23" column="kod_f23" />
            <const>0</const>
          </call>
          <call function="lt">
            <column table="hs_23" column="kod_f23" />
            <const>38</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="this" column="gr" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_9_v3_IB" timestamp="30.11.2023 18:06:23" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <select>
        <column table="hs_23" column="gr" group="1" as="gr" key="1" fixed="1" />
        <column table="hs_23" column="name" as="f46_name" group="max" key="0" />
        <column table="hs_23" column="kod_f23" as="kod_f46" group="max" reference="61880_9_v3_I" refcol="kod_f46" key="0" />
        <column table="a" column="cust_1k" group="sum" as="cust_1k" key="0" />
        <column table="a" column="cust_1k_by" group="sum" as="cust_1k_by" key="0" />
        <column table="a" column="nach_1k" group="sum" as="nach_1k" key="0" />
        <column table="a" column="nach_1k_by" group="sum" as="nach_1k_by" key="0" />
        <column table="a" column="cust_2k" group="sum" as="cust_2k" key="0" />
        <column table="a" column="cust_2k_by" group="sum" as="cust_2k_by" key="0" />
        <column table="a" column="nach_2k" group="sum" as="nach_2k" key="0" />
        <column table="a" column="nach_2k_by" group="sum" as="nach_2k_by" key="0" />
        <column table="a" column="cust_35k" group="sum" as="cust_35k" key="0" />
        <column table="a" column="cust_35k_by" group="sum" as="cust_35k_by" key="0" />
        <column table="a" column="nach_35k" group="sum" as="nach_35k" key="0" />
        <column table="a" column="nach_35k_by" group="sum" as="nach_35k_by" key="0" />
        <column table="a" column="cust_35m" group="sum" as="cust_35m" key="0" />
        <column table="a" column="cust_35m_by" group="sum" as="cust_35m_by" key="0" />
        <column table="a" column="nach_35m" group="sum" as="nach_35m" key="0" />
        <column table="a" column="nach_35m_by" group="sum" as="nach_35m_by" key="0" />
        <column table="a" column="cust_46k" group="sum" as="cust_46k" key="0" />
        <column table="a" column="cust_46k_by" group="sum" as="cust_46k_by" key="0" />
        <column table="a" column="nach_46k" group="sum" as="nach_46k" key="0" />
        <column table="a" column="nach_46k_by" group="sum" as="nach_46k_by" key="0" />
        <column table="a" column="cust_46m" group="sum" as="cust_46m" key="0" />
        <column table="a" column="cust_46m_by" group="sum" as="cust_46m_by" key="0" />
        <column table="a" column="nach_46m" group="sum" as="nach_46m" key="0" />
        <column table="a" column="nach_46m_by" group="sum" as="nach_46m_by" key="0" />
        <column table="a" column="cust_46mp" group="sum" as="cust_46mp" key="0" />
        <column table="a" column="cust_46mp_by" group="sum" as="cust_46mp_by" key="0" />
        <column table="a" column="nach_46mp" group="sum" as="nach_46mp" key="0" />
        <column table="a" column="nach_46mp_by" group="sum" as="nach_46mp_by" key="0" />
        <column table="a" column="cust_34k" group="sum" as="cust_34k" key="0" />
        <column table="a" column="cust_34k_by" group="sum" as="cust_34k_by" key="0" />
        <column table="a" column="nach_34k" group="sum" as="nach_34k" key="0" />
        <column table="a" column="nach_34k_by" group="sum" as="nach_34k_by" key="0" />
        <column table="a" column="cust_34m" group="sum" as="cust_34m" key="0" />
        <column table="a" column="cust_34m_by" group="sum" as="cust_34m_by" key="0" />
        <column table="a" column="nach_34m" group="sum" as="nach_34m" key="0" />
        <column table="a" column="nach_34m_by" group="sum" as="nach_34m_by" key="0" />
        <column table="a" column="cust_56k" group="sum" as="cust_56k" key="0" />
        <column table="a" column="cust_56k_by" group="sum" as="cust_56k_by" key="0" />
        <column table="a" column="nach_56k" group="sum" as="nach_56k" key="0" />
        <column table="a" column="nach_56k_by" group="sum" as="nach_56k_by" key="0" />
        <column table="a" column="cust_56m" group="sum" as="cust_56m" key="0" />
        <column table="a" column="cust_56m_by" group="sum" as="cust_56m_by" key="0" />
        <column table="a" column="nach_56m" group="sum" as="nach_56m" key="0" />
        <column table="a" column="nach_56m_by" group="sum" as="nach_56m_by" key="0" />
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="61880_9_v3_I" as="a" join="left outer" dname="61880_9_v3_IB">
          <withparams>
            <const type="string">'Б'</const>
          </withparams>
          <call function="=">
            <column table="hs_23" column="kod_f23" />
            <column table="a" column="kod_f46" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="hs_23" column="kod_f23" />
            <const>0</const>
          </call>
          <call function="lt">
            <column table="hs_23" column="kod_f23" />
            <const>38</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="this" column="gr" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_9_v3_IIA" timestamp="06.12.2023 16:47:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <select>
        <column table="hs_23" column="gr" group="1" as="gr" key="1" fixed="1" />
        <column table="hs_23" column="kod_f23" as="kod_f46" group="max" reference="61880_9_v3_II" refcol="kod_f46" key="0" />
        <column table="hs_23" column="name" as="f46_name" group="max" key="0" />
        <column table="a" column="cust_1st" group="sum" as="cust_1st" key="0" />
        <column table="a" column="cust_1st_by" group="sum" as="cust_1st_by" key="0" />
        <column table="a" column="nach_1st" group="sum" as="nach_1st" key="0" />
        <column table="a" column="nach_1st_by" group="sum" as="nach_1st_by" key="0" />
        <column table="a" column="cust_zon" group="sum" as="cust_zon" key="0" />
        <column table="a" column="cust_zon_by" group="sum" as="cust_zon_by" key="0" />
        <column table="a" column="nach_zon" group="sum" as="nach_zon" key="0" />
        <column table="a" column="nach_zon_by" group="sum" as="nach_zon_by" key="0" />
        <column table="a" column="cust_3st" group="sum" as="cust_3st" key="0" />
        <column table="a" column="cust_3st_by" group="sum" as="cust_3st_by" key="0" />
        <column table="a" column="nach_3st" group="sum" as="nach_3st" key="0" />
        <column table="a" column="nach_3st_by" group="sum" as="nach_3st_by" key="0" />
        <column table="a" column="cust_3st_m" group="sum" as="cust_3st_m" key="0" />
        <column table="a" column="cust_3st_m_by" group="sum" as="cust_3st_m_by" key="0" />
        <column table="a" column="nach_3st_m" group="sum" as="nach_3st_m" key="0" />
        <column table="a" column="nach_3st_m_by" group="sum" as="nach_3st_m_by" key="0" />
        <column table="a" column="cust_kvtch_all" group="sum" as="cust_kvtch_all" key="0" />
        <column table="a" column="cust_kvtch_all_by" group="sum" as="cust_kvtch_all_by" key="0" />
        <column table="a" column="nach_all" group="sum" as="nach_all" key="0" />
        <column table="a" column="nach_all_by" group="sum" as="nach_all_by" key="0" />
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="61880_9_v3_II" as="a" join="left outer" dname="61880_9_v3_IIA">
          <withparams>
            <const type="string">'А'</const>
          </withparams>
          <call function="=">
            <column table="hs_23" column="kod_f23" />
            <column table="a" column="kod_f46" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="hs_23" column="kod_f23" />
            <const>0</const>
          </call>
          <call function="lt">
            <column table="hs_23" column="kod_f23" />
            <const>38</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="this" column="gr" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_9_v3_IIB" timestamp="06.12.2023 16:48:40" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <select>
        <column table="hs_23" column="gr" group="1" as="gr" key="1" fixed="1" />
        <column table="hs_23" column="kod_f23" as="kod_f46" group="max" reference="61880_9_v3_II" refcol="kod_f46" key="0" />
        <column table="hs_23" column="name" as="f46_name" group="max" key="0" />
        <column table="a" column="cust_1st" group="sum" as="cust_1st" key="0" />
        <column table="a" column="cust_1st_by" group="sum" as="cust_1st_by" key="0" />
        <column table="a" column="nach_1st" group="sum" as="nach_1st" key="0" />
        <column table="a" column="nach_1st_by" group="sum" as="nach_1st_by" key="0" />
        <column table="a" column="cust_zon" group="sum" as="cust_zon" key="0" />
        <column table="a" column="cust_zon_by" group="sum" as="cust_zon_by" key="0" />
        <column table="a" column="nach_zon" group="sum" as="nach_zon" key="0" />
        <column table="a" column="nach_zon_by" group="sum" as="nach_zon_by" key="0" />
        <column table="a" column="cust_3st" group="sum" as="cust_3st" key="0" />
        <column table="a" column="cust_3st_by" group="sum" as="cust_3st_by" key="0" />
        <column table="a" column="nach_3st" group="sum" as="nach_3st" key="0" />
        <column table="a" column="nach_3st_by" group="sum" as="nach_3st_by" key="0" />
        <column table="a" column="cust_3st_m" group="sum" as="cust_3st_m" key="0" />
        <column table="a" column="cust_3st_m_by" group="sum" as="cust_3st_m_by" key="0" />
        <column table="a" column="nach_3st_m" group="sum" as="nach_3st_m" key="0" />
        <column table="a" column="nach_3st_m_by" group="sum" as="nach_3st_m_by" key="0" />
        <column table="a" column="cust_kvtch_all" group="sum" as="cust_kvtch_all" key="0" />
        <column table="a" column="cust_kvtch_all_by" group="sum" as="cust_kvtch_all_by" key="0" />
        <column table="a" column="nach_all" group="sum" as="nach_all" key="0" />
        <column table="a" column="nach_all_by" group="sum" as="nach_all_by" key="0" />
      </select>
      <from>
        <query name="hs_23" as="hs_23" title="Принадлежность объектов" />
        <query name="61880_9_v3_II" as="a" join="left outer" dname="61880_9_v3_IIB">
          <withparams>
            <const type="string">'Б'</const>
          </withparams>
          <call function="=">
            <column table="hs_23" column="kod_f23" />
            <column table="a" column="kod_f46" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="hs_23" column="kod_f23" />
            <const>0</const>
          </call>
          <call function="lt">
            <column table="hs_23" column="kod_f23" />
            <const>38</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="hs23">
            <group>
              <column table="this" column="gr" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_9_v3_ats" timestamp="10.07.2023 15:51:56" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="u" column="sell_rsv_value" as="sell_rsv_value" type="number" mp="-3" key="1" fixed="1" />
        <column table="u" column="sell_rsv_money" as="sell_rsv_money" type="number" mp="-3" key="0" />
        <column table="u" column="sell_br_value" as="sell_br_value" type="number" mp="-3" key="0" />
        <column table="u" column="sell_br_money" as="sell_br_money" type="number" mp="-3" key="0" />
        <column table="u" column="rd_value_e" as="rd_value_e" type="number" mp="-3" key="0" />
        <column table="u" column="rd_money_e" as="rd_money_e" type="number" mp="-3" key="0" />
        <column table="u" column="rd_value_p" as="rd_value_p" type="number" mp="-3" key="0" />
        <column table="u" column="rd_money_p" as="rd_money_p" type="number" mp="-3" key="0" />
        <column table="u" column="buy_pwr_dpm_value" as="buy_pwr_dpm_value" type="number" key="0" />
        <column table="u" column="buy_pwr_dpm_money" as="buy_pwr_dpm_money" type="number" mp="-3" key="0" />
        <column table="u" column="buy_pwr_dpmga_value" as="buy_pwr_dpmga_value" type="number" key="0" />
        <column table="u" column="buy_pwr_dpmga_money" as="buy_pwr_dpmga_money" type="number" mp="-3" key="0" />
        <column table="u" column="buy_rsv_value" as="buy_rsv_value" type="number" mp="-3" key="0" />
        <column table="u" column="buy_rsv_money" as="buy_rsv_money" type="number" mp="-3" key="0" />
        <column table="u" column="buy_br_value" as="buy_br_value" type="number" mp="-3" key="0" />
        <column table="u" column="buy_br_money" as="buy_br_money" type="number" mp="-3" key="0" />
        <column table="u" column="buy_pwr_frsvr_value" as="buy_pwr_frsvr_value" type="number" key="0" />
        <column table="u" column="buy_pwr_frsvr_money" as="buy_pwr_frsvr_money" type="number" mp="-3" key="0" />
        <column table="u" column="buy_pwr_kom_value" as="buy_pwr_kom_value" type="number" key="0" />
        <column table="u" column="buy_pwr_kom_money" as="buy_pwr_kom_money" type="number" mp="-3" key="0" />
        <column table="u" column="buy_pwr_kommod_value" as="buy_pwr_kommod_value" type="number" key="0" />
        <column table="u" column="buy_pwr_kommod_money" as="buy_pwr_kommod_money" type="number" mp="-3" key="0" />
        <column table="u" column="buy_pwr_con_value" as="buy_pwr_con_value" type="number" key="0" />
        <column table="u" column="buy_pwr_con_money" as="buy_pwr_con_money" type="number" mp="-3" key="0" />
        <column table="u" column="upz_sell_energy_value" as="upz_sell_energy_value" type="number" mp="-3" key="0" />
        <column table="u" column="upz_sell_energy_money" as="upz_sell_energy_money" type="number" mp="-3" key="0" />
        <column table="u" column="upz_sell_power_value" as="upz_sell_power_value" type="number" key="0" />
        <column table="u" column="upz_sell_power_money" as="upz_sell_power_money" type="number" mp="-3" key="0" />
      </select>
      <from>
        <table name="61880_9_v3_ats" view="1" as="u">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </table>
      </from>
    </query>
    <query name="61880_9_v3_4R" timestamp="10.07.2023 15:51:56" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="u" column="tr_cust_fsk_kvth" as="tr_cust_fsk_kvth" type="number" mp="-3" key="1" fixed="1" />
        <column table="u" column="tr_cust_tso_kvth" as="tr_cust_tso_kvth" type="number" mp="-3" key="0" />
        <column table="u" column="tr_cust_fsk_kvt" as="tr_cust_fsk_kvt" type="number" mp="-3" key="0" />
        <column table="u" column="tr_cust_tso_kvt" as="tr_cust_tso_kvt" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_fsk_kvth" as="tr_money_fsk_kvth" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_tso_kvth" as="tr_money_tso_kvth" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_fsk_kvt" as="tr_money_fsk_kvt" type="number" mp="-3" key="0" />
        <column table="u" column="tr_money_tso_kvt" as="tr_money_tso_kvt" type="number" mp="-3" key="0" />
      </select>
      <from>
        <table name="61880_9_v3_4R" view="1" as="u">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </table>
      </from>
    </query>
    <query name="61880_9_v3_info" timestamp="09.12.2024 14:37:33" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <params>
        <param name="p_dep" type="array" />
        <param name="p_ym_beg" type="number" />
        <param name="p_ym_end" type="number" />
        <param name="p_kod_adr_m" type="array" />
      </params>
      <select>
        <call function="mes-name-lowercase" as="mes" type="string" key="0">
          <call function="mes">
            <useparam name="p_ym_beg" />
          </call>
        </call>
        <call function="trunc" as="year" key="0">
          <useparam name="p_ym_beg" />
        </call>
        <call function="()" as="ym_beg" type="string" key="0">
          <call function="ym to char">
            <useparam name="p_ym_beg" />
          </call>
        </call>
        <call function="()" as="ym_end" type="string" title=" " optional="1" key="0">
          <call function="ym to char">
            <useparam name="p_ym_end" />
          </call>
        </call>
        <call function="||" group="stragg_dist" as="dep_name" key="0">
          <column table="kr_dep" column="name" />
        </call>
        <call function="||" group="stragg_dist" as="adr_name" key="0">
          <column table="a" column="name_p" />
        </call>
        <call function="sysdate" as="dat" key="0" />
        <call type="string" function="if" as="per_or_from_to" key="0">
          <call function="=">
            <call function="nvlu">
              <useparam name="p_ym_end" />
              <useparam name="p_ym_beg" />
            </call>
            <useparam name="p_ym_beg" />
          </call>
          <call function="||">
            <const type="string">'за '</const>
            <column table="this" column="mes" />
            <const table="this" column="mes" type="string">' '</const>
            <column table="this" column="year" />
            <const table="this" column="mes" type="string">' г.'</const>
          </call>
          <call function="||">
            <const type="string">'c  '</const>
            <column table="this" column="ym_beg" />
            <const type="string">' по  '</const>
            <column table="this" column="ym_end" />
          </call>
        </call>
      </select>
      <from>
        <query name="adr_m_obj_list_dep" as="a">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
        <query name="kr_dep" join="cross" as="kr_dep" />
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="kod_m" />
            <useparam name="p_kod_adr_m" />
          </call>
          <call function="in" optional="1">
            <column table="kr_dep" column="kodp" />
            <useparam name="p_dep" />
          </call>
        </call>
      </where>
    </query>
    <query name="61880_9_v3_IV_nas" comment="Запрос для раздела IВ для строк &quot;население&quot;" timestamp="29.11.2023 18:50:13" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880_9_v3_IV" as="a">
          <withparams>
            <const type="number">1</const>
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880_9_v3_IV_nas_pr" comment="Запрос для раздела IВ для строк &quot;приравненные к населению&quot;" timestamp="29.11.2023 18:50:15" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="61880_9_v3_IV" as="a">
          <withparams>
            <const type="number">0</const>
          </withparams>
        </query>
      </from>
    </query>
    <query name="61880_9_v3_IV" timestamp="26.10.2024 12:09:30" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml" haskeys="1">
      <params>
        <param type="number" as="is_nas" name="is_nas" />
      </params>
      <select>
        <column group="1" table="a" column="is_iku" as="is_iku" type="number" key="1" fixed="1" />
        <call table="hs_23" column="gr" group="2" as="kod_social" function="()" type="number" key="0">
          <const>1</const>
        </call>
        <call table="hs_23" column="name" group="max" as="name_social" function="()" type="string" key="0">
          <const type="string">'в пределах социальной нормы'</const>
        </call>
        <call function="if" group="sum" as="cust" mp="-3" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl" mp="-3" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach" mp="-3" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach1" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-25</const>
                <const>-23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach2d" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>-24</const>
                <const>26</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3n" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>23</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3p" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>21</const>
                <const>27</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
        <call function="if" group="sum" as="cust3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="cust" />
        </call>
        <call function="if" group="sum" as="nachisl3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nachisl" />
        </call>
        <call function="if" group="sum" as="nach3pp" mp="-3" ifaplyed="1" key="0">
          <call function="and">
            <call function="in">
              <column table="a" column="kodinterval" />
              <call function="array">
                <const>22</const>
                <const>28</const>
              </call>
            </call>
            <call function="!=">
              <column table="a" column="pr_2rate" />
              <const>0</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </select>
      <from>
        <query name="sqlb_rep_61880_9_tbl" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="f46_podrazdel" />
            <const type="string">'В'</const>
          </call>
          <call function="or">
            <call function="and">
              <call function="=">
                <useparam name="is_nas" />
                <const type="number">1</const>
              </call>
              <call function="=">
                <column name="kod_fs" table="a" column="kod_fs" />
                <const type="number">-1</const>
              </call>
            </call>
            <call function="and">
              <call function="=">
                <useparam name="is_nas" />
                <const type="number">0</const>
              </call>
              <call function="!=">
                <column name="kod_fs" table="a" column="kod_fs" />
                <const type="number">-1</const>
              </call>
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="iku">
            <group>
              <column table="this" column="is_iku" />
            </group>
            <grset as="social">
              <group>
                <column table="this" column="kod_social" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="63051" is-report="1" title="Сведения по объемам потребления электрической энергии на территории МО" nogrid="1" order="a.name_mo,a.name_dist,o.okved" timestamp="05.07.2023 09:43:48" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\63051.xml">
      <params>
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param title="с" name="p_ym_beg" controlType="UICombo" timestamp="25.02.2022 11:29:26" parent-field-name="ym" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_ym.xml" mandatory="1" />
        <param title="по" name="p_ym_end" controlType="UICombo" timestamp="25.02.2022 11:29:26" parent-field-name="ym" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_ym.xml" mandatory="1" />
        <param name="kod_adr_m" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
      </params>
      <print-templates>
        <excel>
          <template name="63051.xlsx" title="Сведения по объемам потребления электрической энергии на территории МО" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <fieldgroup title="Период">
          <usefield field="462359_ym" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="462359_ym" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
        <usefield field="asuse_adr_m_subject_dep" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_ies.fill_table_63051_new(:p_ym_beg, :p_ym_end);
end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kodp" as="kodp" key="0" />
        <column table="a" column="name_mo" as="name_mo" key="0" />
        <column table="a" column="name_dist" as="name_dist" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="kod_okved" as="kod_okved" reference="ks_okved" refcol="kod_okved" key="0" />
        <column table="o" column="okved" as="okved" key="0" />
        <column table="o" column="name" as="name" key="0" />
        <column table="d" column="adress_region" as="adress_region" key="0" />
        <column table="a" column="cust_pu" group="sum" mp="-3" as="cust_pu" key="0" />
        <column table="a" column="cust_r" group="sum" mp="-3" as="cust_r" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_63051_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="63051" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
        </query>
        <query name="ks_okved" as="o" join="left outer" dname="63051">
          <call function="=">
            <column table="a" column="kod_okved" />
            <column table="o" column="kod_okved" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd">
            <group>
              <column table="a" column="name_mo" />
              <column table="a" column="name_dist" />
              <column table="o" column="okved" />
              <column table="o" column="name" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="a.name_mo" />
        <column column="a.name_dist" />
        <column column="o.okved" />
      </order>
    </query>
    <query name="64224main" timestamp="24.08.2022 09:55:09" order="ndog,num_obj,tpoint_abbr,nomer" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml">
      <params>
        <param name="p_dep" />
        <param name="p_ym" />
      </params>
      <select>
        <column table="p" column="kode_priem" as="kode_priem" key="0" />
        <column table="p" column="kod_dog" as="kod_dog" key="0" />
        <column table="p" column="ndog" as="ndog" key="0" />
        <column table="p" column="payername" as="payername" key="0" />
        <column table="p" column="num_obj" as="num_obj" key="0" />
        <column table="p" column="name_obj" as="name_obj" key="0" />
        <column table="p" column="ndog_ts" as="ndog_ts" key="0" />
        <column table="p" column="sname_tarif" as="sname_tarif" key="0" />
        <column table="p" column="name_tarif" as="name_tarif" key="0" />
        <column table="p" column="nomer" as="nomer" key="0" />
        <column table="p" column="name" as="name" key="0" />
        <column table="p" column="en_abbr" as="en_abbr" key="0" />
        <column table="p" column="en_name" as="en_name" key="0" />
        <column table="p" column="ym" as="ym" key="0" />
        <column table="p" column="nom_pu" as="nom_pu" key="0" />
        <column table="p" column="method" as="method" key="0" />
        <column table="p" column="interval_abbr" as="interval_abbr" key="0" />
        <column table="p" column="kod_point" as="kod_point" key="0" />
        <column table="p" column="readprev" as="readprev" key="0" />
        <column table="p" column="readlast" as="readlast" key="0" />
        <column table="p" column="outcounter" as="outcounter" key="0" />
        <column table="p" column="rkoeff" as="rkoeff" key="0" />
        <column table="p" column="outadd" as="outadd" key="0" />
        <column table="p" column="potcounter" as="potcounter" key="0" />
        <column table="p" column="out" as="out" key="0" />
        <column table="p" column="cust" as="cust" key="0" />
        <column table="p" column="tpoint_abbr" as="tpoint_abbr" key="0" />
        <column table="p" column="abbr_volt" as="abbr_volt" key="0" />
        <column table="p" column="pmax_text" as="pmax_text" key="0" />
        <column table="p" column="net_1_name" as="net_1_name" key="0" />
        <column table="p" column="net_name" as="net_name" key="0" />
        <column table="p" column="price_cat" as="price_cat" key="0" />
        <column table="p" column="p_act" as="p_act" key="0" />
        <column table="p" column="p_seti" as="p_seti" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64224_tbl" as="p" />
      </from>
      <order>
        <column column="ndog" />
        <column column="num_obj" />
        <column column="tpoint_abbr" />
        <column column="nomer" />
      </order>
    </query>
    <query name="64224main_1" timestamp="09.09.2022 12:35:33" order="ndog" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml">
      <params>
        <param name="p_dep" />
        <param name="p_ym" />
        <param name="pkod_dog" />
      </params>
      <select>
        <column table="p" column="kode_priem" as="kode_priem" key="0" />
        <column table="p" column="kod_dog" as="kod_dog" key="0" />
        <column table="p" column="ndog" group="max" as="ndog" key="0" />
        <column table="p" column="payername" group="max" as="payername" key="0" />
        <column table="p" column="num_obj" group="max" as="num_obj" key="0" />
        <column table="p" column="name_obj" group="max" as="name_obj" key="0" />
        <column table="p" column="ndog_ts" group="max" as="ndog_ts" key="0" />
        <column table="p" column="sname_tarif" group="max" as="sname_tarif" key="0" />
        <column table="p" column="name_tarif" group="max" as="name_tarif" key="0" />
        <column table="p" column="nomer" group="max" as="nomer" key="0" />
        <column table="p" column="name" group="max" as="name" key="0" />
        <column table="p" column="en_abbr" group="max" as="en_abbr" key="0" />
        <column table="p" column="en_name" group="max" as="en_name" key="0" />
        <column table="p" column="ym" group="max" as="ym" key="0" />
        <column table="p" column="nom_pu" group="max" as="nom_pu" key="0" />
        <column table="p" column="method" group="max" as="method" key="0" />
        <column table="p" column="interval_abbr" group="max" as="interval_abbr" key="0" />
        <column table="p" column="kod_point" group="max" as="kod_point" key="0" />
        <column table="p" column="readprev" group="sum" as="readprev" key="0" />
        <column table="p" column="readlast" group="sum" as="readlast" key="0" />
        <column table="p" column="outcounter" group="sum" as="outcounter" key="0" />
        <column table="p" column="rkoeff" group="sum" as="rkoeff" key="0" />
        <column table="p" column="outadd" group="sum" as="outadd" key="0" />
        <column table="p" column="potcounter" group="sum" as="potcounter" key="0" />
        <column table="p" column="out" group="sum" as="out" key="0" />
        <column table="p" column="cust" group="sum" as="cust" key="0" />
        <column table="p" column="tpoint_abbr" group="max" as="tpoint_abbr" key="0" />
        <column table="p" column="abbr_volt" group="max" as="abbr_volt" key="0" />
        <column table="p" column="pmax_text" group="max" as="pmax_text" key="0" />
        <column table="p" column="net_1_name" group="max" as="net_1_name" key="0" />
        <column table="p" column="net_name" group="max" as="net_name" key="0" />
        <column table="p" column="price_cat" group="max" as="price_cat" key="0" />
        <column table="p" column="p_act" group="sum" as="p_act" key="0" />
        <column table="p" column="p_seti" group="sum" as="p_seti" key="0" />
        <column table="p" column="out_vn" group="sum" as="out_vn" key="0" />
        <column table="p" column="out_sn1" group="sum" as="out_sn1" key="0" />
        <column table="p" column="out_sn2" group="sum" as="out_sn2" key="0" />
        <column table="p" column="out_nn" group="sum" as="out_nn" key="0" />
        <column table="p" column="out_fsk" group="sum" as="out_fsk" key="0" />
        <column table="p" column="out_gn" group="sum" as="out_gn" key="0" />
        <column table="p" column="p_seti_vn" group="sum" as="p_seti_vn" key="0" />
        <column table="p" column="p_seti_sn1" group="sum" as="p_seti_sn1" key="0" />
        <column table="p" column="p_seti_sn2" group="sum" as="p_seti_sn2" key="0" />
        <column table="p" column="p_seti_nn" group="sum" as="p_seti_nn" key="0" />
        <column table="p" column="p_seti_gn" group="sum" as="p_seti_gn" key="0" />
        <column table="p" column="p_seti_fsk" group="sum" as="p_seti_fsk" key="0" />
        <column table="p" column="p_act_vn" group="sum" as="p_act_vn" key="0" />
        <column table="p" column="p_act_sn1" group="sum" as="p_act_sn1" key="0" />
        <column table="p" column="p_act_sn2" group="sum" as="p_act_sn2" key="0" />
        <column table="p" column="p_act_nn" group="sum" as="p_act_nn" key="0" />
        <column table="p" column="p_act_gn" group="sum" as="p_act_gn" key="0" />
        <column table="p" column="p_act_fsk" group="sum" as="p_act_fsk" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64224_tbl" as="p" />
      </from>
      <grouping>
        <grset as="dog" order="ndog,num_obj,decode(tpoint_abbr,'О',1,'ТВ',2,'ТС',3,4),nomer">
          <group>
            <column table="this" column="kod_dog" />
          </group>
          <grset as="priem" order="ndog,num_obj,tpoint_abbr,nomer">
            <group>
              <column table="this" column="kode_priem" />
            </group>
            <where>
              <call function="and">
                <call function="is not null">
                  <column table="this" column="kode_priem" />
                </call>
              </call>
            </where>
          </grset>
          <where>
            <call function="and">
              <call function="is not null">
                <column table="this" column="kod_dog" />
              </call>
            </call>
          </where>
        </grset>
      </grouping>
      <order>
        <column column="ndog" />
      </order>
    </query>
    <query name="64263-data_1" timestamp="24.08.2022 12:58:29" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64263.xml">
      <select>
        <column table="a" column="s1" as="s1" key="0" />
      </select>
      <from>
        <query name="rr_rab_pr" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
        </call>
      </where>
    </query>
    <query name="64455_1_params" title="Параметры отчёта 64455_1" timestamp="10.08.2023 13:05:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1.xml">
      <params>
        <param name="p_dep" type="number" />
        <param name="p_ym" type="number" />
        <param name="p_kodp_pwrcompany" type="array" />
        <param name="p_kod_dog" type="number" />
      </params>
      <select>
        <call function="||" type="string" as="period" key="0">
          <const>'за '</const>
          <call function="to_char">
            <useparam name="p_ym" />
            <const>'FM9990D00'</const>
          </call>
        </call>
        <column table="kr_org" column="name" as="filial" key="0" />
        <call function="nvl" as="tec" key="0">
          <call function="()">
            <query>
              <select>
                <column table="org" column="name" group="stragg" as="name" />
              </select>
              <from>
                <query name="kr_org" as="org" />
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="org" column="kodp" />
                    <useparam name="p_kodp_pwrcompany" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
        <call function="nvl" as="dogovor" key="0">
          <call function="()">
            <query>
              <select>
                <call function="||" type="string">
                  <column table="d" column="ndog" />
                  <const>' '</const>
                  <column table="p" column="name" />
                </call>
              </select>
              <from>
                <query name="kr_dogovor" as="d" title="Договор" />
                <query name="kr_payer" as="p" join="inner" title="Абонент">
                  <call function="=">
                    <column table="p" column="kodp" />
                    <column table="d" column="kodp" />
                  </call>
                </query>
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="=" optional="1">
                    <column table="d" column="kod_dog" />
                    <useparam name="p_kod_dog" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
      </select>
      <from>
        <query name="kr_org" as="kr_org" />
      </from>
      <where>
        <call function="=">
          <column table="kr_org" column="kodp" />
          <useparam name="p_dep" />
        </call>
      </where>
    </query>
    <query name="64455_1" order="ndog, kod_dog, num_obj, point_nomer" title="Основной запрос отчёта 64455_1" timestamp="04.10.2023 17:34:36" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1.xml" haskeys="1">
      <params>
        <param name="p_ym" type="number" />
        <param name="p_kodp_pwrcompany" type="array" />
      </params>
      <select>
        <call function="row_number" type="number" as="row_num" key="1">
          <call function="order by simple">
            <column table="a" column="ndog" />
          </call>
        </call>
        <column table="a" column="kod_dog" title="" as="kod_dog" />
        <column table="a" column="ndog" title="Номер договора" as="ndog" />
        <column table="vd" column="name" as="vid_dog" intern="1" title="Тип договора" />
        <column table="p" column="name" intern="1" title="Наименование клиента" as="name" />
        <column table="a" column="object_name" intern="1" title="Наименование объекта" as="object_name" />
        <column table="a" column="point_name" title="Наименование точки учёта" as="point_name" />
        <call function="if" type="string" as="tpoint" intern="1" title="Транзитная точка учёта">
          <call function="!=">
            <column table="a" column="tpoint" />
            <const>0</const>
          </call>
          <column table="tp" column="abbr" />
          <const>' '</const>
        </call>
        <call function="if" type="string" as="main_point_name" intern="1" title="Вычитается из точки учёта">
          <call function="is not null">
            <column table="mpt" column="kod_point" />
          </call>
          <call function="||">
            <const>'('</const>
            <call function="to_char">
              <column table="mpt" column="kod_point" />
            </call>
            <const>')-'</const>
            <column table="mpt" column="name" />
          </call>
          <const>''</const>
        </call>
        <call function="if" type="string" as="num_gtp" title="Номер ГТП">
          <call function="is null">
            <column table="gtp" column="kod_gtp" />
          </call>
          <const>'—'</const>
          <column table="gtp" column="xls_gtp_id" />
        </call>
        <column table="a" column="point_nomer" title="Номер точки учёта" as="point_nomer" />
        <call function="to_char" type="string" as="kod_point" title="Код точки учёта НЭСК">
          <column table="a" column="kod_point" />
        </call>
        <column table="a" column="point_prim" title="Код точки учёта ТСО" as="point_prim" />
        <column table="a" column="num_obj" title="Код объекта" as="num_obj" />
        <column table="a" column="nom_pu" title="Номер счётчика" as="nom_pu" />
        <column table="a" column="type_pu" title="Тип счётчика" as="type_pu" />
        <call function="if" type="string" as="interval" intern="1" title="Зонность счётчика">
          <call function="!=">
            <column table="i" column="kodinterval" />
            <const>24</const>
          </call>
          <column table="i" column="name" />
          <const>''</const>
        </call>
        <call function="if" type="string" as="razr" intern="1" title="Значность счётчика">
          <call function="and">
            <call function="is null">
              <column table="a" column="razr" />
            </call>
            <call function="is null">
              <column table="a" column="razr2" />
            </call>
          </call>
          <const>''</const>
          <call function="||">
            <column table="a" column="razr" />
            <const>'.'</const>
            <call function="nvl">
              <column table="a" column="razr2" />
              <const>0</const>
            </call>
          </call>
        </call>
        <column table="a" column="readprev" title="Показания счетчика на начало расчётного периода" as="readprev" />
        <column table="a" column="readlast" title="Показания счетчика на конец расчётного периода" as="readlast" />
        <column table="a" column="rkoeff" title="Расчётный коэффициент" as="rkoeff" />
        <call function="nvl" type="number" as="poteri_percent" title="% потерь (переменные потери)">
          <call function="ng_priem.get_poteri_percent">
            <column table="a" column="kod_point_har" />
            <useparam name="p_ym" />
          </call>
          <const>0</const>
        </call>
        <call function="if" type="string" as="apply_method" title="Метод применения на ТУ">
          <call function="!=">
            <column table="a" column="tpoint" />
            <const>0</const>
          </call>
          <const>'Вычитать'</const>
          <const>''</const>
        </call>
        <call function="decode" type="string" as="pol_balans" intern="1" title="Как применять потери">
          <column table="a" column="kod_polbalans" />
          <const>2</const>
          <const>'Вычитать'</const>
          <const>3</const>
          <const>'Прибавлять'</const>
          <const>''</const>
        </call>
        <column table="a" column="outcounter" title="Расход по ПУ" as="outcounter" />
        <call function="nvl" as="outadd" title="Доп. расход">
          <column table="a" column="outadd" />
          <const>0</const>
        </call>
        <call function="nvl" type="number" as="poteri_kvth" title="Постоянные потери, кВт·ч">
          <call function="ng_priem.get_poteri_kvth">
            <column table="a" column="kod_point_har" />
            <useparam name="p_ym" />
          </call>
          <const>0</const>
        </call>
        <column table="a" column="out" title="Расход по ТУ с учётом потерь" as="out" />
        <column table="a" column="energy" title="Сальдо-расход по объекту, кВт·ч" as="energy" />
        <column table="v" column="abbr" as="voltage" intern="1" title="Напряжение (тарифное)" />
        <call function="decode" type="string" as="tarif_group" intern="1" title="Тарифная группа для услуг">
          <column table="a" column="is_2rate" />
          <const>1</const>
          <const>'двухставочный'</const>
          <const>0</const>
          <const>'одноставочный'</const>
          <const>''</const>
        </call>
        <column table="net" column="name" as="net_name" intern="1" title="К чьим сетям подключена точка" />
        <column table="tco" column="name" as="tco" intern="1" title="ТСО для расчёта услуги" />
        <column table="tco_loss" column="name" as="tco_loss" intern="1" title="ТСО для расчёта потерь" />
        <column table="rsk" column="name" as="rsk_name" intern="1" title="РЭС" />
        <column table="pwrc" column="dnum" as="pс_name" intern="1" title="Подстанция" />
        <call function="()" type="string" as="pcline_name" intern="1" title="Фидер">
          <query>
            <select>
              <column table="f" column="dnum" as="dnum" />
            </select>
            <from>
              <query name="hr_eofider" as="f" />
            </from>
            <where>
              <call function="=">
                <column table="f" column="eobj_id" />
                <call function="hg_sx.get_ip_ff">
                  <column table="a" column="eobj_id" />
                  <column table="a" column="kod_src" />
                </call>
              </call>
            </where>
          </query>
        </call>
        <call function="if" type="string" as="rp" intern="1" title="РП">
          <call function="is not null">
            <column table="a" column="eobj_id" />
          </call>
          <call function="hg_sx.getsrcnameonsxbykind" as="rp">
            <column table="a" column="eobj_id" />
            <const comment="РТП">2</const>
            <const comment="РП">4</const>
          </call>
          <const>''</const>
        </call>
        <call function="||" as="substation" intern="1" title="ТП">
          <column table="srck" column="sname" />
          <const>' '</const>
          <column table="src" column="dnum" />
        </call>
        <call function="to_char" type="string" as="rym" title="Период перерасчёта">
          <column table="a" column="rym" />
          <const>'FM9999D00'</const>
        </call>
        <call function="nk_adress.kp_get_region_name" as="region" intern="1" title="Регион">
          <call function="if">
            <call function="!=">
              <column table="a" column="object_kodd" />
              <const>-1</const>
            </call>
            <column table="a" column="object_kodd" />
            <column table="a" column="dog_kodd" />
          </call>
        </call>
        <call function="case" type="string" as="market_type" intern="1" title="Покупка (ОРЭМ/РРЭМ)">
          <call function="when">
            <call function="is null">
              <column table="gtp" column="kod_gtp" />
            </call>
            <const>'—'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="gtp" column="pr_opt" />
              <const>1</const>
            </call>
            <const comment="оптовый рынок электроэнергии">'ОРЭМ'</const>
          </call>
          <call function="else">
            <const comment="розничный рынок электроэнергии">'РРЭМ'</const>
          </call>
        </call>
        <column table="a" column="power" title="Мощность услуг по передаче ЭЭ, кВт" as="power" />
        <column table="a" column="src_dat_name" title="Наименование источника показаний" type="string" as="src_dat_name" />
      </select>
      <from>
        <query name="64455_1_priem_tco" as="a">
          <withparams>
            <useparam name="p_kodp_pwrcompany" />
          </withparams>
        </query>
        <query name="kr_payer" as="p" join="inner" dname="64455_1" title="Абонент">
          <call function="=">
            <column table="p" column="kodp" />
            <column table="a" column="kodp" />
          </call>
        </query>
        <query name="ks_vdog" as="vd" join="inner" dname="64455_1" title="Вид договора">
          <call function="=">
            <column table="vd" column="kod_vdog" />
            <column table="a" column="kod_vdog" />
          </call>
        </query>
        <query name="hk_tpoint" as="tp" join="left outer" dname="64455_1">
          <call function="=">
            <column table="tp" column="tpoint" />
            <column table="a" column="tpoint" />
          </call>
        </query>
        <query name="hr_point" as="mpt" join="left outer" dname="64455_1">
          <call function="=">
            <column table="mpt" column="kod_point" />
            <column table="a" column="kod_pointmain" />
          </call>
        </query>
        <query name="kr_org" as="tco" join="left outer" dname="64455_1">
          <call function="=">
            <column table="tco" column="kodp" />
            <column table="a" column="kodp_pwrcompany" />
          </call>
        </query>
        <query name="kr_org" as="net" join="left outer" dname="64455_1">
          <call function="=">
            <column table="net" column="kodp" />
            <column table="a" column="kodp_net" />
          </call>
        </query>
        <query name="kr_org" as="tco_loss" join="left outer" dname="64455_1">
          <call function="=">
            <column table="tco_loss" column="kodp" />
            <column table="a" column="kodp_losscompany" />
          </call>
        </query>
        <query name="kr_org" as="rsk" join="left outer" dname="64455_1">
          <call function="=">
            <column table="rsk" column="kodp" />
            <column table="a" column="kodp_rsk" />
          </call>
        </query>
        <query name="hr_eobject" as="eo" join="left outer" dname="64455_1">
          <call function="=">
            <column table="eo" column="eobj_id" />
            <column table="a" column="eobj_id" />
          </call>
        </query>
        <query name="hr_eosrc" as="src" join="left outer" dname="64455_1">
          <call function="=">
            <column table="src" column="eobj_id" />
            <column table="eo" column="parent_id" />
          </call>
        </query>
        <query name="hk_srckind" as="srck" join="left outer" dname="64455_1" title="Вид энергообъекта">
          <call function="=">
            <column table="srck" column="kod_srckind" />
            <column table="src" column="kod_srckind" />
          </call>
        </query>
        <query name="hr_eosrc" as="pwrc" join="left outer" dname="64455_1">
          <call function="=">
            <column table="pwrc" column="eobj_id" />
            <column table="a" column="kod_src" />
          </call>
        </query>
        <query name="hk_voltage" as="v" join="left outer" dname="64455_1" title="Уровень напряжения">
          <call function="=">
            <column table="v" column="voltage" />
            <column table="a" column="voltage" />
          </call>
        </query>
        <query name="kk_interval" as="i" join="left outer" dname="64455_1">
          <call function="=">
            <column table="i" column="kodinterval" />
            <column table="a" column="kodinterval" />
          </call>
        </query>
        <query name="hs_gtp" as="gtp" join="left outer" dname="64455_1">
          <call function="=">
            <column table="gtp" column="kod_gtp" />
            <call function="hg_common.get_gtp">
              <column table="a" column="kod_numobj" />
              <useparam name="p_ym" />
            </call>
          </call>
        </query>
      </from>
      <order>
        <column column="ndog" />
        <column column="kod_dog" />
        <column column="num_obj" />
        <column column="point_nomer" />
      </order>
    </query>
    <query name="64455_1_priem_tco" timestamp="04.10.2023 17:33:31" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1.xml" haskeys="1">
      <params>
        <param name="p_kodp_pwrcompany" type="array" />
      </params>
      <select>
        <column table="u" column="kod_account" type="number" key="1" as="kod_account" />
        <column table="d" column="kodp" as="kodp" />
        <column table="d" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" />
        <column table="d" column="ndog" as="ndog" />
        <column table="d" column="kod_vdog" as="kod_vdog" />
        <column table="d" column="kod_d_dog" as="dog_kodd" />
        <column table="u" column="rym" type="number" as="rym" />
        <column table="u" column="kod_numobj" type="number" as="kod_numobj" />
        <column table="u" column="voltage" type="number" as="voltage" />
        <column table="u" column="kodinterval" type="number" as="kodinterval" />
        <column table="u" column="energy" type="number" as="energy" />
        <column table="u" column="is_2rate" type="number" as="is_2rate" />
        <column table="u" column="kod_priem" type="number" as="kod_priem" />
        <column table="u" column="object_name" type="string" as="object_name" />
        <column table="u" column="object_kodd" type="number" as="object_kodd" />
        <column table="u" column="kod_point" type="number" as="kod_point" reference="hr_point" refcol="kod_point" />
        <column table="u" column="tpoint" type="number" as="tpoint" />
        <column table="u" column="point_nomer" type="number" as="point_nomer" />
        <column table="u" column="point_name" type="string" as="point_name" />
        <column table="pt" column="prim" type="string" as="point_prim" />
        <column table="u" column="kod_pointmain" type="number" as="kod_pointmain" />
        <column table="u" column="nom_pu" type="string" as="nom_pu" />
        <column table="u" column="type_pu" type="string" as="type_pu" />
        <column table="u" column="readlast" type="number" as="readlast" />
        <column table="u" column="readprev" type="number" as="readprev" />
        <column table="u" column="outcounter" type="number" as="outcounter" />
        <column table="u" column="outadd" type="number" as="outadd" />
        <column table="u" column="out" type="number" as="out" />
        <column table="u" column="rkoeff" type="number" as="rkoeff" />
        <column table="u" column="razr" type="number" as="razr" />
        <column table="u" column="razr2" type="number" as="razr2" />
        <column table="u" column="kod_point_har" type="number" as="kod_point_har" />
        <column table="u" column="kod_polbalans" type="number" as="kod_polbalans" />
        <column table="u" column="kod_attpoint" type="number" as="kod_attpoint" reference="hr_attpoint" refcol="kod_attpoint" />
        <column table="u" column="power" type="number" as="power" />
        <column table="u" column="num_obj" type="number" as="num_obj" />
        <column table="u" column="src_dat_name" type="string" title="Наименование источника показаний" as="src_dat_name" />
        <call function="nvl" as="kodp_pwrcompany">
          <column table="attp" column="kodp_pwrcompany" />
          <const>-10</const>
        </call>
        <column table="attp" column="kodp_net" as="kodp_net" />
        <column table="attp" column="kodp_losscompany" as="kodp_losscompany" />
        <column table="attp" column="kodp_rsk" as="kodp_rsk" />
        <column table="attp" column="eobj_id" as="eobj_id" />
        <column table="attp" column="kod_src" as="kod_src" />
      </select>
      <from>
        <table name="64455_1_priem" as="u" view="1" />
        <query name="kr_dogovor" as="d" join="inner" dname="64455_1_priem_tco" title="Договор">
          <call function="=">
            <column table="d" column="kod_dog" />
            <column table="u" column="kod_dog" />
          </call>
        </query>
        <query name="hr_point" as="pt" join="left outer" dname="64455_1_priem_tco">
          <call function="=">
            <column table="pt" column="kod_point" />
            <column table="u" column="kod_point" />
          </call>
        </query>
        <query name="hr_attpoint" as="attp" join="left outer" dname="64455_1_priem_tco">
          <call function="=">
            <column table="attp" column="kod_attpoint" />
            <column table="u" column="kod_attpoint" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="attp" column="kodp_pwrcompany" />
            <useparam name="p_kodp_pwrcompany" />
          </call>
        </call>
      </where>
    </query>
    <query name="64455_1_total_params" title="Параметры отчёта 64455_1" timestamp="03.12.2024 23:04:18" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml">
      <params>
        <param name="p_dep" type="number" />
        <param name="p_ym" type="number" />
        <param name="p_tarif_type" type="number" />
        <param name="p_kodp_pwrcompany" type="array" />
        <param name="p_kod_dog" type="array" />
      </params>
      <select>
        <call function="||" type="string" as="period" key="0">
          <const>'за '</const>
          <call function="to_char">
            <useparam name="p_ym" />
            <const>'FM9990D00'</const>
          </call>
        </call>
        <column table="dep" column="name" as="filial" key="0" />
        <call function="nvl" type="string" as="tco" key="0">
          <call function="()">
            <query>
              <select>
                <column table="org" column="name" group="stragg" as="name" />
              </select>
              <from>
                <query name="kr_org" as="org" />
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="org" column="kodp" />
                    <useparam name="p_kodp_pwrcompany" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
        <call function="nvl" type="string" as="dogovor_list" key="0">
          <call function="()">
            <query>
              <select>
                <call function="||" group="stragg">
                  <column table="d" column="ndog" />
                  <const>' '</const>
                  <column table="p" column="name" />
                </call>
              </select>
              <from>
                <query name="kr_dogovor" as="d" title="Договор" />
                <query name="kr_payer" as="p" join="inner" title="Абонент">
                  <call function="=">
                    <column table="p" column="kodp" />
                    <column table="d" column="kodp" />
                  </call>
                </query>
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="d" column="kod_dog" />
                    <useparam name="p_kod_dog" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
        <call function="decode" type="string" as="tarif_type" key="0">
          <useparam name="p_tarif_type" />
          <const>0</const>
          <const>'все'</const>
          <const>1</const>
          <const>'одноставочный'</const>
          <const>2</const>
          <const>'двуставочный'</const>
          <const>''</const>
        </call>
        <column column="name" as="esys_name" type="string" table="e" key="0" />
      </select>
      <from>
        <query name="kr_org" as="dep" />
        <query name="rs_esys" as="e" join="cross" />
        <query name="kr_payer" join="inner" as="p" dname="64455_1_total_params" title="Абонент">
          <call function="=">
            <column table="e" column="kodp" />
            <column table="p" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="=">
          <column table="dep" column="kodp" />
          <useparam name="p_dep" />
        </call>
      </where>
    </query>
    <query name="64455_1_total_data" timestamp="03.12.2024 23:00:43" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="v" column="n1" type="number" as="kodp_pwrcompany" key="1" fixed="1" />
        <column table="v" column="n2" type="number" as="kodp" key="0" />
        <column table="v" column="n3" type="number" as="kod_dog" key="0" />
        <column table="v" column="s1" type="string" as="ndog" key="0" />
        <column table="v" column="n4" type="number" as="tarif_group" key="0" />
        <column table="v" column="n5" type="number" as="cust" key="0" />
        <column table="v" column="n14" type="number" as="cust_7" key="0" />
        <column table="v" column="n6" type="number" as="cust_6" key="0" />
        <column table="v" column="n7" type="number" as="cust_3" key="0" />
        <column table="v" column="n8" type="number" as="cust_4" key="0" />
        <column table="v" column="n9" type="number" as="cust_2" key="0" />
        <column table="v" column="n10" type="number" as="cust_1" key="0" />
        <column table="v" column="n11" type="number" as="money" key="0" />
        <column table="v" column="n12" type="number" as="nds" key="0" />
        <column table="v" column="n13" type="number" as="money_with_nds" key="0" />
        <call function="case" type="string" as="group_name" key="0">
          <call function="when">
            <call function="=">
              <column table="v" column="n4" />
              <const>1</const>
            </call>
            <const>'электроэнергия одноставочный'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="v" column="n4" />
              <const>2</const>
            </call>
            <const>'электроэнергия двуставочный'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="v" column="n4" />
              <const>3</const>
            </call>
            <const>'мощность двуставочный'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="v" column="n4" />
              <const>4</const>
            </call>
            <const>'Электроэнергия НАСЕЛЕНИЕ'</const>
          </call>
          <call function="else">
            <const>''</const>
          </call>
        </call>
        <call function="if" type="string" as="ed_izm" key="0">
          <call function="!=">
            <column table="v" column="n4" />
            <const>3</const>
          </call>
          <const>'кВтч'</const>
          <const>'кВт'</const>
        </call>
        <column table="v" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="v" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="rr_temp" as="v" />
      </from>
      <where>
        <call function="=">
          <column table="v" column="skod" />
          <const>'{D250859F-7466-4FAE-9EB6-78FD1AA8728F}'</const>
        </call>
      </where>
    </query>
    <query name="64455_1_total" title="Основной запрос отчёта 64455_1_total" order="kodp_pwrcompany, kod_dog, tarif_group" timestamp="03.12.2024 23:12:18" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="v" column="kodp_pwrcompany" key="1" as="kodp_pwrcompany" />
        <column table="v" column="kod_dog" key="1" as="kod_dog" />
        <column table="v" column="tarif_group" key="1" as="tarif_group" />
        <column table="v" column="group_name" as="group_name" />
        <column table="v" column="ed_izm" as="ed_izm" />
        <column table="v" column="cust" as="cust" />
        <column table="v" column="cust_7" title="ГН-СН2" as="cust_7" />
        <column table="v" column="cust_6" title="ГН" as="cust_6" />
        <column table="v" column="cust_3" title="ВН" as="cust_3" />
        <column table="v" column="cust_4" title="СН1" as="cust_4" />
        <column table="v" column="cust_2" title="СН2" as="cust_2" />
        <column table="v" column="cust_1" title="НН" as="cust_1" />
        <column table="v" column="money" as="money" />
        <column table="v" column="nds" as="nds" />
        <column table="v" column="money_with_nds" as="money_with_nds" />
      </select>
      <from>
        <query name="64455_1_total_data" as="v" />
      </from>
      <order>
        <column column="kodp_pwrcompany" />
        <column column="kod_dog" />
        <column column="tarif_group" />
      </order>
    </query>
    <query name="64455_1_total_grandtotal" title="Общий итог отчёта 64455_1_total" timestamp="16.11.2022 12:01:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml">
      <select>
        <call function="sum" type="number" as="money" key="0">
          <column table="v" column="money" />
        </call>
        <call function="sum" type="number" as="nds" key="0">
          <column table="v" column="nds" />
        </call>
        <call function="sum" type="number" as="money_with_nds" key="0">
          <column table="v" column="money_with_nds" />
        </call>
      </select>
      <from>
        <query name="64455_1_total_data" as="v" />
      </from>
    </query>
    <query name="64455_1_total_grandtotal_by_tarif" order="tarif_group" title="Итог по тарифной группе отчёта 64455_1_total" timestamp="03.12.2024 23:02:25" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="v" column="tarif_group" key="1" as="tarif_group" />
        <column table="v" column="group_name" as="group_name" />
        <column table="v" column="ed_izm" as="ed_izm" />
        <call function="sum" type="number" as="cust">
          <column table="v" column="cust" />
        </call>
        <call function="sum" type="number" as="cust_7" title="ГН-СН2">
          <column table="v" column="cust_7" />
        </call>
        <call function="sum" type="number" as="cust_6" title="ГН">
          <column table="v" column="cust_6" />
        </call>
        <call function="sum" type="number" as="cust_3" title="ВН">
          <column table="v" column="cust_3" />
        </call>
        <call function="sum" type="number" as="cust_4" title="СН1">
          <column table="v" column="cust_4" />
        </call>
        <call function="sum" type="number" as="cust_2" title="СН2">
          <column table="v" column="cust_2" />
        </call>
        <call function="sum" type="number" as="cust_1" title="НН">
          <column table="v" column="cust_1" />
        </call>
        <call function="sum" type="number" as="money">
          <column table="v" column="money" />
        </call>
        <call function="sum" type="number" as="nds">
          <column table="v" column="nds" />
        </call>
        <call function="sum" type="number" as="money_with_nds">
          <column table="v" column="money_with_nds" />
        </call>
      </select>
      <from>
        <query name="64455_1_total_data" as="v" />
      </from>
      <group>
        <column table="v" column="tarif_group" />
        <column table="v" column="group_name" />
        <column table="v" column="ed_izm" />
      </group>
      <order>
        <column column="tarif_group" />
      </order>
    </query>
    <query name="64455_1_total_total_by_tco" order="tco" title="Итоги по ТСО отчёта 64455_1_total" timestamp="16.11.2022 14:20:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="v" column="kodp_pwrcompany" key="1" as="kodp_pwrcompany" />
        <call function="if" as="tco" title="ТСО">
          <call function="=">
            <column table="v" column="kodp_pwrcompany" />
            <const>-10</const>
          </call>
          <const>'—'</const>
          <column table="tco" column="name" />
        </call>
        <call function="sum" type="number" as="money">
          <column table="v" column="money" />
        </call>
        <call function="sum" type="number" as="nds">
          <column table="v" column="nds" />
        </call>
        <call function="sum" type="number" as="money_with_nds">
          <column table="v" column="money_with_nds" />
        </call>
      </select>
      <from>
        <query name="64455_1_total_data" as="v" />
        <query name="kr_org" as="tco" join="left outer" dname="64455_1_total_total_by_tco">
          <call function="=">
            <column table="tco" column="kodp" />
            <column table="v" column="kodp_pwrcompany" />
          </call>
        </query>
      </from>
      <group>
        <column table="v" column="kodp_pwrcompany" />
        <column table="tco" column="name" />
      </group>
      <order>
        <column column="tco" />
      </order>
    </query>
    <query name="64455_1_total_total_by_tco_tarif" order="tarif_group" title="Итоги по ТСО и тарифной группе отчёта 64455_1_total" timestamp="03.12.2024 23:11:25" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="v" column="kodp_pwrcompany" key="1" as="kodp_pwrcompany" />
        <column table="v" column="tarif_group" key="1" as="tarif_group" />
        <column table="v" column="group_name" intern="1" as="group_name" />
        <column table="v" column="ed_izm" intern="1" as="ed_izm" />
        <call function="sum" type="number" as="cust">
          <column table="v" column="cust" />
        </call>
        <call function="sum" type="number" as="cust_7" title="ГН-СН2">
          <column table="v" column="cust_7" />
        </call>
        <call function="sum" type="number" as="cust_6" title="ГН">
          <column table="v" column="cust_6" />
        </call>
        <call function="sum" type="number" as="cust_3" title="ВН">
          <column table="v" column="cust_3" />
        </call>
        <call function="sum" type="number" as="cust_4" title="СН1">
          <column table="v" column="cust_4" />
        </call>
        <call function="sum" type="number" as="cust_2" title="СН2">
          <column table="v" column="cust_2" />
        </call>
        <call function="sum" type="number" as="cust_1" title="НН">
          <column table="v" column="cust_1" />
        </call>
        <call function="sum" type="number" as="money">
          <column table="v" column="money" />
        </call>
        <call function="sum" type="number" as="nds">
          <column table="v" column="nds" />
        </call>
        <call function="sum" type="number" as="money_with_nds">
          <column table="v" column="money_with_nds" />
        </call>
      </select>
      <from>
        <query name="64455_1_total_data" as="v" />
      </from>
      <group>
        <column table="v" column="kodp_pwrcompany" />
        <column table="v" column="tarif_group" />
        <column table="v" column="group_name" />
        <column table="v" column="ed_izm" />
      </group>
      <order>
        <column column="tarif_group" />
      </order>
    </query>
    <query name="64455_1_total_total_by_tco_dog" order="kodp_pwrcompany, ndog" title="Итоги по ТСО и договору отчёта 64455_1_total" timestamp="16.11.2022 12:15:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="v" column="kodp_pwrcompany" key="1" as="kodp_pwrcompany" />
        <column table="v" column="kod_dog" key="1" as="kod_dog" />
        <column table="v" column="ndog" as="ndog" />
        <column table="p" column="name" as="payer_name" />
        <call function="sum" type="number" as="money">
          <column table="v" column="money" />
        </call>
        <call function="sum" type="number" as="nds">
          <column table="v" column="nds" />
        </call>
        <call function="sum" type="number" as="money_with_nds">
          <column table="v" column="money_with_nds" />
        </call>
      </select>
      <from>
        <query name="64455_1_total_data" as="v" />
        <query name="kr_payer" as="p" join="inner" dname="64455_1_total_total_by_tco_dog" title="Абонент">
          <call function="=">
            <column table="p" column="kodp" />
            <column table="v" column="kodp" />
          </call>
        </query>
      </from>
      <group>
        <column table="v" column="kodp_pwrcompany" />
        <column table="v" column="kod_dog" />
        <column table="v" column="ndog" />
        <column table="p" column="name" />
      </group>
      <order>
        <column column="kodp_pwrcompany" />
        <column column="ndog" />
      </order>
    </query>
    <query name="64455_1_tarif_type" title="Тип тарифа" timestamp="21.10.2022 12:20:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="a" column="id" type="number" key="1" as="id" />
        <column table="a" column="name" type="string" as="name" />
      </select>
      <from>
        <query as="a">
          <union>
            <query>
              <select>
                <const as="id" type="number">0</const>
                <const as="name" type="string">'все'</const>
              </select>
              <from>
                <table name="dual" as="a" />
              </from>
            </query>
            <query>
              <select>
                <const as="id">1</const>
                <const as="name">'одноставочный'</const>
              </select>
              <from>
                <table name="dual" as="a" />
              </from>
            </query>
            <query>
              <select>
                <const as="id">2</const>
                <const as="name">'двуставочный'</const>
              </select>
              <from>
                <table name="dual" as="a" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="64455_1_pwrcompany" order="name" title="Список ТСО" timestamp="13.11.2023 13:40:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <select>
        <column table="o" column="kodp" as="kodp_pwrcompany" type="number" key="1" />
        <column table="o" column="name" title="Наименование" is-name="1" as="name" />
        <column table="o" column="inn" title="ИНН" as="inn" />
        <column table="o" column="kpp" title="КПП" as="kpp" />
      </select>
      <from>
        <query name="hv_org" as="o" />
        <query name="kr_org_group" as="og" join="inner" dname="64455_1_pwrcompany">
          <call function="=">
            <column table="og" column="kod_org" />
            <column table="o" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="o" column="pr_active" />
            <const>0</const>
          </call>
          <call function="!=">
            <column table="o" column="kodp" />
            <const>-10</const>
          </call>
          <call function="=">
            <column table="og" column="pr_last" />
            <const>1</const>
          </call>
          <call function="in">
            <column table="og" column="kod_org_group" />
            <call function="array">
              <const>-10</const>
              <const>-11</const>
            </call>
          </call>
        </call>
      </where>
      <order>
        <column column="name" />
      </order>
    </query>
    <query name="64455_1_dogovor_list" timestamp="16.11.2022 17:00:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml" haskeys="1">
      <params>
        <param name="p_dep" type="number" />
      </params>
      <select>
        <column table="d" column="kod_dog" as="kod_dog" key="1" />
        <column table="d" column="ndog" as="ndog" />
        <column table="p" column="nump" as="nump" />
        <column table="p" column="name" as="payer_name" />
      </select>
      <from>
        <query name="kr_dogovor" as="d" title="Договор" />
        <query name="kr_payer" as="p" join="inner" dname="64455_1_dogovor_list" title="Абонент">
          <call function="=">
            <column table="p" column="kodp" />
            <column table="d" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="=">
          <column table="d" column="dep" />
          <call function="nvlu">
            <useparam name="p_dep" />
            <const>NULL</const>
          </call>
        </call>
      </where>
    </query>
    <query name="main64483_1" timestamp="23.11.2022 13:03:53" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64483_1.xml">
      <select>
        <column table="a" column="kod_point" type="number" as="kod_point" key="0" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" key="0" />
        <column table="a" column="tr" type="number" as="tr" key="0" />
        <column table="a" column="kod_dog_p" type="number" as="kod_dog_p" key="0" />
        <column table="a" column="dognum_p" group="max" type="string" as="dognum_p" key="0" />
        <column table="a" column="sequential_number" as="sequential_number" key="0" />
        <column table="a" column="dognum" group="max" type="string" as="dognum" key="0" />
        <column table="a" column="payername" group="max" as="payername" key="0" />
        <column table="a" column="payername_p" group="max" as="payername_p" key="0" />
        <column table="a" column="feed_line" group="max" as="feed_line" key="0" />
        <column table="a" column="supply_point" group="max" as="supply_point" key="0" />
        <column table="a" column="name_object" group="max" as="name_object" key="0" />
        <column table="a" column="place_installation" group="max" as="place_installation" key="0" />
        <column table="a" column="type_el_meter" group="max" as="type_el_meter" key="0" />
        <column table="a" column="el_meter_number" group="max" as="el_meter_number" key="0" />
        <column table="a" column="accuracy_class_el_meter" group="max" as="accuracy_class_el_meter" key="0" />
        <column table="a" column="curr_transformer_type" group="max" as="curr_transformer_type" key="0" />
        <column table="a" column="voltage_transformer_type" group="max" as="voltage_transformer_type" key="0" />
        <column table="a" column="date_verif_el_meter" group="max" as="date_verif_el_meter" key="0" />
        <column table="a" column="design_factor" group="max" as="design_factor" key="0" />
        <column table="a" column="curr_transformer_num_1" group="max" as="curr_transformer_num_1" key="0" />
        <column table="a" column="curr_transformer_num_2" group="max" as="curr_transformer_num_2" key="0" />
        <column table="a" column="curr_transformer_num_3" group="max" as="curr_transformer_num_3" key="0" />
        <column table="a" column="accuracy_class_curr_trans" group="max" as="accuracy_class_curr_trans" key="0" />
        <column table="a" column="date_verif_curr_transformer" group="max" as="date_verif_curr_transformer" key="0" />
        <column table="a" column="curr_trans_design_factor" group="max" as="curr_trans_design_factor" key="0" />
        <column table="a" column="voltage_transformer_num_1" group="max" as="voltage_transformer_num_1" key="0" />
        <column table="a" column="voltage_transformer_num_2" group="max" as="voltage_transformer_num_2" key="0" />
        <column table="a" column="voltage_transformer_num_3" group="max" as="voltage_transformer_num_3" key="0" />
        <column table="a" column="accuracy_class_voltage_trans" group="max" as="accuracy_class_voltage_trans" key="0" />
        <column table="a" column="date_verif_voltage_trans" group="max" as="date_verif_voltage_trans" key="0" />
        <column table="a" column="voltage_trans_design_factor" group="max" as="voltage_trans_design_factor" key="0" />
        <column table="a" column="initial_indications" group="max" as="initial_indications" key="0" />
        <column table="a" column="constant_loss" group="max" as="constant_loss" key="0" />
        <column table="a" column="variable_loss" group="max" as="variable_loss" key="0" />
        <column table="a" column="maximum_power" group="max" as="maximum_power" key="0" />
        <column table="a" column="voltage_level_point" group="max" as="voltage_level_point" key="0" />
        <column table="a" column="balance_affiliation" group="max" as="balance_affiliation" key="0" />
        <column table="a" column="actual_voltage_level" group="max" as="actual_voltage_level" key="0" />
        <column table="a" column="reliability_category" group="max" as="reliability_category" key="0" />
        <column table="a" column="price_category" group="max" as="price_category" key="0" />
        <column table="a" column="voltage_level_tariff" group="max" as="voltage_level_tariff" key="0" />
        <column table="a" column="gran" type="string" as="gran" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64483_tbl" as="a" />
      </from>
      <grouping>
        <grset as="dog">
          <group>
            <column table="this" column="kod_dog" />
          </group>
          <grset as="gran">
            <group>
              <column table="this" column="gran" />
            </group>
            <where>
              <call function="!=">
                <column table="this" column="gran" />
                <const function="and" type="string">'transit'</const>
              </call>
            </where>
            <grset as="point" order="sequential_number">
              <group>
                <column table="this" column="kod_point" />
                <column table="this" column="sequential_number" />
              </group>
              <where>
                <call function="=">
                  <column table="this" column="tr" />
                  <const function="and">0</const>
                </call>
              </where>
            </grset>
          </grset>
          <grset as="point_tr_p" order="sequential_number">
            <group>
              <column table="this" column="kod_dog_p" />
            </group>
            <where>
              <call function="=">
                <column table="this" column="tr" />
                <const function="and">1</const>
              </call>
            </where>
            <grset as="point_tr">
              <group>
                <column table="this" column="kod_point" />
                <column table="this" column="sequential_number" />
              </group>
            </grset>
          </grset>
          <where>
            <call function="and">
              <call function="is not null">
                <column table="this" column="kod_dog" />
              </call>
            </call>
          </where>
        </grset>
      </grouping>
    </query>
    <query name="main64483_2" timestamp="13.10.2022 10:13:58" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64483_1.xml" haskeys="1">
      <select>
        <column table="a" column="sqlb_rep_64483_tbl_id" as="sqlb_rep_64483_tbl_id" key="1" />
        <column table="a" column="feed_line" as="feed_line" key="0" />
        <column table="a" column="supply_point" as="supply_point" key="0" />
        <column table="a" column="name_object" as="name_object" key="0" />
        <column table="a" column="place_installation" as="place_installation" key="0" />
        <column table="a" column="type_el_meter" as="type_el_meter" key="0" />
        <column table="a" column="el_meter_number" as="el_meter_number" key="0" />
        <column table="a" column="accuracy_class_el_meter" as="accuracy_class_el_meter" key="0" />
        <column table="a" column="curr_transformer_type" as="curr_transformer_type" key="0" />
        <column table="a" column="voltage_transformer_type" as="voltage_transformer_type" key="0" />
        <column table="a" column="date_verif_el_meter" as="date_verif_el_meter" key="0" />
        <column table="a" column="design_factor" as="design_factor" key="0" />
        <column table="a" column="curr_transformer_num_1" as="curr_transformer_num_1" key="0" />
        <column table="a" column="curr_transformer_num_2" as="curr_transformer_num_2" key="0" />
        <column table="a" column="curr_transformer_num_3" as="curr_transformer_num_3" key="0" />
        <column table="a" column="accuracy_class_curr_trans" as="accuracy_class_curr_trans" key="0" />
        <column table="a" column="date_verif_curr_transformer" as="date_verif_curr_transformer" key="0" />
        <column table="a" column="curr_trans_design_factor" as="curr_trans_design_factor" key="0" />
        <column table="a" column="voltage_transformer_num_1" as="voltage_transformer_num_1" key="0" />
        <column table="a" column="voltage_transformer_num_2" as="voltage_transformer_num_2" key="0" />
        <column table="a" column="voltage_transformer_num_3" as="voltage_transformer_num_3" key="0" />
        <column table="a" column="accuracy_class_voltage_trans" as="accuracy_class_voltage_trans" key="0" />
        <column table="a" column="date_verif_voltage_trans" as="date_verif_voltage_trans" key="0" />
        <column table="a" column="voltage_trans_design_factor" as="voltage_trans_design_factor" key="0" />
        <column table="a" column="initial_indications" as="initial_indications" key="0" />
        <column table="a" column="constant_loss" as="constant_loss" key="0" />
        <column table="a" column="variable_loss" as="variable_loss" key="0" />
        <column table="a" column="maximum_power" as="maximum_power" key="0" />
        <column table="a" column="voltage_level_point" as="voltage_level_point" key="0" />
        <column table="a" column="balance_affiliation" as="balance_affiliation" key="0" />
        <column table="a" column="actual_voltage_level" as="actual_voltage_level" key="0" />
        <column table="a" column="reliability_category" as="reliability_category" key="0" />
        <column table="a" column="price_category" as="price_category" key="0" />
        <column table="a" column="voltage_level_tariff" as="voltage_level_tariff" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64483_tbl" as="a" />
      </from>
    </query>
    <query name="query_fio" timestamp="25.11.2022 14:13:42" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64483_1.xml" haskeys="1">
      <params>
        <param name="kod_emp" />
      </params>
      <select>
        <column table="a" column="dol" as="dol" key="0" />
        <column table="a" column="fio_small" type="string" as="fio_small" key="0" />
        <column table="a" column="kod_emp" as="kod_emp" key="1" fixed="1" />
        <column table="a" column="name_dep_small" type="string" as="name_dep_small" key="0" />
      </select>
      <from>
        <query name="sqlb_signatory_view" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=" optional="1">
            <column table="a" column="kod_emp" />
            <useparam table="d" column="kodp" name="kod_emp" />
          </call>
          <call function="=">
            <call function="rownum" />
            <const>1</const>
          </call>
        </call>
      </where>
    </query>
    <query name="64649_data" timestamp="07.12.2022 12:18:23" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64649.xml" haskeys="1">
      <params>
        <param type="array" name="p_dep" />
        <param name="p_ym_beg" type="number" />
      </params>
      <select>
        <column table="d" column="kod_dog" as="kod_dog" key="1" fixed="1" />
        <column group="max" table="p" column="allname" as="fname" key="0" />
        <column group="max" table="p" column="inn" as="inn" key="0" />
        <column table="v" column="name" group="max" as="vdog" key="0" />
        <column table="d" column="dat_dog" as="date_dog" type="date" function="to_char0" group="max" key="0" />
        <call function="case" group="max" as="date_compare" type="date" key="0">
          <call function="when">
            <call function="between">
              <call function="mes">
                <useparam name="p_ym_beg" />
              </call>
              <const>1</const>
              <const>6</const>
            </call>
            <call function="to_date">
              <call function="||">
                <const>'30.06.'</const>
                <call function="to_char">
                  <call function="trunc">
                    <useparam name="p_ym_beg" />
                  </call>
                </call>
              </call>
              <const>'dd.mm.yyyy'</const>
            </call>
          </call>
          <call function="else">
            <call function="to_date">
              <call function="||">
                <const>'31.12.'</const>
                <call function="to_char">
                  <call function="trunc">
                    <useparam name="p_ym_beg" />
                  </call>
                </call>
              </call>
              <const>'dd.mm.yyyy'</const>
            </call>
          </call>
        </call>
        <call function="case" group="max" as="date_fin_compare" type="date" key="0">
          <call function="when">
            <call function="between">
              <call function="mes">
                <useparam name="p_ym_beg" />
              </call>
              <const>1</const>
              <const>6</const>
            </call>
            <call function="to_date">
              <call function="||">
                <const>'01.01.'</const>
                <call function="to_char">
                  <call function="trunc">
                    <useparam name="p_ym_beg" />
                  </call>
                </call>
              </call>
              <const>'dd.mm.yyyy'</const>
            </call>
          </call>
          <call function="else">
            <call function="to_date">
              <call function="||">
                <const>'01.07.'</const>
                <call function="to_char">
                  <call function="trunc">
                    <useparam name="p_ym_beg" />
                  </call>
                </call>
              </call>
              <const>'dd.mm.yyyy'</const>
            </call>
          </call>
        </call>
        <column function="if" as="region_name" type="string" group="max" table="d" column="adress_region_name" key="0" />
      </select>
      <from>
        <query name="kr_dogovor" as="d" title="Договор" />
        <query name="kr_payer" join="left outer" as="p" dname="64649_data" title="Абонент">
          <call function="=">
            <column table="d" column="kodp" />
            <column table="p" column="kodp" />
          </call>
        </query>
        <query name="ks_okved" as="k" join="left outer" dname="64649_data">
          <call function="=">
            <column table="p" column="kod_okved" />
            <column table="k" column="kod_okved" />
          </call>
        </query>
        <query name="ks_vdog" as="v" join="left outer" dname="64649_data" title="Вид договора">
          <call function="=">
            <column table="d" column="kod_vdog" />
            <column table="v" column="kod_vdog" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column function="true" table="d" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in">
            <column table="d" column="pr_active" />
            <const>(0,1)</const>
          </call>
          <call function="in">
            <column function="=" table="d" column="kod_vdog" />
            <const function="=">(193,198)</const>
          </call>
          <call function="=">
            <column table="k" column="kod_str_ies" />
            <const>10414</const>
          </call>
          <call function="le">
            <column table="this" column="date_dog" />
            <column table="this" column="date_compare" />
          </call>
          <call function="or">
            <call function="is null">
              <column table="d" column="dat_fin" />
            </call>
            <call function="ge">
              <column table="d" column="dat_fin" />
              <column table="this" column="date_fin_compare" />
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="grdog">
          <group>
            <column table="d" column="kod_dog" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="64650" title="4.6.2.3.2.6. Форма 1. Цены производителей" nogrid="1" form="64650" timestamp="24.01.2023 14:07:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64650.xml">
      <print-templates>
        <excel>
          <template name="64650.xlsx" title="Форма 1. Цены производителей" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym" />
      </content>
      <params>
        <param name="p_dep" comment="Отделение" />
        <param name="p_ym" />
      </params>
      <customers>
        <customer id="29" />
      </customers>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_64650.fill_table(:p_ym,:p_dep);
end;
      </text>
      </procedure>
      <select>
        <column column="dep_name" table="info" as="dep_name" key="0" />
        <column column="adr_name" table="info" as="adr_name" key="0" />
        <column column="name_t" table="a" as="name_t" key="0" />
        <column column="str_n" table="a" as="str_n" key="0" />
        <column column="kod_t" table="a" as="kod_t" key="0" />
        <column column="kod_t_loc" table="a" as="kod_t_loc" key="0" />
        <column column="ed_okei" table="a" as="ed_okei" key="0" />
        <column column="kod_k_real" table="a" as="kod_k_real" key="0" />
        <column column="price_kvth" table="a" as="price_kvth" key="0" />
        <column column="cust_kvth" table="a" as="cust_kvth" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64650_tbl" as="a" />
        <query name="64650_title_info" as="info" join="cross">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="64650_title_info" timestamp="24.01.2023 18:41:29" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64650.xml">
      <params>
        <param name="p_dep" type="array">
          <const>20578</const>
        </param>
        <param name="p_ym">
          <const>2022.03</const>
        </param>
      </params>
      <select>
        <call function="mes-name-pp" as="mes" key="0">
          <call function="mes">
            <useparam name="p_ym" />
          </call>
        </call>
        <call function="trunc" as="year" key="0">
          <useparam name="p_ym" />
        </call>
        <call function="if" as="p_dep_text" type="string" title="Отделения" key="0">
          <call function="is not null">
            <column table="a" column="name" group="stragg_dist" />
          </call>
          <column table="a" column="name" group="stragg_dist" />
          <column table="a" column="sname" group="stragg_dist" />
        </call>
        <call function="if" as="address_p" type="string" key="0">
          <call function="is not null">
            <column table="adr" column="kf_adress_o" group="stragg_dist" />
          </call>
          <column table="adr" column="kf_adress_o" group="stragg_dist" />
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
        <query name="kr_payer" as="p" join="left outer" dname="64650_title_info" title="Абонент">
          <call function="=">
            <column table="a" column="kodp" />
            <column table="p" column="kodp" />
          </call>
        </query>
        <query name="k_house" as="adr" join="left outer" dname="64650_title_info">
          <call function="=">
            <column table="p" column="kod_d_p" />
            <column table="adr" column="kodd" />
          </call>
        </query>
        <query name="adr_m_subject_list_dep" as="b" join="cross">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="in" optional="1">
            <column table="a" column="kodp" />
            <useparam name="p_dep" />
          </call>
        </call>
      </where>
    </query>
    <query name="ks_vdoc_in_1_and_5" title="Вид документа (ЭЭ и ДКП)" timestamp="15.09.2023 13:54:36" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64650.xml" haskeys="1">
      <select>
        <column table="a" column="kod_vdoc" type="number" column-mandatory="1" as="kod_vdoc" key="1" fixed="1" />
        <column table="a" column="name" type="string" data-size="200" column-mandatory="1" title="Наименование" comment="Наименование" as="name" key="0" />
        <column table="a" column="abbr" type="string" data-size="8" title="Аббревиатура" comment="аббревиатура" as="abbr" key="0" />
      </select>
      <from>
        <query name="ks_vdoc" as="a" />
      </from>
      <where>
        <call function="in">
          <column table="a" column="kod_vdoc" />
          <call function="array">
            <const>1</const>
            <const>5</const>
          </call>
        </call>
      </where>
    </query>
    <query name="64651 total" nogrid="1" timestamp="20.04.2023 12:46:40" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml" haskeys="1">
      <select>
        <call as="sqlb_rep_64651_tbl_id" type="string" function="rowid" group="count" key="1" />
        <column table="a" column="nach01_nas_kvth" group="sum" as="nach01_nas_kvth" />
        <column table="a" column="cust01_nas_kvth" group="sum" as="cust01_nas_kvth" />
        <call function="round" as="price01_nas_kvth">
          <call function="/">
            <column table="this" column="nach01_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust01_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach01_pr_dog_1_kvth" group="sum" as="nach01_pr_dog_1_kvth" />
        <column table="a" column="cust01_pr_dog_1_kvth" group="sum" as="cust01_pr_dog_1_kvth" />
        <call function="round" as="price01_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach01_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust01_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach01_prochie_1_kvth" group="sum" as="nach01_prochie_1_kvth" />
        <column table="a" column="cust01_prochie_1_kvth" group="sum" as="cust01_prochie_1_kvth" />
        <call function="round" as="price01_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach01_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust01_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach01_setevie_1_kvth" group="sum" as="nach01_setevie_1_kvth" />
        <column table="a" column="cust01_setevie_1_kvth" group="sum" as="cust01_setevie_1_kvth" />
        <call function="round" as="price01_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach01_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust01_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach01_pr_dog_2_kvth" type="number" group="sum" as="nach01_pr_dog_2_kvth" />
        <column table="a" column="cust01_pr_dog_2_kvth" type="number" group="sum" as="cust01_pr_dog_2_kvth" />
        <call function="round" as="price01_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach01_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust01_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach01_prochie_2_kvth" type="number" group="sum" as="nach01_prochie_2_kvth" />
        <column table="a" column="cust01_prochie_2_kvth" type="number" group="sum" as="cust01_prochie_2_kvth" />
        <call function="round" as="price01_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach01_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust01_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach01_pr_dog_2_kvt" type="number" group="sum" as="nach01_pr_dog_2_kvt" />
        <column table="a" column="cust01_pr_dog_2_kvt" type="number" group="sum" as="cust01_pr_dog_2_kvt" />
        <call function="round" as="price01_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach01_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust01_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach01_prochie_2_kvt" type="number" group="sum" as="nach01_prochie_2_kvt" />
        <column table="a" column="cust01_prochie_2_kvt" type="number" group="sum" as="cust01_prochie_2_kvt" />
        <call function="round" as="price01_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach01_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust01_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_nas_kvth" group="sum" as="nach02_nas_kvth" />
        <column table="a" column="cust02_nas_kvth" group="sum" as="cust02_nas_kvth" />
        <call function="round" as="price02_nas_kvth">
          <call function="/">
            <column table="this" column="nach02_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust02_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_pr_dog_1_kvth" group="sum" as="nach02_pr_dog_1_kvth" />
        <column table="a" column="cust02_pr_dog_1_kvth" group="sum" as="cust02_pr_dog_1_kvth" />
        <call function="round" as="price02_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach02_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust02_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_prochie_1_kvth" group="sum" as="nach02_prochie_1_kvth" />
        <column table="a" column="cust02_prochie_1_kvth" group="sum" as="cust02_prochie_1_kvth" />
        <call function="round" as="price02_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach02_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust02_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_setevie_1_kvth" group="sum" as="nach02_setevie_1_kvth" />
        <column table="a" column="cust02_setevie_1_kvth" group="sum" as="cust02_setevie_1_kvth" />
        <call function="round" as="price02_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach02_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust02_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_pr_dog_2_kvth" type="number" group="sum" as="nach02_pr_dog_2_kvth" />
        <column table="a" column="cust02_pr_dog_2_kvth" type="number" group="sum" as="cust02_pr_dog_2_kvth" />
        <call function="round" as="price02_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach02_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust02_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_prochie_2_kvth" type="number" group="sum" as="nach02_prochie_2_kvth" />
        <column table="a" column="cust02_prochie_2_kvth" type="number" group="sum" as="cust02_prochie_2_kvth" />
        <call function="round" as="price02_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach02_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust02_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_pr_dog_2_kvt" type="number" group="sum" as="nach02_pr_dog_2_kvt" />
        <column table="a" column="cust02_pr_dog_2_kvt" type="number" group="sum" as="cust02_pr_dog_2_kvt" />
        <call function="round" as="price02_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach02_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust02_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach02_prochie_2_kvt" type="number" group="sum" as="nach02_prochie_2_kvt" />
        <column table="a" column="cust02_prochie_2_kvt" type="number" group="sum" as="cust02_prochie_2_kvt" />
        <call function="round" as="price02_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach02_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust02_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_nas_kvth" group="sum" as="nach03_nas_kvth" />
        <column table="a" column="cust03_nas_kvth" group="sum" as="cust03_nas_kvth" />
        <call function="round" as="price03_nas_kvth">
          <call function="/">
            <column table="this" column="nach03_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust03_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_pr_dog_1_kvth" group="sum" as="nach03_pr_dog_1_kvth" />
        <column table="a" column="cust03_pr_dog_1_kvth" group="sum" as="cust03_pr_dog_1_kvth" />
        <call function="round" as="price03_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach03_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust03_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_prochie_1_kvth" group="sum" as="nach03_prochie_1_kvth" />
        <column table="a" column="cust03_prochie_1_kvth" group="sum" as="cust03_prochie_1_kvth" />
        <call function="round" as="price03_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach03_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust03_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_setevie_1_kvth" group="sum" as="nach03_setevie_1_kvth" />
        <column table="a" column="cust03_setevie_1_kvth" group="sum" as="cust03_setevie_1_kvth" />
        <call function="round" as="price03_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach03_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust03_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_pr_dog_2_kvth" type="number" group="sum" as="nach03_pr_dog_2_kvth" />
        <column table="a" column="cust03_pr_dog_2_kvth" type="number" group="sum" as="cust03_pr_dog_2_kvth" />
        <call function="round" as="price03_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach03_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust03_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_prochie_2_kvth" type="number" group="sum" as="nach03_prochie_2_kvth" />
        <column table="a" column="cust03_prochie_2_kvth" type="number" group="sum" as="cust03_prochie_2_kvth" />
        <call function="round" as="price03_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach03_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust03_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_pr_dog_2_kvt" type="number" group="sum" as="nach03_pr_dog_2_kvt" />
        <column table="a" column="cust03_pr_dog_2_kvt" type="number" group="sum" as="cust03_pr_dog_2_kvt" />
        <call function="round" as="price03_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach03_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust03_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach03_prochie_2_kvt" type="number" group="sum" as="nach03_prochie_2_kvt" />
        <column table="a" column="cust03_prochie_2_kvt" type="number" group="sum" as="cust03_prochie_2_kvt" />
        <call function="round" as="price03_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach03_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust03_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_nas_kvth" group="sum" as="nach04_nas_kvth" />
        <column table="a" column="cust04_nas_kvth" group="sum" as="cust04_nas_kvth" />
        <call function="round" as="price04_nas_kvth">
          <call function="/">
            <column table="this" column="nach04_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust04_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_pr_dog_1_kvth" group="sum" as="nach04_pr_dog_1_kvth" />
        <column table="a" column="cust04_pr_dog_1_kvth" group="sum" as="cust04_pr_dog_1_kvth" />
        <call function="round" as="price04_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach04_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust04_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_prochie_1_kvth" group="sum" as="nach04_prochie_1_kvth" />
        <column table="a" column="cust04_prochie_1_kvth" group="sum" as="cust04_prochie_1_kvth" />
        <call function="round" as="price04_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach04_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust04_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_setevie_1_kvth" group="sum" as="nach04_setevie_1_kvth" />
        <column table="a" column="cust04_setevie_1_kvth" group="sum" as="cust04_setevie_1_kvth" />
        <call function="round" as="price04_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach04_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust04_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_pr_dog_2_kvth" type="number" group="sum" as="nach04_pr_dog_2_kvth" />
        <column table="a" column="cust04_pr_dog_2_kvth" type="number" group="sum" as="cust04_pr_dog_2_kvth" />
        <call function="round" as="price04_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach04_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust04_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_prochie_2_kvth" type="number" group="sum" as="nach04_prochie_2_kvth" />
        <column table="a" column="cust04_prochie_2_kvth" type="number" group="sum" as="cust04_prochie_2_kvth" />
        <call function="round" as="price04_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach04_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust04_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_pr_dog_2_kvt" type="number" group="sum" as="nach04_pr_dog_2_kvt" />
        <column table="a" column="cust04_pr_dog_2_kvt" type="number" group="sum" as="cust04_pr_dog_2_kvt" />
        <call function="round" as="price04_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach04_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust04_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach04_prochie_2_kvt" type="number" group="sum" as="nach04_prochie_2_kvt" />
        <column table="a" column="cust04_prochie_2_kvt" type="number" group="sum" as="cust04_prochie_2_kvt" />
        <call function="round" as="price04_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach04_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust04_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_nas_kvth" group="sum" as="nach05_nas_kvth" />
        <column table="a" column="cust05_nas_kvth" group="sum" as="cust05_nas_kvth" />
        <call function="round" as="price05_nas_kvth">
          <call function="/">
            <column table="this" column="nach05_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust05_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_pr_dog_1_kvth" group="sum" as="nach05_pr_dog_1_kvth" />
        <column table="a" column="cust05_pr_dog_1_kvth" group="sum" as="cust05_pr_dog_1_kvth" />
        <call function="round" as="price05_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach05_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust05_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_prochie_1_kvth" group="sum" as="nach05_prochie_1_kvth" />
        <column table="a" column="cust05_prochie_1_kvth" group="sum" as="cust05_prochie_1_kvth" />
        <call function="round" as="price05_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach05_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust05_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_setevie_1_kvth" group="sum" as="nach05_setevie_1_kvth" />
        <column table="a" column="cust05_setevie_1_kvth" group="sum" as="cust05_setevie_1_kvth" />
        <call function="round" as="price05_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach05_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust05_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_pr_dog_2_kvth" type="number" group="sum" as="nach05_pr_dog_2_kvth" />
        <column table="a" column="cust05_pr_dog_2_kvth" type="number" group="sum" as="cust05_pr_dog_2_kvth" />
        <call function="round" as="price05_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach05_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust05_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_prochie_2_kvth" type="number" group="sum" as="nach05_prochie_2_kvth" />
        <column table="a" column="cust05_prochie_2_kvth" type="number" group="sum" as="cust05_prochie_2_kvth" />
        <call function="round" as="price05_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach05_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust05_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_pr_dog_2_kvt" type="number" group="sum" as="nach05_pr_dog_2_kvt" />
        <column table="a" column="cust05_pr_dog_2_kvt" type="number" group="sum" as="cust05_pr_dog_2_kvt" />
        <call function="round" as="price05_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach05_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust05_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach05_prochie_2_kvt" type="number" group="sum" as="nach05_prochie_2_kvt" />
        <column table="a" column="cust05_prochie_2_kvt" type="number" group="sum" as="cust05_prochie_2_kvt" />
        <call function="round" as="price05_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach05_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust05_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_nas_kvth" group="sum" as="nach06_nas_kvth" />
        <column table="a" column="cust06_nas_kvth" group="sum" as="cust06_nas_kvth" />
        <call function="round" as="price06_nas_kvth">
          <call function="/">
            <column table="this" column="nach06_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust06_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_pr_dog_1_kvth" group="sum" as="nach06_pr_dog_1_kvth" />
        <column table="a" column="cust06_pr_dog_1_kvth" group="sum" as="cust06_pr_dog_1_kvth" />
        <call function="round" as="price06_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach06_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust06_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_prochie_1_kvth" group="sum" as="nach06_prochie_1_kvth" />
        <column table="a" column="cust06_prochie_1_kvth" group="sum" as="cust06_prochie_1_kvth" />
        <call function="round" as="price06_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach06_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust06_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_setevie_1_kvth" group="sum" as="nach06_setevie_1_kvth" />
        <column table="a" column="cust06_setevie_1_kvth" group="sum" as="cust06_setevie_1_kvth" />
        <call function="round" as="price06_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach06_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust06_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_pr_dog_2_kvth" type="number" group="sum" as="nach06_pr_dog_2_kvth" />
        <column table="a" column="cust06_pr_dog_2_kvth" type="number" group="sum" as="cust06_pr_dog_2_kvth" />
        <call function="round" as="price06_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach06_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust06_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_prochie_2_kvth" type="number" group="sum" as="nach06_prochie_2_kvth" />
        <column table="a" column="cust06_prochie_2_kvth" type="number" group="sum" as="cust06_prochie_2_kvth" />
        <call function="round" as="price06_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach06_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust06_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_pr_dog_2_kvt" type="number" group="sum" as="nach06_pr_dog_2_kvt" />
        <column table="a" column="cust06_pr_dog_2_kvt" type="number" group="sum" as="cust06_pr_dog_2_kvt" />
        <call function="round" as="price06_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach06_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust06_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach06_prochie_2_kvt" type="number" group="sum" as="nach06_prochie_2_kvt" />
        <column table="a" column="cust06_prochie_2_kvt" type="number" group="sum" as="cust06_prochie_2_kvt" />
        <call function="round" as="price06_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach06_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust06_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_nas_kvth" group="sum" as="nach07_nas_kvth" />
        <column table="a" column="cust07_nas_kvth" group="sum" as="cust07_nas_kvth" />
        <call function="round" as="price07_nas_kvth">
          <call function="/">
            <column table="this" column="nach07_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust07_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_pr_dog_1_kvth" group="sum" as="nach07_pr_dog_1_kvth" />
        <column table="a" column="cust07_pr_dog_1_kvth" group="sum" as="cust07_pr_dog_1_kvth" />
        <call function="round" as="price07_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach07_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust07_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_prochie_1_kvth" group="sum" as="nach07_prochie_1_kvth" />
        <column table="a" column="cust07_prochie_1_kvth" group="sum" as="cust07_prochie_1_kvth" />
        <call function="round" as="price07_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach07_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust07_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_setevie_1_kvth" group="sum" as="nach07_setevie_1_kvth" />
        <column table="a" column="cust07_setevie_1_kvth" group="sum" as="cust07_setevie_1_kvth" />
        <call function="round" as="price07_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach07_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust07_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_pr_dog_2_kvth" type="number" group="sum" as="nach07_pr_dog_2_kvth" />
        <column table="a" column="cust07_pr_dog_2_kvth" type="number" group="sum" as="cust07_pr_dog_2_kvth" />
        <call function="round" as="price07_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach07_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust07_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_prochie_2_kvth" type="number" group="sum" as="nach07_prochie_2_kvth" />
        <column table="a" column="cust07_prochie_2_kvth" type="number" group="sum" as="cust07_prochie_2_kvth" />
        <call function="round" as="price07_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach07_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust07_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_pr_dog_2_kvt" type="number" group="sum" as="nach07_pr_dog_2_kvt" />
        <column table="a" column="cust07_pr_dog_2_kvt" type="number" group="sum" as="cust07_pr_dog_2_kvt" />
        <call function="round" as="price07_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach07_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust07_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach07_prochie_2_kvt" type="number" group="sum" as="nach07_prochie_2_kvt" />
        <column table="a" column="cust07_prochie_2_kvt" type="number" group="sum" as="cust07_prochie_2_kvt" />
        <call function="round" as="price07_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach07_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust07_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_nas_kvth" group="sum" as="nach08_nas_kvth" />
        <column table="a" column="cust08_nas_kvth" group="sum" as="cust08_nas_kvth" />
        <call function="round" as="price08_nas_kvth">
          <call function="/">
            <column table="this" column="nach08_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust08_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_pr_dog_1_kvth" group="sum" as="nach08_pr_dog_1_kvth" />
        <column table="a" column="cust08_pr_dog_1_kvth" group="sum" as="cust08_pr_dog_1_kvth" />
        <call function="round" as="price08_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach08_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust08_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_prochie_1_kvth" group="sum" as="nach08_prochie_1_kvth" />
        <column table="a" column="cust08_prochie_1_kvth" group="sum" as="cust08_prochie_1_kvth" />
        <call function="round" as="price08_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach08_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust08_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_setevie_1_kvth" group="sum" as="nach08_setevie_1_kvth" />
        <column table="a" column="cust08_setevie_1_kvth" group="sum" as="cust08_setevie_1_kvth" />
        <call function="round" as="price08_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach08_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust08_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_pr_dog_2_kvth" type="number" group="sum" as="nach08_pr_dog_2_kvth" />
        <column table="a" column="cust08_pr_dog_2_kvth" type="number" group="sum" as="cust08_pr_dog_2_kvth" />
        <call function="round" as="price08_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach08_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust08_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_prochie_2_kvth" type="number" group="sum" as="nach08_prochie_2_kvth" />
        <column table="a" column="cust08_prochie_2_kvth" type="number" group="sum" as="cust08_prochie_2_kvth" />
        <call function="round" as="price08_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach08_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust08_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_pr_dog_2_kvt" type="number" group="sum" as="nach08_pr_dog_2_kvt" />
        <column table="a" column="cust08_pr_dog_2_kvt" type="number" group="sum" as="cust08_pr_dog_2_kvt" />
        <call function="round" as="price08_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach08_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust08_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach08_prochie_2_kvt" type="number" group="sum" as="nach08_prochie_2_kvt" />
        <column table="a" column="cust08_prochie_2_kvt" type="number" group="sum" as="cust08_prochie_2_kvt" />
        <call function="round" as="price08_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach08_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust08_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_nas_kvth" group="sum" as="nach09_nas_kvth" />
        <column table="a" column="cust09_nas_kvth" group="sum" as="cust09_nas_kvth" />
        <call function="round" as="price09_nas_kvth">
          <call function="/">
            <column table="this" column="nach09_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust09_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_pr_dog_1_kvth" group="sum" as="nach09_pr_dog_1_kvth" />
        <column table="a" column="cust09_pr_dog_1_kvth" group="sum" as="cust09_pr_dog_1_kvth" />
        <call function="round" as="price09_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach09_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust09_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_prochie_1_kvth" group="sum" as="nach09_prochie_1_kvth" />
        <column table="a" column="cust09_prochie_1_kvth" group="sum" as="cust09_prochie_1_kvth" />
        <call function="round" as="price09_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach09_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust09_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_setevie_1_kvth" group="sum" as="nach09_setevie_1_kvth" />
        <column table="a" column="cust09_setevie_1_kvth" group="sum" as="cust09_setevie_1_kvth" />
        <call function="round" as="price09_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach09_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust09_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_pr_dog_2_kvth" type="number" group="sum" as="nach09_pr_dog_2_kvth" />
        <column table="a" column="cust09_pr_dog_2_kvth" type="number" group="sum" as="cust09_pr_dog_2_kvth" />
        <call function="round" as="price09_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach09_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust09_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_prochie_2_kvth" type="number" group="sum" as="nach09_prochie_2_kvth" />
        <column table="a" column="cust09_prochie_2_kvth" type="number" group="sum" as="cust09_prochie_2_kvth" />
        <call function="round" as="price09_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach09_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust09_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_pr_dog_2_kvt" type="number" group="sum" as="nach09_pr_dog_2_kvt" />
        <column table="a" column="cust09_pr_dog_2_kvt" type="number" group="sum" as="cust09_pr_dog_2_kvt" />
        <call function="round" as="price09_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach09_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust09_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach09_prochie_2_kvt" type="number" group="sum" as="nach09_prochie_2_kvt" />
        <column table="a" column="cust09_prochie_2_kvt" type="number" group="sum" as="cust09_prochie_2_kvt" />
        <call function="round" as="price09_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach09_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust09_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_nas_kvth" group="sum" as="nach10_nas_kvth" />
        <column table="a" column="cust10_nas_kvth" group="sum" as="cust10_nas_kvth" />
        <call function="round" as="price10_nas_kvth">
          <call function="/">
            <column table="this" column="nach10_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust10_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_pr_dog_1_kvth" group="sum" as="nach10_pr_dog_1_kvth" />
        <column table="a" column="cust10_pr_dog_1_kvth" group="sum" as="cust10_pr_dog_1_kvth" />
        <call function="round" as="price10_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach10_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust10_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_prochie_1_kvth" group="sum" as="nach10_prochie_1_kvth" />
        <column table="a" column="cust10_prochie_1_kvth" group="sum" as="cust10_prochie_1_kvth" />
        <call function="round" as="price10_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach10_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust10_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_setevie_1_kvth" group="sum" as="nach10_setevie_1_kvth" />
        <column table="a" column="cust10_setevie_1_kvth" group="sum" as="cust10_setevie_1_kvth" />
        <call function="round" as="price10_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach10_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust10_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_pr_dog_2_kvth" type="number" group="sum" as="nach10_pr_dog_2_kvth" />
        <column table="a" column="cust10_pr_dog_2_kvth" type="number" group="sum" as="cust10_pr_dog_2_kvth" />
        <call function="round" as="price10_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach10_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust10_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_prochie_2_kvth" type="number" group="sum" as="nach10_prochie_2_kvth" />
        <column table="a" column="cust10_prochie_2_kvth" type="number" group="sum" as="cust10_prochie_2_kvth" />
        <call function="round" as="price10_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach10_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust10_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_pr_dog_2_kvt" type="number" group="sum" as="nach10_pr_dog_2_kvt" />
        <column table="a" column="cust10_pr_dog_2_kvt" type="number" group="sum" as="cust10_pr_dog_2_kvt" />
        <call function="round" as="price10_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach10_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust10_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach10_prochie_2_kvt" type="number" group="sum" as="nach10_prochie_2_kvt" />
        <column table="a" column="cust10_prochie_2_kvt" type="number" group="sum" as="cust10_prochie_2_kvt" />
        <call function="round" as="price10_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach10_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust10_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_nas_kvth" group="sum" as="nach11_nas_kvth" />
        <column table="a" column="cust11_nas_kvth" group="sum" as="cust11_nas_kvth" />
        <call function="round" as="price11_nas_kvth">
          <call function="/">
            <column table="this" column="nach11_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust11_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_pr_dog_1_kvth" group="sum" as="nach11_pr_dog_1_kvth" />
        <column table="a" column="cust11_pr_dog_1_kvth" group="sum" as="cust11_pr_dog_1_kvth" />
        <call function="round" as="price11_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach11_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust11_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_prochie_1_kvth" group="sum" as="nach11_prochie_1_kvth" />
        <column table="a" column="cust11_prochie_1_kvth" group="sum" as="cust11_prochie_1_kvth" />
        <call function="round" as="price11_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach11_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust11_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_setevie_1_kvth" group="sum" as="nach11_setevie_1_kvth" />
        <column table="a" column="cust11_setevie_1_kvth" group="sum" as="cust11_setevie_1_kvth" />
        <call function="round" as="price11_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach11_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust11_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_pr_dog_2_kvth" type="number" group="sum" as="nach11_pr_dog_2_kvth" />
        <column table="a" column="cust11_pr_dog_2_kvth" type="number" group="sum" as="cust11_pr_dog_2_kvth" />
        <call function="round" as="price11_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach11_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust11_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_prochie_2_kvth" type="number" group="sum" as="nach11_prochie_2_kvth" />
        <column table="a" column="cust11_prochie_2_kvth" type="number" group="sum" as="cust11_prochie_2_kvth" />
        <call function="round" as="price11_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach11_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust11_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_pr_dog_2_kvt" type="number" group="sum" as="nach11_pr_dog_2_kvt" />
        <column table="a" column="cust11_pr_dog_2_kvt" type="number" group="sum" as="cust11_pr_dog_2_kvt" />
        <call function="round" as="price11_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach11_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust11_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach11_prochie_2_kvt" type="number" group="sum" as="nach11_prochie_2_kvt" />
        <column table="a" column="cust11_prochie_2_kvt" type="number" group="sum" as="cust11_prochie_2_kvt" />
        <call function="round" as="price11_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach11_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust11_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_nas_kvth" group="sum" as="nach12_nas_kvth" />
        <column table="a" column="cust12_nas_kvth" group="sum" as="cust12_nas_kvth" />
        <call function="round" as="price12_nas_kvth">
          <call function="/">
            <column table="this" column="nach12_nas_kvth" />
            <call function="nvl0">
              <column table="this" column="cust12_nas_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_pr_dog_1_kvth" group="sum" as="nach12_pr_dog_1_kvth" />
        <column table="a" column="cust12_pr_dog_1_kvth" group="sum" as="cust12_pr_dog_1_kvth" />
        <call function="round" as="price12_pr_dog_1_kvth">
          <call function="/">
            <column table="this" column="nach12_pr_dog_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust12_pr_dog_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_prochie_1_kvth" group="sum" as="nach12_prochie_1_kvth" />
        <column table="a" column="cust12_prochie_1_kvth" group="sum" as="cust12_prochie_1_kvth" />
        <call function="round" as="price12_prochie_1_kvth">
          <call function="/">
            <column table="this" column="nach12_prochie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust12_prochie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_setevie_1_kvth" group="sum" as="nach12_setevie_1_kvth" />
        <column table="a" column="cust12_setevie_1_kvth" group="sum" as="cust12_setevie_1_kvth" />
        <call function="round" as="price12_setevie_1_kvth">
          <call function="/">
            <column table="this" column="nach12_setevie_1_kvth" />
            <call function="nvl0">
              <column table="this" column="cust12_setevie_1_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_pr_dog_2_kvth" type="number" group="sum" as="nach12_pr_dog_2_kvth" />
        <column table="a" column="cust12_pr_dog_2_kvth" type="number" group="sum" as="cust12_pr_dog_2_kvth" />
        <call function="round" as="price12_pr_dog_2_kvth">
          <call function="/">
            <column table="this" column="nach12_pr_dog_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust12_pr_dog_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_prochie_2_kvth" type="number" group="sum" as="nach12_prochie_2_kvth" />
        <column table="a" column="cust12_prochie_2_kvth" type="number" group="sum" as="cust12_prochie_2_kvth" />
        <call function="round" as="price12_prochie_2_kvth">
          <call function="/">
            <column table="this" column="nach12_prochie_2_kvth" />
            <call function="nvl0">
              <column table="this" column="cust12_prochie_2_kvth" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_pr_dog_2_kvt" type="number" group="sum" as="nach12_pr_dog_2_kvt" />
        <column table="a" column="cust12_pr_dog_2_kvt" type="number" group="sum" as="cust12_pr_dog_2_kvt" />
        <call function="round" as="price12_pr_dog_2_kvt">
          <call function="/">
            <column table="this" column="nach12_pr_dog_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust12_pr_dog_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
        <column table="a" column="nach12_prochie_2_kvt" type="number" group="sum" as="nach12_prochie_2_kvt" />
        <column table="a" column="cust12_prochie_2_kvt" type="number" group="sum" as="cust12_prochie_2_kvt" />
        <call function="round" as="price12_prochie_2_kvt">
          <call function="/">
            <column table="this" column="nach12_prochie_2_kvt" />
            <call function="nvl0">
              <column table="this" column="cust12_prochie_2_kvt" />
            </call>
          </call>
          <const>5</const>
        </call>
      </select>
      <from>
        <query name="sqlb_rep_64651_tbl" as="a" />
      </from>
    </query>
    <query name="64651 vgo" nogrid="1" order="a.kod_dog" timestamp="27.02.2024 11:01:53" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml" haskeys="1">
      <select>
        <column table="a" column="kod_dog" key="1" as="kod_dog" />
        <column table="a" column="name_c" as="name_c" />
        <column table="a" column="ndog" as="ndog" />
        <column table="a" column="nach01_nas_kvth" group="sum" as="nach01_nas_kvth" />
        <column table="a" column="cust01_nas_kvth" group="sum" as="cust01_nas_kvth" />
        <column table="a" column="nach01_pr_dog_1_kvth" group="sum" as="nach01_pr_dog_1_kvth" />
        <column table="a" column="cust01_pr_dog_1_kvth" group="sum" as="cust01_pr_dog_1_kvth" />
        <column table="a" column="nach01_prochie_1_kvth" group="sum" as="nach01_prochie_1_kvth" />
        <column table="a" column="cust01_prochie_1_kvth" group="sum" as="cust01_prochie_1_kvth" />
        <column table="a" column="nach01_setevie_1_kvth" group="sum" as="nach01_setevie_1_kvth" />
        <column table="a" column="cust01_setevie_1_kvth" group="sum" as="cust01_setevie_1_kvth" />
        <column table="a" column="nach01_pr_dog_2_kvth" type="number" group="sum" as="nach01_pr_dog_2_kvth" />
        <column table="a" column="cust01_pr_dog_2_kvth" type="number" group="sum" as="cust01_pr_dog_2_kvth" />
        <column table="a" column="nach01_prochie_2_kvth" type="number" group="sum" as="nach01_prochie_2_kvth" />
        <column table="a" column="cust01_prochie_2_kvth" type="number" group="sum" as="cust01_prochie_2_kvth" />
        <column table="a" column="nach01_pr_dog_2_kvt" type="number" group="sum" as="nach01_pr_dog_2_kvt" />
        <column table="a" column="cust01_pr_dog_2_kvt" type="number" group="sum" as="cust01_pr_dog_2_kvt" />
        <column table="a" column="nach01_prochie_2_kvt" type="number" group="sum" as="nach01_prochie_2_kvt" />
        <column table="a" column="cust01_prochie_2_kvt" type="number" group="sum" as="cust01_prochie_2_kvt" />
        <column table="a" column="nach02_nas_kvth" group="sum" as="nach02_nas_kvth" />
        <column table="a" column="cust02_nas_kvth" group="sum" as="cust02_nas_kvth" />
        <column table="a" column="nach02_pr_dog_1_kvth" group="sum" as="nach02_pr_dog_1_kvth" />
        <column table="a" column="cust02_pr_dog_1_kvth" group="sum" as="cust02_pr_dog_1_kvth" />
        <column table="a" column="nach02_prochie_1_kvth" group="sum" as="nach02_prochie_1_kvth" />
        <column table="a" column="cust02_prochie_1_kvth" group="sum" as="cust02_prochie_1_kvth" />
        <column table="a" column="nach02_setevie_1_kvth" group="sum" as="nach02_setevie_1_kvth" />
        <column table="a" column="cust02_setevie_1_kvth" group="sum" as="cust02_setevie_1_kvth" />
        <column table="a" column="nach02_pr_dog_2_kvth" type="number" group="sum" as="nach02_pr_dog_2_kvth" />
        <column table="a" column="cust02_pr_dog_2_kvth" type="number" group="sum" as="cust02_pr_dog_2_kvth" />
        <column table="a" column="nach02_prochie_2_kvth" type="number" group="sum" as="nach02_prochie_2_kvth" />
        <column table="a" column="cust02_prochie_2_kvth" type="number" group="sum" as="cust02_prochie_2_kvth" />
        <column table="a" column="nach02_pr_dog_2_kvt" type="number" group="sum" as="nach02_pr_dog_2_kvt" />
        <column table="a" column="cust02_pr_dog_2_kvt" type="number" group="sum" as="cust02_pr_dog_2_kvt" />
        <column table="a" column="nach02_prochie_2_kvt" type="number" group="sum" as="nach02_prochie_2_kvt" />
        <column table="a" column="cust02_prochie_2_kvt" type="number" group="sum" as="cust02_prochie_2_kvt" />
        <column table="a" column="nach03_nas_kvth" group="sum" as="nach03_nas_kvth" />
        <column table="a" column="cust03_nas_kvth" group="sum" as="cust03_nas_kvth" />
        <column table="a" column="nach03_pr_dog_1_kvth" group="sum" as="nach03_pr_dog_1_kvth" />
        <column table="a" column="cust03_pr_dog_1_kvth" group="sum" as="cust03_pr_dog_1_kvth" />
        <column table="a" column="nach03_prochie_1_kvth" group="sum" as="nach03_prochie_1_kvth" />
        <column table="a" column="cust03_prochie_1_kvth" group="sum" as="cust03_prochie_1_kvth" />
        <column table="a" column="nach03_setevie_1_kvth" group="sum" as="nach03_setevie_1_kvth" />
        <column table="a" column="cust03_setevie_1_kvth" group="sum" as="cust03_setevie_1_kvth" />
        <column table="a" column="nach03_pr_dog_2_kvth" type="number" group="sum" as="nach03_pr_dog_2_kvth" />
        <column table="a" column="cust03_pr_dog_2_kvth" type="number" group="sum" as="cust03_pr_dog_2_kvth" />
        <column table="a" column="nach03_prochie_2_kvth" type="number" group="sum" as="nach03_prochie_2_kvth" />
        <column table="a" column="cust03_prochie_2_kvth" type="number" group="sum" as="cust03_prochie_2_kvth" />
        <column table="a" column="nach03_pr_dog_2_kvt" type="number" group="sum" as="nach03_pr_dog_2_kvt" />
        <column table="a" column="cust03_pr_dog_2_kvt" type="number" group="sum" as="cust03_pr_dog_2_kvt" />
        <column table="a" column="nach03_prochie_2_kvt" type="number" group="sum" as="nach03_prochie_2_kvt" />
        <column table="a" column="cust03_prochie_2_kvt" type="number" group="sum" as="cust03_prochie_2_kvt" />
        <column table="a" column="nach04_nas_kvth" group="sum" as="nach04_nas_kvth" />
        <column table="a" column="cust04_nas_kvth" group="sum" as="cust04_nas_kvth" />
        <column table="a" column="nach04_pr_dog_1_kvth" group="sum" as="nach04_pr_dog_1_kvth" />
        <column table="a" column="cust04_pr_dog_1_kvth" group="sum" as="cust04_pr_dog_1_kvth" />
        <column table="a" column="nach04_prochie_1_kvth" group="sum" as="nach04_prochie_1_kvth" />
        <column table="a" column="cust04_prochie_1_kvth" group="sum" as="cust04_prochie_1_kvth" />
        <column table="a" column="nach04_setevie_1_kvth" group="sum" as="nach04_setevie_1_kvth" />
        <column table="a" column="cust04_setevie_1_kvth" group="sum" as="cust04_setevie_1_kvth" />
        <column table="a" column="nach04_pr_dog_2_kvth" type="number" group="sum" as="nach04_pr_dog_2_kvth" />
        <column table="a" column="cust04_pr_dog_2_kvth" type="number" group="sum" as="cust04_pr_dog_2_kvth" />
        <column table="a" column="nach04_prochie_2_kvth" type="number" group="sum" as="nach04_prochie_2_kvth" />
        <column table="a" column="cust04_prochie_2_kvth" type="number" group="sum" as="cust04_prochie_2_kvth" />
        <column table="a" column="nach04_pr_dog_2_kvt" type="number" group="sum" as="nach04_pr_dog_2_kvt" />
        <column table="a" column="cust04_pr_dog_2_kvt" type="number" group="sum" as="cust04_pr_dog_2_kvt" />
        <column table="a" column="nach04_prochie_2_kvt" type="number" group="sum" as="nach04_prochie_2_kvt" />
        <column table="a" column="cust04_prochie_2_kvt" type="number" group="sum" as="cust04_prochie_2_kvt" />
        <column table="a" column="nach05_nas_kvth" group="sum" as="nach05_nas_kvth" />
        <column table="a" column="cust05_nas_kvth" group="sum" as="cust05_nas_kvth" />
        <column table="a" column="nach05_pr_dog_1_kvth" group="sum" as="nach05_pr_dog_1_kvth" />
        <column table="a" column="cust05_pr_dog_1_kvth" group="sum" as="cust05_pr_dog_1_kvth" />
        <column table="a" column="nach05_prochie_1_kvth" group="sum" as="nach05_prochie_1_kvth" />
        <column table="a" column="cust05_prochie_1_kvth" group="sum" as="cust05_prochie_1_kvth" />
        <column table="a" column="nach05_setevie_1_kvth" group="sum" as="nach05_setevie_1_kvth" />
        <column table="a" column="cust05_setevie_1_kvth" group="sum" as="cust05_setevie_1_kvth" />
        <column table="a" column="nach05_pr_dog_2_kvth" type="number" group="sum" as="nach05_pr_dog_2_kvth" />
        <column table="a" column="cust05_pr_dog_2_kvth" type="number" group="sum" as="cust05_pr_dog_2_kvth" />
        <column table="a" column="nach05_prochie_2_kvth" type="number" group="sum" as="nach05_prochie_2_kvth" />
        <column table="a" column="cust05_prochie_2_kvth" type="number" group="sum" as="cust05_prochie_2_kvth" />
        <column table="a" column="nach05_pr_dog_2_kvt" type="number" group="sum" as="nach05_pr_dog_2_kvt" />
        <column table="a" column="cust05_pr_dog_2_kvt" type="number" group="sum" as="cust05_pr_dog_2_kvt" />
        <column table="a" column="nach05_prochie_2_kvt" type="number" group="sum" as="nach05_prochie_2_kvt" />
        <column table="a" column="cust05_prochie_2_kvt" type="number" group="sum" as="cust05_prochie_2_kvt" />
        <column table="a" column="nach06_nas_kvth" group="sum" as="nach06_nas_kvth" />
        <column table="a" column="cust06_nas_kvth" group="sum" as="cust06_nas_kvth" />
        <column table="a" column="nach06_pr_dog_1_kvth" group="sum" as="nach06_pr_dog_1_kvth" />
        <column table="a" column="cust06_pr_dog_1_kvth" group="sum" as="cust06_pr_dog_1_kvth" />
        <column table="a" column="nach06_prochie_1_kvth" group="sum" as="nach06_prochie_1_kvth" />
        <column table="a" column="cust06_prochie_1_kvth" group="sum" as="cust06_prochie_1_kvth" />
        <column table="a" column="nach06_setevie_1_kvth" group="sum" as="nach06_setevie_1_kvth" />
        <column table="a" column="cust06_setevie_1_kvth" group="sum" as="cust06_setevie_1_kvth" />
        <column table="a" column="nach06_pr_dog_2_kvth" type="number" group="sum" as="nach06_pr_dog_2_kvth" />
        <column table="a" column="cust06_pr_dog_2_kvth" type="number" group="sum" as="cust06_pr_dog_2_kvth" />
        <column table="a" column="nach06_prochie_2_kvth" type="number" group="sum" as="nach06_prochie_2_kvth" />
        <column table="a" column="cust06_prochie_2_kvth" type="number" group="sum" as="cust06_prochie_2_kvth" />
        <column table="a" column="nach06_pr_dog_2_kvt" type="number" group="sum" as="nach06_pr_dog_2_kvt" />
        <column table="a" column="cust06_pr_dog_2_kvt" type="number" group="sum" as="cust06_pr_dog_2_kvt" />
        <column table="a" column="nach06_prochie_2_kvt" type="number" group="sum" as="nach06_prochie_2_kvt" />
        <column table="a" column="cust06_prochie_2_kvt" type="number" group="sum" as="cust06_prochie_2_kvt" />
        <column table="a" column="nach07_nas_kvth" group="sum" as="nach07_nas_kvth" />
        <column table="a" column="cust07_nas_kvth" group="sum" as="cust07_nas_kvth" />
        <column table="a" column="nach07_pr_dog_1_kvth" group="sum" as="nach07_pr_dog_1_kvth" />
        <column table="a" column="cust07_pr_dog_1_kvth" group="sum" as="cust07_pr_dog_1_kvth" />
        <column table="a" column="nach07_prochie_1_kvth" group="sum" as="nach07_prochie_1_kvth" />
        <column table="a" column="cust07_prochie_1_kvth" group="sum" as="cust07_prochie_1_kvth" />
        <column table="a" column="nach07_setevie_1_kvth" group="sum" as="nach07_setevie_1_kvth" />
        <column table="a" column="cust07_setevie_1_kvth" group="sum" as="cust07_setevie_1_kvth" />
        <column table="a" column="nach07_pr_dog_2_kvth" type="number" group="sum" as="nach07_pr_dog_2_kvth" />
        <column table="a" column="cust07_pr_dog_2_kvth" type="number" group="sum" as="cust07_pr_dog_2_kvth" />
        <column table="a" column="nach07_prochie_2_kvth" type="number" group="sum" as="nach07_prochie_2_kvth" />
        <column table="a" column="cust07_prochie_2_kvth" type="number" group="sum" as="cust07_prochie_2_kvth" />
        <column table="a" column="nach07_pr_dog_2_kvt" type="number" group="sum" as="nach07_pr_dog_2_kvt" />
        <column table="a" column="cust07_pr_dog_2_kvt" type="number" group="sum" as="cust07_pr_dog_2_kvt" />
        <column table="a" column="nach07_prochie_2_kvt" type="number" group="sum" as="nach07_prochie_2_kvt" />
        <column table="a" column="cust07_prochie_2_kvt" type="number" group="sum" as="cust07_prochie_2_kvt" />
        <column table="a" column="nach08_nas_kvth" group="sum" as="nach08_nas_kvth" />
        <column table="a" column="cust08_nas_kvth" group="sum" as="cust08_nas_kvth" />
        <column table="a" column="nach08_pr_dog_1_kvth" group="sum" as="nach08_pr_dog_1_kvth" />
        <column table="a" column="cust08_pr_dog_1_kvth" group="sum" as="cust08_pr_dog_1_kvth" />
        <column table="a" column="nach08_prochie_1_kvth" group="sum" as="nach08_prochie_1_kvth" />
        <column table="a" column="cust08_prochie_1_kvth" group="sum" as="cust08_prochie_1_kvth" />
        <column table="a" column="nach08_setevie_1_kvth" group="sum" as="nach08_setevie_1_kvth" />
        <column table="a" column="cust08_setevie_1_kvth" group="sum" as="cust08_setevie_1_kvth" />
        <column table="a" column="nach08_pr_dog_2_kvth" type="number" group="sum" as="nach08_pr_dog_2_kvth" />
        <column table="a" column="cust08_pr_dog_2_kvth" type="number" group="sum" as="cust08_pr_dog_2_kvth" />
        <column table="a" column="nach08_prochie_2_kvth" type="number" group="sum" as="nach08_prochie_2_kvth" />
        <column table="a" column="cust08_prochie_2_kvth" type="number" group="sum" as="cust08_prochie_2_kvth" />
        <column table="a" column="nach08_pr_dog_2_kvt" type="number" group="sum" as="nach08_pr_dog_2_kvt" />
        <column table="a" column="cust08_pr_dog_2_kvt" type="number" group="sum" as="cust08_pr_dog_2_kvt" />
        <column table="a" column="nach08_prochie_2_kvt" type="number" group="sum" as="nach08_prochie_2_kvt" />
        <column table="a" column="cust08_prochie_2_kvt" type="number" group="sum" as="cust08_prochie_2_kvt" />
        <column table="a" column="nach09_nas_kvth" group="sum" as="nach09_nas_kvth" />
        <column table="a" column="cust09_nas_kvth" group="sum" as="cust09_nas_kvth" />
        <column table="a" column="nach09_pr_dog_1_kvth" group="sum" as="nach09_pr_dog_1_kvth" />
        <column table="a" column="cust09_pr_dog_1_kvth" group="sum" as="cust09_pr_dog_1_kvth" />
        <column table="a" column="nach09_prochie_1_kvth" group="sum" as="nach09_prochie_1_kvth" />
        <column table="a" column="cust09_prochie_1_kvth" group="sum" as="cust09_prochie_1_kvth" />
        <column table="a" column="nach09_setevie_1_kvth" group="sum" as="nach09_setevie_1_kvth" />
        <column table="a" column="cust09_setevie_1_kvth" group="sum" as="cust09_setevie_1_kvth" />
        <column table="a" column="nach09_pr_dog_2_kvth" type="number" group="sum" as="nach09_pr_dog_2_kvth" />
        <column table="a" column="cust09_pr_dog_2_kvth" type="number" group="sum" as="cust09_pr_dog_2_kvth" />
        <column table="a" column="nach09_prochie_2_kvth" type="number" group="sum" as="nach09_prochie_2_kvth" />
        <column table="a" column="cust09_prochie_2_kvth" type="number" group="sum" as="cust09_prochie_2_kvth" />
        <column table="a" column="nach09_pr_dog_2_kvt" type="number" group="sum" as="nach09_pr_dog_2_kvt" />
        <column table="a" column="cust09_pr_dog_2_kvt" type="number" group="sum" as="cust09_pr_dog_2_kvt" />
        <column table="a" column="nach09_prochie_2_kvt" type="number" group="sum" as="nach09_prochie_2_kvt" />
        <column table="a" column="cust09_prochie_2_kvt" type="number" group="sum" as="cust09_prochie_2_kvt" />
        <column table="a" column="nach10_nas_kvth" group="sum" as="nach10_nas_kvth" />
        <column table="a" column="cust10_nas_kvth" group="sum" as="cust10_nas_kvth" />
        <column table="a" column="nach10_pr_dog_1_kvth" group="sum" as="nach10_pr_dog_1_kvth" />
        <column table="a" column="cust10_pr_dog_1_kvth" group="sum" as="cust10_pr_dog_1_kvth" />
        <column table="a" column="nach10_prochie_1_kvth" group="sum" as="nach10_prochie_1_kvth" />
        <column table="a" column="cust10_prochie_1_kvth" group="sum" as="cust10_prochie_1_kvth" />
        <column table="a" column="nach10_setevie_1_kvth" group="sum" as="nach10_setevie_1_kvth" />
        <column table="a" column="cust10_setevie_1_kvth" group="sum" as="cust10_setevie_1_kvth" />
        <column table="a" column="nach10_pr_dog_2_kvth" type="number" group="sum" as="nach10_pr_dog_2_kvth" />
        <column table="a" column="cust10_pr_dog_2_kvth" type="number" group="sum" as="cust10_pr_dog_2_kvth" />
        <column table="a" column="nach10_prochie_2_kvth" type="number" group="sum" as="nach10_prochie_2_kvth" />
        <column table="a" column="cust10_prochie_2_kvth" type="number" group="sum" as="cust10_prochie_2_kvth" />
        <column table="a" column="nach10_pr_dog_2_kvt" type="number" group="sum" as="nach10_pr_dog_2_kvt" />
        <column table="a" column="cust10_pr_dog_2_kvt" type="number" group="sum" as="cust10_pr_dog_2_kvt" />
        <column table="a" column="nach10_prochie_2_kvt" type="number" group="sum" as="nach10_prochie_2_kvt" />
        <column table="a" column="cust10_prochie_2_kvt" type="number" group="sum" as="cust10_prochie_2_kvt" />
        <column table="a" column="nach11_nas_kvth" group="sum" as="nach11_nas_kvth" />
        <column table="a" column="cust11_nas_kvth" group="sum" as="cust11_nas_kvth" />
        <column table="a" column="nach11_pr_dog_1_kvth" group="sum" as="nach11_pr_dog_1_kvth" />
        <column table="a" column="cust11_pr_dog_1_kvth" group="sum" as="cust11_pr_dog_1_kvth" />
        <column table="a" column="nach11_prochie_1_kvth" group="sum" as="nach11_prochie_1_kvth" />
        <column table="a" column="cust11_prochie_1_kvth" group="sum" as="cust11_prochie_1_kvth" />
        <column table="a" column="nach11_setevie_1_kvth" group="sum" as="nach11_setevie_1_kvth" />
        <column table="a" column="cust11_setevie_1_kvth" group="sum" as="cust11_setevie_1_kvth" />
        <column table="a" column="nach11_pr_dog_2_kvth" type="number" group="sum" as="nach11_pr_dog_2_kvth" />
        <column table="a" column="cust11_pr_dog_2_kvth" type="number" group="sum" as="cust11_pr_dog_2_kvth" />
        <column table="a" column="nach11_prochie_2_kvth" type="number" group="sum" as="nach11_prochie_2_kvth" />
        <column table="a" column="cust11_prochie_2_kvth" type="number" group="sum" as="cust11_prochie_2_kvth" />
        <column table="a" column="nach11_pr_dog_2_kvt" type="number" group="sum" as="nach11_pr_dog_2_kvt" />
        <column table="a" column="cust11_pr_dog_2_kvt" type="number" group="sum" as="cust11_pr_dog_2_kvt" />
        <column table="a" column="nach11_prochie_2_kvt" type="number" group="sum" as="nach11_prochie_2_kvt" />
        <column table="a" column="cust11_prochie_2_kvt" type="number" group="sum" as="cust11_prochie_2_kvt" />
        <column table="a" column="nach12_nas_kvth" group="sum" as="nach12_nas_kvth" />
        <column table="a" column="cust12_nas_kvth" group="sum" as="cust12_nas_kvth" />
        <column table="a" column="nach12_pr_dog_1_kvth" group="sum" as="nach12_pr_dog_1_kvth" />
        <column table="a" column="cust12_pr_dog_1_kvth" group="sum" as="cust12_pr_dog_1_kvth" />
        <column table="a" column="nach12_prochie_1_kvth" group="sum" as="nach12_prochie_1_kvth" />
        <column table="a" column="cust12_prochie_1_kvth" group="sum" as="cust12_prochie_1_kvth" />
        <column table="a" column="nach12_setevie_1_kvth" group="sum" as="nach12_setevie_1_kvth" />
        <column table="a" column="cust12_setevie_1_kvth" group="sum" as="cust12_setevie_1_kvth" />
        <column table="a" column="nach12_pr_dog_2_kvth" type="number" group="sum" as="nach12_pr_dog_2_kvth" />
        <column table="a" column="cust12_pr_dog_2_kvth" type="number" group="sum" as="cust12_pr_dog_2_kvth" />
        <column table="a" column="nach12_prochie_2_kvth" type="number" group="sum" as="nach12_prochie_2_kvth" />
        <column table="a" column="cust12_prochie_2_kvth" type="number" group="sum" as="cust12_prochie_2_kvth" />
        <column table="a" column="nach12_pr_dog_2_kvt" type="number" group="sum" as="nach12_pr_dog_2_kvt" />
        <column table="a" column="cust12_pr_dog_2_kvt" type="number" group="sum" as="cust12_pr_dog_2_kvt" />
        <column table="a" column="nach12_prochie_2_kvt" type="number" group="sum" as="nach12_prochie_2_kvt" />
        <column table="a" column="cust12_prochie_2_kvt" type="number" group="sum" as="cust12_prochie_2_kvt" />
      </select>
      <from>
        <query name="sqlb_rep_64651_tbl" as="a" />
      </from>
      <where>
        <call function="in">
          <column table="a" column="kod_dog" />
          <query>
            <select>
              <column table="rr" column="objid" as="objid" />
            </select>
            <from>
              <query name="rr_refprop" as="rr" />
              <query name="rs_refcode" join="inner" as="rs">
                <call function="=">
                  <column table="rr" column="kod_refcode" />
                  <column table="rs" column="kod_refcode" />
                </call>
              </query>
            </from>
            <where>
              <call function="in">
                <column table="rs" column="name" />
                <call function="array">
                  <const>'ВГО'</const>
                  <const>'ВГО БЕ СБЫТ'</const>
                </call>
              </call>
            </where>
          </query>
        </call>
      </where>
      <group>
        <column table="a" column="kod_dog" />
        <column table="a" column="ndog" />
        <column table="a" column="name_c" />
      </group>
      <order>
        <column column="a.kod_dog" />
      </order>
    </query>
    <query name="64651_vgo_v2" nogrid="1" order="a.kod_dog" timestamp="13.06.2025 22:15:28" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml" haskeys="1">
      <select>
        <column table="a" column="kod_dog" key="1" as="kod_dog" />
        <column table="a" column="payer_name" as="name_c" />
        <column table="a" column="ndog" as="ndog" />
        <call table="a" column="nach01_nas_kvth" group="sum" as="nach01_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_nas_kvth" group="sum" as="cust01_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_pr_dog_1_kvth" group="sum" as="nach01_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_pr_dog_1_kvth" group="sum" as="cust01_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_prochie_1_kvth" group="sum" as="nach01_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_prochie_1_kvth" group="sum" as="cust01_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_setevie_1_kvth" group="sum" as="nach01_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_setevie_1_kvth" group="sum" as="cust01_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_pr_dog_2_kvth" type="number" group="sum" as="nach01_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_pr_dog_2_kvth" type="number" group="sum" as="cust01_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_prochie_2_kvth" type="number" group="sum" as="nach01_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_prochie_2_kvth" type="number" group="sum" as="cust01_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_pr_dog_2_kvt" type="number" group="sum" as="nach01_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_pr_dog_2_kvt" type="number" group="sum" as="cust01_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_prochie_2_kvt" type="number" group="sum" as="nach01_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_prochie_2_kvt" type="number" group="sum" as="cust01_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_nas_kvth" group="sum" as="nach02_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_nas_kvth" group="sum" as="cust02_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_1_kvth" group="sum" as="nach02_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_pr_dog_1_kvth" group="sum" as="cust02_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_prochie_1_kvth" group="sum" as="nach02_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_prochie_1_kvth" group="sum" as="cust02_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_setevie_1_kvth" group="sum" as="nach02_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_setevie_1_kvth" group="sum" as="cust02_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_2_kvth" type="number" group="sum" as="nach02_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_pr_dog_2_kvth" type="number" group="sum" as="cust02_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_prochie_2_kvth" type="number" group="sum" as="nach02_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_prochie_2_kvth" type="number" group="sum" as="cust02_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_2_kvt" type="number" group="sum" as="nach02_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_pr_dog_2_kvt" type="number" group="sum" as="cust02_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_prochie_2_kvt" type="number" group="sum" as="nach02_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_prochie_2_kvt" type="number" group="sum" as="cust02_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_nas_kvth" group="sum" as="nach03_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_nas_kvth" group="sum" as="cust03_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_1_kvth" group="sum" as="nach03_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_pr_dog_1_kvth" group="sum" as="cust03_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_prochie_1_kvth" group="sum" as="nach03_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_prochie_1_kvth" group="sum" as="cust03_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_setevie_1_kvth" group="sum" as="nach03_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_setevie_1_kvth" group="sum" as="cust03_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_pr_dog_2_kvth" type="number" group="sum" as="nach03_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_pr_dog_2_kvth" type="number" group="sum" as="cust03_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_prochie_2_kvth" type="number" group="sum" as="nach03_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_prochie_2_kvth" type="number" group="sum" as="cust03_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_pr_dog_2_kvt" type="number" group="sum" as="nach03_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_pr_dog_2_kvt" type="number" group="sum" as="cust03_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_prochie_2_kvt" type="number" group="sum" as="nach03_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_prochie_2_kvt" type="number" group="sum" as="cust03_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_nas_kvth" group="sum" as="nach04_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_nas_kvth" group="sum" as="cust04_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_pr_dog_1_kvth" group="sum" as="nach04_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_pr_dog_1_kvth" group="sum" as="cust04_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_prochie_1_kvth" group="sum" as="nach04_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_prochie_1_kvth" group="sum" as="cust04_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_setevie_1_kvth" group="sum" as="nach04_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_setevie_1_kvth" group="sum" as="cust04_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_pr_dog_2_kvth" type="number" group="sum" as="nach04_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_pr_dog_2_kvth" type="number" group="sum" as="cust04_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_prochie_2_kvth" type="number" group="sum" as="nach04_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_prochie_2_kvth" type="number" group="sum" as="cust04_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_pr_dog_2_kvt" type="number" group="sum" as="nach04_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_pr_dog_2_kvt" type="number" group="sum" as="cust04_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_prochie_2_kvt" type="number" group="sum" as="nach04_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_prochie_2_kvt" type="number" group="sum" as="cust04_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_nas_kvth" group="sum" as="nach05_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_nas_kvth" group="sum" as="cust05_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_pr_dog_1_kvth" group="sum" as="nach05_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_pr_dog_1_kvth" group="sum" as="cust05_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_prochie_1_kvth" group="sum" as="nach05_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_prochie_1_kvth" group="sum" as="cust05_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_setevie_1_kvth" group="sum" as="nach05_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_setevie_1_kvth" group="sum" as="cust05_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_pr_dog_2_kvth" type="number" group="sum" as="nach05_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_pr_dog_2_kvth" type="number" group="sum" as="cust05_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_prochie_2_kvth" type="number" group="sum" as="nach05_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_prochie_2_kvth" type="number" group="sum" as="cust05_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_pr_dog_2_kvt" type="number" group="sum" as="nach05_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_pr_dog_2_kvt" type="number" group="sum" as="cust05_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_prochie_2_kvt" type="number" group="sum" as="nach05_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_prochie_2_kvt" type="number" group="sum" as="cust05_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_nas_kvth" group="sum" as="nach06_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_nas_kvth" group="sum" as="cust06_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_pr_dog_1_kvth" group="sum" as="nach06_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_pr_dog_1_kvth" group="sum" as="cust06_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_prochie_1_kvth" group="sum" as="nach06_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_prochie_1_kvth" group="sum" as="cust06_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_setevie_1_kvth" group="sum" as="nach06_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_setevie_1_kvth" group="sum" as="cust06_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_pr_dog_2_kvth" type="number" group="sum" as="nach06_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_pr_dog_2_kvth" type="number" group="sum" as="cust06_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_prochie_2_kvth" type="number" group="sum" as="nach06_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_prochie_2_kvth" type="number" group="sum" as="cust06_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_pr_dog_2_kvt" type="number" group="sum" as="nach06_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_pr_dog_2_kvt" type="number" group="sum" as="cust06_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_prochie_2_kvt" type="number" group="sum" as="nach06_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_prochie_2_kvt" type="number" group="sum" as="cust06_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_nas_kvth" group="sum" as="nach07_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_nas_kvth" group="sum" as="cust07_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_pr_dog_1_kvth" group="sum" as="nach07_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_pr_dog_1_kvth" group="sum" as="cust07_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_prochie_1_kvth" group="sum" as="nach07_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_prochie_1_kvth" group="sum" as="cust07_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_setevie_1_kvth" group="sum" as="nach07_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_setevie_1_kvth" group="sum" as="cust07_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_pr_dog_2_kvth" type="number" group="sum" as="nach07_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_pr_dog_2_kvth" type="number" group="sum" as="cust07_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_prochie_2_kvth" type="number" group="sum" as="nach07_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_prochie_2_kvth" type="number" group="sum" as="cust07_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_pr_dog_2_kvt" type="number" group="sum" as="nach07_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_pr_dog_2_kvt" type="number" group="sum" as="cust07_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_prochie_2_kvt" type="number" group="sum" as="nach07_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_prochie_2_kvt" type="number" group="sum" as="cust07_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_nas_kvth" group="sum" as="nach08_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_nas_kvth" group="sum" as="cust08_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_pr_dog_1_kvth" group="sum" as="nach08_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_pr_dog_1_kvth" group="sum" as="cust08_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_prochie_1_kvth" group="sum" as="nach08_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_prochie_1_kvth" group="sum" as="cust08_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_setevie_1_kvth" group="sum" as="nach08_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_setevie_1_kvth" group="sum" as="cust08_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_pr_dog_2_kvth" type="number" group="sum" as="nach08_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_pr_dog_2_kvth" type="number" group="sum" as="cust08_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_prochie_2_kvth" type="number" group="sum" as="nach08_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_prochie_2_kvth" type="number" group="sum" as="cust08_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_pr_dog_2_kvt" type="number" group="sum" as="nach08_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_pr_dog_2_kvt" type="number" group="sum" as="cust08_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_prochie_2_kvt" type="number" group="sum" as="nach08_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_prochie_2_kvt" type="number" group="sum" as="cust08_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_nas_kvth" group="sum" as="nach09_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_nas_kvth" group="sum" as="cust09_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_pr_dog_1_kvth" group="sum" as="nach09_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_pr_dog_1_kvth" group="sum" as="cust09_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_prochie_1_kvth" group="sum" as="nach09_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_prochie_1_kvth" group="sum" as="cust09_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_setevie_1_kvth" group="sum" as="nach09_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_setevie_1_kvth" group="sum" as="cust09_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_pr_dog_2_kvth" type="number" group="sum" as="nach09_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_pr_dog_2_kvth" type="number" group="sum" as="cust09_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_prochie_2_kvth" type="number" group="sum" as="nach09_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_prochie_2_kvth" type="number" group="sum" as="cust09_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_pr_dog_2_kvt" type="number" group="sum" as="nach09_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_pr_dog_2_kvt" type="number" group="sum" as="cust09_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_prochie_2_kvt" type="number" group="sum" as="nach09_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_prochie_2_kvt" type="number" group="sum" as="cust09_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_nas_kvth" group="sum" as="nach10_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_nas_kvth" group="sum" as="cust10_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_pr_dog_1_kvth" group="sum" as="nach10_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_pr_dog_1_kvth" group="sum" as="cust10_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_prochie_1_kvth" group="sum" as="nach10_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_prochie_1_kvth" group="sum" as="cust10_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_setevie_1_kvth" group="sum" as="nach10_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_setevie_1_kvth" group="sum" as="cust10_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_pr_dog_2_kvth" type="number" group="sum" as="nach10_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_pr_dog_2_kvth" type="number" group="sum" as="cust10_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_prochie_2_kvth" type="number" group="sum" as="nach10_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_prochie_2_kvth" type="number" group="sum" as="cust10_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_pr_dog_2_kvt" type="number" group="sum" as="nach10_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_pr_dog_2_kvt" type="number" group="sum" as="cust10_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_prochie_2_kvt" type="number" group="sum" as="nach10_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_prochie_2_kvt" type="number" group="sum" as="cust10_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_nas_kvth" group="sum" as="nach11_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_nas_kvth" group="sum" as="cust11_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_pr_dog_1_kvth" group="sum" as="nach11_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_pr_dog_1_kvth" group="sum" as="cust11_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_prochie_1_kvth" group="sum" as="nach11_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_prochie_1_kvth" group="sum" as="cust11_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_setevie_1_kvth" group="sum" as="nach11_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_setevie_1_kvth" group="sum" as="cust11_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_pr_dog_2_kvth" type="number" group="sum" as="nach11_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_pr_dog_2_kvth" type="number" group="sum" as="cust11_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_prochie_2_kvth" type="number" group="sum" as="nach11_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_prochie_2_kvth" type="number" group="sum" as="cust11_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_pr_dog_2_kvt" type="number" group="sum" as="nach11_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_pr_dog_2_kvt" type="number" group="sum" as="cust11_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_prochie_2_kvt" type="number" group="sum" as="nach11_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_prochie_2_kvt" type="number" group="sum" as="cust11_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_nas_kvth" group="sum" as="nach12_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_nas_kvth" group="sum" as="cust12_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_pr_dog_1_kvth" group="sum" as="nach12_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_pr_dog_1_kvth" group="sum" as="cust12_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_prochie_1_kvth" group="sum" as="nach12_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_prochie_1_kvth" group="sum" as="cust12_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_setevie_1_kvth" group="sum" as="nach12_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_setevie_1_kvth" group="sum" as="cust12_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_pr_dog_2_kvth" type="number" group="sum" as="nach12_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_pr_dog_2_kvth" type="number" group="sum" as="cust12_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_prochie_2_kvth" type="number" group="sum" as="nach12_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_prochie_2_kvth" type="number" group="sum" as="cust12_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_pr_dog_2_kvt" type="number" group="sum" as="nach12_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_pr_dog_2_kvt" type="number" group="sum" as="cust12_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_prochie_2_kvt" type="number" group="sum" as="nach12_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_prochie_2_kvt" type="number" group="sum" as="cust12_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
      </select>
      <from>
        <query name="sqlb_rep_64651_v2_tbl" as="a" />
      </from>
      <where>
        <call function="in">
          <column table="a" column="kod_dog" />
          <query>
            <select>
              <column table="rr" column="objid" as="objid" />
            </select>
            <from>
              <query name="rr_refprop" as="rr" />
              <query name="rs_refcode" join="inner" as="rs">
                <call function="=">
                  <column table="rr" column="kod_refcode" />
                  <column table="rs" column="kod_refcode" />
                </call>
              </query>
            </from>
            <where>
              <call function="in">
                <column table="rs" column="name" />
                <call function="array">
                  <const>'ВГО'</const>
                  <const>'ВГО БЕ СБЫТ'</const>
                </call>
              </call>
            </where>
          </query>
        </call>
      </where>
      <group>
        <column table="a" column="kod_dog" />
        <column table="a" column="ndog" />
        <column table="a" column="payer_name" />
      </group>
      <order>
        <column column="a.kod_dog" />
      </order>
    </query>
    <query name="64651_total_v2" nogrid="1" timestamp="13.06.2025 22:49:47" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml" haskeys="1">
      <select>
        <call as="sqlb_rep_64651_tbl_id" type="string" function="rowid" group="count" key="1" />
        <call table="a" column="nach01_nas_kvth" group="sum" as="nach01_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_nas_kvth" group="sum" as="cust01_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_pr_dog_1_kvth" group="sum" as="nach01_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_pr_dog_1_kvth" group="sum" as="cust01_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_prochie_1_kvth" group="sum" as="nach01_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_prochie_1_kvth" group="sum" as="cust01_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_setevie_1_kvth" group="sum" as="nach01_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_setevie_1_kvth" group="sum" as="cust01_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_pr_dog_2_kvth" type="number" group="sum" as="nach01_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_pr_dog_2_kvth" type="number" group="sum" as="cust01_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_prochie_2_kvth" type="number" group="sum" as="nach01_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_prochie_2_kvth" type="number" group="sum" as="cust01_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_pr_dog_2_kvt" type="number" group="sum" as="nach01_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_pr_dog_2_kvt" type="number" group="sum" as="cust01_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach01_prochie_2_kvt" type="number" group="sum" as="nach01_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust01_prochie_2_kvt" type="number" group="sum" as="cust01_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">01</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_nas_kvth" group="sum" as="nach02_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_nas_kvth" group="sum" as="cust02_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_1_kvth" group="sum" as="nach02_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_pr_dog_1_kvth" group="sum" as="cust02_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_prochie_1_kvth" group="sum" as="nach02_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_prochie_1_kvth" group="sum" as="cust02_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_setevie_1_kvth" group="sum" as="nach02_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_setevie_1_kvth" group="sum" as="cust02_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_2_kvth" type="number" group="sum" as="nach02_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_pr_dog_2_kvth" type="number" group="sum" as="cust02_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_prochie_2_kvth" type="number" group="sum" as="nach02_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_prochie_2_kvth" type="number" group="sum" as="cust02_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_2_kvt" type="number" group="sum" as="nach02_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_pr_dog_2_kvt" type="number" group="sum" as="cust02_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_prochie_2_kvt" type="number" group="sum" as="nach02_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust02_prochie_2_kvt" type="number" group="sum" as="cust02_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">02</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_nas_kvth" group="sum" as="nach03_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_nas_kvth" group="sum" as="cust03_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach02_pr_dog_1_kvth" group="sum" as="nach03_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_pr_dog_1_kvth" group="sum" as="cust03_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_prochie_1_kvth" group="sum" as="nach03_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_prochie_1_kvth" group="sum" as="cust03_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_setevie_1_kvth" group="sum" as="nach03_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_setevie_1_kvth" group="sum" as="cust03_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_pr_dog_2_kvth" type="number" group="sum" as="nach03_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_pr_dog_2_kvth" type="number" group="sum" as="cust03_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_prochie_2_kvth" type="number" group="sum" as="nach03_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_prochie_2_kvth" type="number" group="sum" as="cust03_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_pr_dog_2_kvt" type="number" group="sum" as="nach03_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_pr_dog_2_kvt" type="number" group="sum" as="cust03_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach03_prochie_2_kvt" type="number" group="sum" as="nach03_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust03_prochie_2_kvt" type="number" group="sum" as="cust03_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">03</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_nas_kvth" group="sum" as="nach04_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_nas_kvth" group="sum" as="cust04_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_pr_dog_1_kvth" group="sum" as="nach04_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_pr_dog_1_kvth" group="sum" as="cust04_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_prochie_1_kvth" group="sum" as="nach04_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_prochie_1_kvth" group="sum" as="cust04_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_setevie_1_kvth" group="sum" as="nach04_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_setevie_1_kvth" group="sum" as="cust04_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_pr_dog_2_kvth" type="number" group="sum" as="nach04_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_pr_dog_2_kvth" type="number" group="sum" as="cust04_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_prochie_2_kvth" type="number" group="sum" as="nach04_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_prochie_2_kvth" type="number" group="sum" as="cust04_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_pr_dog_2_kvt" type="number" group="sum" as="nach04_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_pr_dog_2_kvt" type="number" group="sum" as="cust04_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach04_prochie_2_kvt" type="number" group="sum" as="nach04_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust04_prochie_2_kvt" type="number" group="sum" as="cust04_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">04</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_nas_kvth" group="sum" as="nach05_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_nas_kvth" group="sum" as="cust05_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_pr_dog_1_kvth" group="sum" as="nach05_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_pr_dog_1_kvth" group="sum" as="cust05_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_prochie_1_kvth" group="sum" as="nach05_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_prochie_1_kvth" group="sum" as="cust05_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_setevie_1_kvth" group="sum" as="nach05_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_setevie_1_kvth" group="sum" as="cust05_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_pr_dog_2_kvth" type="number" group="sum" as="nach05_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_pr_dog_2_kvth" type="number" group="sum" as="cust05_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_prochie_2_kvth" type="number" group="sum" as="nach05_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_prochie_2_kvth" type="number" group="sum" as="cust05_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_pr_dog_2_kvt" type="number" group="sum" as="nach05_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_pr_dog_2_kvt" type="number" group="sum" as="cust05_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach05_prochie_2_kvt" type="number" group="sum" as="nach05_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust05_prochie_2_kvt" type="number" group="sum" as="cust05_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">05</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_nas_kvth" group="sum" as="nach06_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_nas_kvth" group="sum" as="cust06_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_pr_dog_1_kvth" group="sum" as="nach06_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_pr_dog_1_kvth" group="sum" as="cust06_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_prochie_1_kvth" group="sum" as="nach06_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_prochie_1_kvth" group="sum" as="cust06_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_setevie_1_kvth" group="sum" as="nach06_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_setevie_1_kvth" group="sum" as="cust06_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_pr_dog_2_kvth" type="number" group="sum" as="nach06_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_pr_dog_2_kvth" type="number" group="sum" as="cust06_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_prochie_2_kvth" type="number" group="sum" as="nach06_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_prochie_2_kvth" type="number" group="sum" as="cust06_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_pr_dog_2_kvt" type="number" group="sum" as="nach06_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_pr_dog_2_kvt" type="number" group="sum" as="cust06_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach06_prochie_2_kvt" type="number" group="sum" as="nach06_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust06_prochie_2_kvt" type="number" group="sum" as="cust06_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">06</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_nas_kvth" group="sum" as="nach07_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_nas_kvth" group="sum" as="cust07_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_pr_dog_1_kvth" group="sum" as="nach07_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_pr_dog_1_kvth" group="sum" as="cust07_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_prochie_1_kvth" group="sum" as="nach07_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_prochie_1_kvth" group="sum" as="cust07_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_setevie_1_kvth" group="sum" as="nach07_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_setevie_1_kvth" group="sum" as="cust07_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_pr_dog_2_kvth" type="number" group="sum" as="nach07_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_pr_dog_2_kvth" type="number" group="sum" as="cust07_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_prochie_2_kvth" type="number" group="sum" as="nach07_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_prochie_2_kvth" type="number" group="sum" as="cust07_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_pr_dog_2_kvt" type="number" group="sum" as="nach07_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_pr_dog_2_kvt" type="number" group="sum" as="cust07_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach07_prochie_2_kvt" type="number" group="sum" as="nach07_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust07_prochie_2_kvt" type="number" group="sum" as="cust07_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">07</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_nas_kvth" group="sum" as="nach08_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_nas_kvth" group="sum" as="cust08_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_pr_dog_1_kvth" group="sum" as="nach08_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_pr_dog_1_kvth" group="sum" as="cust08_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_prochie_1_kvth" group="sum" as="nach08_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_prochie_1_kvth" group="sum" as="cust08_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_setevie_1_kvth" group="sum" as="nach08_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_setevie_1_kvth" group="sum" as="cust08_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_pr_dog_2_kvth" type="number" group="sum" as="nach08_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_pr_dog_2_kvth" type="number" group="sum" as="cust08_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_prochie_2_kvth" type="number" group="sum" as="nach08_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_prochie_2_kvth" type="number" group="sum" as="cust08_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_pr_dog_2_kvt" type="number" group="sum" as="nach08_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_pr_dog_2_kvt" type="number" group="sum" as="cust08_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach08_prochie_2_kvt" type="number" group="sum" as="nach08_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust08_prochie_2_kvt" type="number" group="sum" as="cust08_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">08</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_nas_kvth" group="sum" as="nach09_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_nas_kvth" group="sum" as="cust09_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_pr_dog_1_kvth" group="sum" as="nach09_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_pr_dog_1_kvth" group="sum" as="cust09_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_prochie_1_kvth" group="sum" as="nach09_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_prochie_1_kvth" group="sum" as="cust09_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_setevie_1_kvth" group="sum" as="nach09_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_setevie_1_kvth" group="sum" as="cust09_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_pr_dog_2_kvth" type="number" group="sum" as="nach09_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_pr_dog_2_kvth" type="number" group="sum" as="cust09_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_prochie_2_kvth" type="number" group="sum" as="nach09_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_prochie_2_kvth" type="number" group="sum" as="cust09_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_pr_dog_2_kvt" type="number" group="sum" as="nach09_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_pr_dog_2_kvt" type="number" group="sum" as="cust09_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach09_prochie_2_kvt" type="number" group="sum" as="nach09_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust09_prochie_2_kvt" type="number" group="sum" as="cust09_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">09</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_nas_kvth" group="sum" as="nach10_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_nas_kvth" group="sum" as="cust10_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_pr_dog_1_kvth" group="sum" as="nach10_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_pr_dog_1_kvth" group="sum" as="cust10_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_prochie_1_kvth" group="sum" as="nach10_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_prochie_1_kvth" group="sum" as="cust10_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_setevie_1_kvth" group="sum" as="nach10_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_setevie_1_kvth" group="sum" as="cust10_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_pr_dog_2_kvth" type="number" group="sum" as="nach10_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_pr_dog_2_kvth" type="number" group="sum" as="cust10_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_prochie_2_kvth" type="number" group="sum" as="nach10_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_prochie_2_kvth" type="number" group="sum" as="cust10_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_pr_dog_2_kvt" type="number" group="sum" as="nach10_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_pr_dog_2_kvt" type="number" group="sum" as="cust10_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach10_prochie_2_kvt" type="number" group="sum" as="nach10_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust10_prochie_2_kvt" type="number" group="sum" as="cust10_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">10</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_nas_kvth" group="sum" as="nach11_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_nas_kvth" group="sum" as="cust11_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_pr_dog_1_kvth" group="sum" as="nach11_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_pr_dog_1_kvth" group="sum" as="cust11_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_prochie_1_kvth" group="sum" as="nach11_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_prochie_1_kvth" group="sum" as="cust11_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_setevie_1_kvth" group="sum" as="nach11_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_setevie_1_kvth" group="sum" as="cust11_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_pr_dog_2_kvth" type="number" group="sum" as="nach11_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_pr_dog_2_kvth" type="number" group="sum" as="cust11_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_prochie_2_kvth" type="number" group="sum" as="nach11_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_prochie_2_kvth" type="number" group="sum" as="cust11_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_pr_dog_2_kvt" type="number" group="sum" as="nach11_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_pr_dog_2_kvt" type="number" group="sum" as="cust11_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach11_prochie_2_kvt" type="number" group="sum" as="nach11_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust11_prochie_2_kvt" type="number" group="sum" as="cust11_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">11</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_nas_kvth" group="sum" as="nach12_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_nas_kvth" group="sum" as="cust12_nas_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_nas_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_pr_dog_1_kvth" group="sum" as="nach12_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_pr_dog_1_kvth" group="sum" as="cust12_pr_dog_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_pr_dog_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_prochie_1_kvth" group="sum" as="nach12_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_prochie_1_kvth" group="sum" as="cust12_prochie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_prochie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_setevie_1_kvth" group="sum" as="nach12_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_setevie_1_kvth" group="sum" as="cust12_setevie_1_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_setevie_1_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_pr_dog_2_kvth" type="number" group="sum" as="nach12_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_pr_dog_2_kvth" type="number" group="sum" as="cust12_pr_dog_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_prochie_2_kvth" type="number" group="sum" as="nach12_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_prochie_2_kvth" type="number" group="sum" as="cust12_prochie_2_kvth" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_prochie_2_kvth" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_pr_dog_2_kvt" type="number" group="sum" as="nach12_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_pr_dog_2_kvt" type="number" group="sum" as="cust12_pr_dog_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_pr_dog_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="nach12_prochie_2_kvt" type="number" group="sum" as="nach12_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="nach_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
        <call table="a" column="cust12_prochie_2_kvt" type="number" group="sum" as="cust12_prochie_2_kvt" function="if">
          <call function="=">
            <call table="a" column="ym" function="mes">
              <column table="a" column="ym" />
            </call>
            <const type="number">12</const>
          </call>
          <column table="a" column="cust_prochie_2_kvt" />
          <const type="number">0</const>
        </call>
      </select>
      <from>
        <query name="sqlb_rep_64651_v2_tbl" as="a" />
      </from>
    </query>
    <query name="64809" title="Основной запрос отчёта 64809" order="year,month,ndog,object_name,price_category,resource_name" timestamp="08.05.2024 14:04:09" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64809.xml">
      <select>
        <column table="a" column="*" as="*" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64809_tbl" as="a" />
      </from>
      <order>
        <column column="year" />
        <column column="month" />
        <column column="ndog" />
        <column column="object_name" />
        <column column="price_category" />
        <column column="resource_name" />
      </order>
    </query>
    <query name="64879-data" nogrid="1" timestamp="07.02.2025 19:18:34" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="dog" column="dep" as="dep" key="0" />
        <column table="a" column="kod" as="kod" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="inn" title="ИНН" as="inn" key="0" />
        <column table="a" column="ndog" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" as="payer_name" key="0" />
        <column table="a" column="gtp_name" title="Поставщик" as="gtp_name" key="0" />
        <column table="a" column="vid_uslugi" as="kod_uslugi" reference="ies_garant_spr_vid_uslugi" refcol="id" key="0" />
        <column table="vid_uslugi" column="name" as="vid_uslugi" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="rym" as="rym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" reference="ies_garant_spr_ck_1" refcol="id" key="0" />
        <column table="ck" column="name" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" reference="ies_garant_spr_mvt_1" refcol="id" key="0" />
        <column table="mvt" column="name" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" reference="ies_garant_spr_vidacc_1" refcol="id" key="0" />
        <column table="vidacc" column="name" as="name_vidacc" key="0" />
        <column table="a" column="fsk_cust" title="ФСК кВт*ч" as="fsk_cust" key="0" />
        <column table="a" column="fsk_nach" title="ФСК руб." as="fsk_nach" key="0" />
        <column table="a" column="gn_vn_cust" title="ГН-ВН кВт*ч" as="gn_vn_cust" key="0" />
        <column table="a" column="gn_vn_nach" title="ГН-ВН руб." as="gn_vn_nach" key="0" />
        <column table="a" column="gn_sn2_cust" title="ГН-СН2 кВт*ч" as="gn_sn2_cust" key="0" />
        <column table="a" column="gn_sn2_nach" title="ГН-СН2 руб." as="gn_sn2_nach" key="0" />
        <column table="a" column="vn_cust" title="ВН кВт*ч" as="vn_cust" key="0" />
        <column table="a" column="vn_nach" title="ВН руб." as="vn_nach" key="0" />
        <column table="a" column="sn1_cust" title="СН1 кВт*ч" as="sn1_cust" key="0" />
        <column table="a" column="sn1_nach" title="СН1 руб." as="sn1_nach" key="0" />
        <column table="a" column="sn2_cust" title="СН2 кВт*ч" as="sn2_cust" key="0" />
        <column table="a" column="sn2_nach" title="СН2 руб." as="sn2_nach" key="0" />
        <column table="a" column="nn_cust" title="НН кВт*ч" as="nn_cust" key="0" />
        <column table="a" column="nn_nach" title="НН руб." as="nn_nach" key="0" />
        <column table="a" column="itog_cust" title="Итого кВт*ч" as="itog_cust" key="0" />
        <column table="a" column="itog_nach" title="Итого руб." as="itog_nach" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64879_tbl" as="a" />
        <query name="kr_dogovor" join="left outer" as="dog" dname="64879-data" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="dog" column="kod_dog" />
          </call>
        </query>
        <query name="ies_garant_spr_ck_1" as="ck" join="left outer" dname="64879-data" title="Ценовая категория">
          <call function="=">
            <column table="a" column="kod_ck" />
            <column table="ck" column="id" />
          </call>
        </query>
        <query name="ies_garant_spr_mvt_1" as="mvt" join="left outer" dname="64879-data" title="Группы мощности">
          <call function="=">
            <column table="a" column="kod_mvt" />
            <column table="mvt" column="id" />
          </call>
        </query>
        <query name="ies_garant_spr_vidacc_1" as="vidacc" join="left outer" dname="64879-data">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <column table="vidacc" column="id" />
          </call>
        </query>
        <query name="ies_garant_spr_vid_uslugi" join="left outer" as="vid_uslugi" dname="64879-data" title="Вид услуги">
          <call function="=">
            <column table="a" column="vid_uslugi" />
            <column table="vid_uslugi" column="id" />
          </call>
        </query>
      </from>
    </query>
    <query name="64879-dog" nogrid="1" timestamp="07.02.2025 19:28:24" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="a" column="dep" as="dep" key="0" />
        <column table="a" column="kod" as="kod" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="inn" group="max" as="inn" key="0" />
        <column table="a" column="ndog" title="№ договора" group="max" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" group="max" as="payer_name" key="0" />
        <column table="a" column="gtp_name" title="Поставщик" as="gtp_name" key="0" />
        <column table="a" column="kod_uslugi" as="kod_uslugi" key="0" />
        <column table="a" column="vid_uslugi" group="max" as="vid_uslugi" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="rym" as="rym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" key="0" />
        <column table="a" column="name_ck" group="max" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" key="0" />
        <column table="a" column="name_mvt" group="max" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" key="0" />
        <column table="a" column="name_vidacc" group="max" as="name_vidacc" key="0" />
        <call function="if" title="ГН-ВН кВт*ч" group="sum" as="gn_vn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН кВт*ч" group="sum" as="gn_vn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН кВт*ч" group="sum" nvl="0" as="gn_vn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН кВт*ч" group="sum" nvl="0" as="gn_vn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН руб." group="sum" nvl="0" as="gn_vn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_vn_nach" />
        </call>
        <call function="if" title="ГН-ВН руб." group="sum" nvl="0" as="gn_vn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_vn_nach" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" as="gn_sn2_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" as="gn_sn2_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" nvl="0" as="gn_sn2_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" nvl="0" as="gn_sn2_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 руб." group="sum" nvl="0" as="gn_sn2_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_sn2_nach" />
        </call>
        <call function="if" title="ГН-СН2 руб." group="sum" nvl="0" as="gn_sn2_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_sn2_nach" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК руб." group="sum" nvl="0" as="fsk_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_nach" />
        </call>
        <call function="if" title="ФСК руб." group="sum" nvl="0" as="fsk_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="fsk_nach" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" as="vn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" as="vn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" nvl="0" as="vn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" nvl="0" as="vn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН руб." group="sum" nvl="0" as="vn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="vn_nach" />
        </call>
        <call function="if" title="ВН руб." group="sum" nvl="0" as="vn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="vn_nach" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" as="sn1_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" as="sn1_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" nvl="0" as="sn1_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" nvl="0" as="sn1_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 руб." group="sum" nvl="0" as="sn1_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_nach" />
        </call>
        <call function="if" title="СН1 руб." group="sum" nvl="0" as="sn1_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn1_nach" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" as="sn2_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" as="sn2_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" nvl="0" as="sn2_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" nvl="0" as="sn2_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 руб." group="sum" nvl="0" as="sn2_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_nach" />
        </call>
        <call function="if" title="СН2 руб." group="sum" nvl="0" as="sn2_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn2_nach" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" as="nn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" as="nn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" nvl="0" as="nn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" nvl="0" as="nn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН руб." group="sum" nvl="0" as="nn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="nn_nach" />
        </call>
        <call function="if" title="НН руб." group="sum" nvl="0" as="nn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="nn_nach" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" nvl="0" as="itog_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" nvl="0" as="itog_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого руб." group="sum" nvl="0" as="itog_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="itog_nach" />
        </call>
        <call function="if" title="Итого руб." group="sum" nvl="0" as="itog_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="itog_nach" />
        </call>
      </select>
      <from>
        <query name="64879-data" as="a" />
        <query name="kr_dogovor" join="left outer" as="k" dname="64879-dog" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="k" column="kod_dog" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="dog">
            <group>
              <column table="a" column="kod_dog" />
            </group>
            <grset as="itogvc">
              <group>
                <column table="a" column="kod_vidacc" />
              </group>
            </grset>
            <grset as="gtp">
              <group>
                <column table="a" column="gtp_name" />
              </group>
              <grset as="gitogvc">
                <group>
                  <column table="a" column="kod_vidacc" />
                </group>
              </grset>
              <grset as="ck">
                <group>
                  <column table="a" column="kod_ck" />
                </group>
                <grset as="mvt">
                  <group>
                    <column table="a" column="kod_mvt" />
                  </group>
                  <grset as="vidacc">
                    <group>
                      <column table="a" column="kod_vidacc" />
                    </group>
                  </grset>
                </grset>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="64879-gtp" nogrid="1" timestamp="15.08.2023 14:44:44" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="a" column="dep" as="dep" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="inn" as="inn" key="0" />
        <column table="a" column="ndog" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" as="payer_name" key="0" />
        <column table="a" column="gtp_name" title="Поставщик" as="gtp_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="rym" as="rym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" key="0" />
        <column table="a" column="name_ck" group="max" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" key="0" />
        <column table="a" column="name_mvt" group="max" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" key="0" />
        <column table="a" column="name_vidacc" group="max" as="name_vidacc" key="0" />
        <call function="if" title="ГН кВт*ч" group="sum" as="gn_cast1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="gn_cast" />
        </call>
        <column table="a" column="gn_cast" title="ГН кВт*ч" group="sum" nvl="0" as="gn_cast" key="0" />
        <column table="a" column="gn_nach" title="ГН руб." group="sum" nvl="0" as="gn_nach" key="0" />
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_cast1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_cast" />
        </call>
        <column table="a" column="fsk_cast" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_cast" key="0" />
        <column table="a" column="fsk_nach" title="ФСК руб." group="sum" nvl="0" as="fsk_nach" key="0" />
        <call function="if" title="ВН кВт*ч" group="sum" as="vn_cast1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="vn_cast" />
        </call>
        <column table="a" column="vn_cast" title="ВН кВт*ч" group="sum" nvl="0" as="vn_cast" key="0" />
        <column table="a" column="vn_nach" title="ВН руб." group="sum" nvl="0" as="vn_nach" key="0" />
        <call function="if" title="СН1 кВт*ч" group="sum" as="sn1_cast1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_cast" />
        </call>
        <column table="a" column="sn1_cast" title="СН1 кВт*ч" group="sum" nvl="0" as="sn1_cast" key="0" />
        <column table="a" column="sn1_nach" title="СН1 руб." group="sum" nvl="0" as="sn1_nach" key="0" />
        <call function="if" title="СН2 кВт*ч" group="sum" as="sn2_cast1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_cast" />
        </call>
        <column table="a" column="sn2_cast" title="СН2 кВт*ч" group="sum" nvl="0" as="sn2_cast" key="0" />
        <column table="a" column="sn2_nach" title="СН2 руб." group="sum" nvl="0" as="sn2_nach" key="0" />
        <call function="if" title="НН кВт*ч" group="sum" as="nn_cast1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="nn_cast" />
        </call>
        <column table="a" column="nn_cast" title="НН кВт*ч" group="sum" nvl="0" as="nn_cast" key="0" />
        <column table="a" column="nn_nach" title="НН руб." group="sum" nvl="0" as="nn_nach" key="0" />
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_cast1" nvl="0" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod_vidacc" />
            <const>1</const>
          </call>
          <column table="a" column="itog_cast" />
        </call>
        <column table="a" column="itog_cast" title="Итого кВт*ч" group="sum" nvl="0" as="itog_cast" key="0" />
        <column table="a" column="itog_nach" title="Итого руб." group="sum" nvl="0" as="itog_nach" key="0" />
      </select>
      <from>
        <query name="64879-data" as="a" />
        <query name="kr_dogovor" join="left outer" as="k" dname="64879-gtp" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="k" column="kod_dog" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="gtp">
          <group>
            <column table="a" column="gtp_name" />
          </group>
          <grset as="itogvc">
            <group>
              <column table="a" column="kod_vidacc" />
            </group>
          </grset>
          <grset as="ck">
            <group>
              <column table="a" column="kod_ck" />
            </group>
            <grset as="mvt">
              <group>
                <column table="a" column="kod_mvt" />
              </group>
              <grset as="vidacc">
                <group>
                  <column table="a" column="kod_vidacc" />
                </group>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="64879-itog-all" nogrid="1" timestamp="24.08.2023 17:10:36" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="a" column="dep" as="dep" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="inn" as="inn" key="0" />
        <column table="a" column="ndog" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" as="payer_name" key="0" />
        <column table="a" column="gtp_name" title="Наименование клиента" as="gtp_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="rym" as="rym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" key="0" />
        <column table="a" column="name_ck" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" key="0" />
        <column table="a" column="name_mvt" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" key="0" />
        <column table="a" column="name_vidacc" as="name_vidacc" key="0" />
        <call function="if" title="ГН кВт*ч" group="sum" as="gn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="gn_cust" />
        </call>
        <call function="if" title="ГН кВт*ч" group="sum" as="gn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="gn_cust" />
        </call>
        <call function="if" title="ГН кВт*ч" group="sum" nvl="0" as="gn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_cust" />
        </call>
        <call function="if" title="ГН кВт*ч" group="sum" nvl="0" as="gn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_cust" />
        </call>
        <call function="if" title="ГН руб." group="sum" nvl="0" as="gn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_nach" />
        </call>
        <call function="if" title="ГН руб." group="sum" nvl="0" as="gn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_nach" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК руб." group="sum" nvl="0" as="fsk_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_nach" />
        </call>
        <call function="if" title="ФСК руб." group="sum" nvl="0" as="fsk_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="fsk_nach" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" as="vn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" as="vn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" nvl="0" as="vn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" nvl="0" as="vn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН руб." group="sum" nvl="0" as="vn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="vn_nach" />
        </call>
        <call function="if" title="ВН руб." group="sum" nvl="0" as="vn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="vn_nach" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" as="sn1_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" as="sn1_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" nvl="0" as="sn1_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" nvl="0" as="sn1_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 руб." group="sum" nvl="0" as="sn1_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_nach" />
        </call>
        <call function="if" title="СН1 руб." group="sum" nvl="0" as="sn1_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn1_nach" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" as="sn2_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" as="sn2_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" nvl="0" as="sn2_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" nvl="0" as="sn2_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 руб." group="sum" nvl="0" as="sn2_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_nach" />
        </call>
        <call function="if" title="СН2 руб." group="sum" nvl="0" as="sn2_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn2_nach" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" as="nn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" as="nn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" nvl="0" as="nn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" nvl="0" as="nn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН руб." group="sum" nvl="0" as="nn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="nn_nach" />
        </call>
        <call function="if" title="НН руб." group="sum" nvl="0" as="nn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="nn_nach" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" nvl="0" as="itog_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" nvl="0" as="itog_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого руб." group="sum" nvl="0" as="itog_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="itog_nach" />
        </call>
        <call function="if" title="Итого руб." group="sum" nvl="0" as="itog_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="itog_nach" />
        </call>
      </select>
      <from>
        <query name="64879-data" as="a" />
        <query name="kr_dogovor" join="left outer" as="k" dname="64879-itog-all" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="k" column="kod_dog" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <group>
            <column table="a" column="dep" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="64879-itog-all_vidacc" nogrid="1" timestamp="07.02.2025 19:34:24" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="a" column="dep" as="dep" key="0" />
        <column table="a" column="kod_dog" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="inn" as="inn" key="0" />
        <column table="a" column="ndog" title="№ договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование клиента" as="payer_name" key="0" />
        <column table="a" column="gtp_name" title="Наименование клиента" as="gtp_name" key="0" />
        <column table="a" column="ym" as="ym" key="0" />
        <column table="a" column="rym" as="rym" key="0" />
        <column table="a" column="kod_ck" as="kod_ck" key="0" />
        <column table="a" column="name_ck" as="name_ck" key="0" />
        <column table="a" column="kod_mvt" as="kod_mvt" key="0" />
        <column table="a" column="name_mvt" as="name_mvt" key="0" />
        <column table="a" column="kod_vidacc" as="kod_vidacc" key="0" />
        <column table="a" column="name_vidacc" as="name_vidacc" key="0" />
        <call function="if" title="ГН-ВН кВт*ч" group="sum" as="gn_vn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН кВт*ч" group="sum" as="gn_vn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН кВт*ч" group="sum" nvl="0" as="gn_vn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН кВт*ч" group="sum" nvl="0" as="gn_vn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_vn_cust" />
        </call>
        <call function="if" title="ГН-ВН руб." group="sum" nvl="0" as="gn_vn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_vn_nach" />
        </call>
        <call function="if" title="ГН-ВН руб." group="sum" nvl="0" as="gn_vn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_vn_nach" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" as="gn_sn2_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" as="gn_sn2_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" nvl="0" as="gn_sn2_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 кВт*ч" group="sum" nvl="0" as="gn_sn2_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_sn2_cust" />
        </call>
        <call function="if" title="ГН-СН2 руб." group="sum" nvl="0" as="gn_sn2_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="gn_sn2_nach" />
        </call>
        <call function="if" title="ГН-СН2 руб." group="sum" nvl="0" as="gn_sn2_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="gn_sn2_nach" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" as="fsk_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК кВт*ч" group="sum" nvl="0" as="fsk_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="fsk_cust" />
        </call>
        <call function="if" title="ФСК руб." group="sum" nvl="0" as="fsk_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="fsk_nach" />
        </call>
        <call function="if" title="ФСК руб." group="sum" nvl="0" as="fsk_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="fsk_nach" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" as="vn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" as="vn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" nvl="0" as="vn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН кВт*ч" group="sum" nvl="0" as="vn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="vn_cust" />
        </call>
        <call function="if" title="ВН руб." group="sum" nvl="0" as="vn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="vn_nach" />
        </call>
        <call function="if" title="ВН руб." group="sum" nvl="0" as="vn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="vn_nach" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" as="sn1_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" as="sn1_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" nvl="0" as="sn1_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 кВт*ч" group="sum" nvl="0" as="sn1_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn1_cust" />
        </call>
        <call function="if" title="СН1 руб." group="sum" nvl="0" as="sn1_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn1_nach" />
        </call>
        <call function="if" title="СН1 руб." group="sum" nvl="0" as="sn1_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn1_nach" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" as="sn2_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" as="sn2_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" nvl="0" as="sn2_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 кВт*ч" group="sum" nvl="0" as="sn2_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn2_cust" />
        </call>
        <call function="if" title="СН2 руб." group="sum" nvl="0" as="sn2_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="sn2_nach" />
        </call>
        <call function="if" title="СН2 руб." group="sum" nvl="0" as="sn2_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="sn2_nach" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" as="nn_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" as="nn_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" nvl="0" as="nn_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН кВт*ч" group="sum" nvl="0" as="nn_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="nn_cust" />
        </call>
        <call function="if" title="НН руб." group="sum" nvl="0" as="nn_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="nn_nach" />
        </call>
        <call function="if" title="НН руб." group="sum" nvl="0" as="nn_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="nn_nach" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_cust1" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>1</const>
            </call>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" as="itog_cust1_uslugi" nvl="0" ifaplyed="1" key="0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_vidacc" />
              <const>1</const>
            </call>
            <call function="=">
              <column table="a" column="kod" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" nvl="0" as="itog_cust" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого кВт*ч" group="sum" nvl="0" as="itog_cust_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="itog_cust" />
        </call>
        <call function="if" title="Итого руб." group="sum" nvl="0" as="itog_nach" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>1</const>
          </call>
          <column table="a" column="itog_nach" />
        </call>
        <call function="if" title="Итого руб." group="sum" nvl="0" as="itog_nach_uslugi" ifaplyed="1" key="0">
          <call function="=">
            <column table="a" column="kod" />
            <const>2</const>
          </call>
          <column table="a" column="itog_nach" />
        </call>
      </select>
      <from>
        <query name="64879-data" as="a" />
        <query name="kr_dogovor" join="left outer" as="k" dname="64879-itog-all_vidacc" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="k" column="kod_dog" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <group>
            <column table="this" column="kod_vidacc" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="ies_garant_spr_ck_1" order="id" title="Ценовая категория" timestamp="22.08.2023 13:06:51" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'1ЦК КП'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>2</const>
                <const>'1ЦК ЭС'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>3</const>
                <const>'2ЦК КП'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>4</const>
                <const>'2ЦК ЭС'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>5</const>
                <const>'3ЦК КП'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>6</const>
                <const>'3ЦК ЭС'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>7</const>
                <const>'4ЦК КП'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>8</const>
                <const>'4ЦК ЭС'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>9</const>
                <const>'5ЦК КП'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>10</const>
                <const>'5ЦК ЭС'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>11</const>
                <const>'6ЦК КП'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>12</const>
                <const>'6ЦК ЭС'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="ies_garant_spr_vidacc_1" order="id" timestamp="22.08.2023 13:24:49" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'электроэнергия'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>2</const>
                <const>'ген. мощность, кВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>3</const>
                <const>' сет. мощность, кВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="ies_garant_spr_mvt_1" order="id" title="Группы мощности" timestamp="22.08.2023 13:39:22" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'макс. мощность менее 670 кВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>2</const>
                <const>'макс. мощность от 670 кВт до 10 МВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>3</const>
                <const>'макс. мощностью св. 10 МВт'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="ies_garant_spr_vid_uslugi" order="id" title="Вид услуги" timestamp="25.08.2023 14:33:48" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="u" column="*" as="*" key="0" />
      </select>
      <from>
        <query as="u">
          <union>
            <query haskeys="1">
              <select>
                <const as="id" type="number" key="1" fixed="1">1</const>
                <const as="name" type="string" key="0">'одноставочная ЭЭ'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>2</const>
                <const>'двуставочная ЭЭ'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>3</const>
                <const>'одноставочная ЭМУ'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>4</const>
                <const>'двуставочная ЭМУ'</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
      <order>
        <column column="id" />
      </order>
    </query>
    <query name="64879_v2_data" timestamp="22.04.2025 15:33:38" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="ndog" group="max" as="ndog" key="0" />
        <column table="a" column="payer_name" group="max" as="payer_name" key="0" />
        <column table="a" column="inn" group="max" as="inn" key="0" />
        <column table="a" column="kod_gtp" as="kod_gtp" nvl="0" type="number" key="0" />
        <column table="a" column="gtp_name" as="gtp_name" nvl="'-'" group="max" type="string" key="0" />
        <column table="a" column="type_service" as="type_service" key="0" />
        <call group="max" table="a" function="case" as="type_service_name" type="string" key="0">
          <call function="when">
            <call function="=">
              <column table="a" column="type_service" />
              <const type="number">1</const>
            </call>
            <const type="string">'ЭЭ, МВт*ч'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="a" column="type_service" />
              <const type="number">2</const>
            </call>
            <const type="string">'МП, МВт'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="a" column="type_service" />
              <const type="number">3</const>
            </call>
            <const type="string">'МУ, МВт'</const>
          </call>
        </call>
        <column table="a" column="price_category" as="price_category" type="number" key="0" />
        <call group="max" type="string" function="||" as="price_category_name" key="0">
          <call table="a" column="price_category" function="int to char">
            <column table="a" column="price_category" />
          </call>
          <const type="string">' ЦК'</const>
        </call>
        <call table="a" function="case" type="number" as="gr_max_power" key="0">
          <call function="when">
            <call function="lt">
              <column table="a" column="max_power" nvl="0" />
              <const type="number">670</const>
            </call>
            <const type="number">1</const>
          </call>
          <call function="when">
            <call function="between">
              <column table="a" column="max_power" />
              <const type="number">670</const>
              <const type="number">10000</const>
            </call>
            <const type="number">2</const>
          </call>
          <call function="else">
            <const type="number">3</const>
          </call>
        </call>
        <call group="max" table="a" function="case" type="string" as="gr_max_power_name" key="0">
          <call function="when">
            <call function="lt">
              <column table="a" column="max_power" nvl="0" />
              <const type="number">670</const>
            </call>
            <const type="string">'менее 670 кВт'</const>
          </call>
          <call function="when">
            <call function="between">
              <column table="a" column="max_power" />
              <const type="number">670</const>
              <const type="number">10000</const>
            </call>
            <const type="string">'от 670 кВт до 10 МВт'</const>
          </call>
          <call function="else">
            <const type="string">'не менее 10 МВт'</const>
          </call>
        </call>
        <column group="sum" table="a" column="cust_kvth" as="cust_kvth_all" mp="-3" nvl="0" key="0" />
        <column table="a" column="cust_kvth" group="sum" mp="-3" nvl="0" dimname="volt" as="cust_kvth" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="voltage_abbr" as="voltage_abbr" />
              </select>
              <from>
                <query name="voltage_all" as="a1" title="Уровень напряжения" />
              </from>
              <where>
                <call function="gt">
                  <column table="a1" column="voltage" />
                  <const type="number">-2</const>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" as="cust_all" mp="-3" column="cust" nvl="0" key="0" />
        <column table="a" column="cust" group="sum" mp="-3" nvl="0" dimname="volt" as="cust" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="voltage_abbr" as="voltage_abbr" />
              </select>
              <from>
                <query name="voltage_all" as="a1" title="Уровень напряжения" />
              </from>
              <where>
                <call function="gt">
                  <column table="a1" column="voltage" />
                  <const type="number">-2</const>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column table="a" column="nach" group="sum" mp="-3" nvl="0" as="nach_all" key="0" />
        <column table="a" column="nach" group="sum" mp="-3" nvl="0" as="nach" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="voltage_abbr" as="voltage_abbr" />
              </select>
              <from>
                <query name="voltage_all" as="a1" title="Уровень напряжения" />
              </from>
              <where>
                <call function="gt">
                  <column table="a1" column="voltage" />
                  <const type="number">-2</const>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" column="sost_cust_kvth" as="sost_cust_kvth_all" mp="-3" nvl="0" key="0" />
        <column table="a" column="sost_cust_kvth" group="sum" mp="-3" nvl="0" dimname="volt" as="sost_cust_kvth" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="voltage_abbr" as="voltage_abbr" />
              </select>
              <from>
                <query name="voltage_all" as="a1" title="Уровень напряжения" />
              </from>
              <where>
                <call function="gt">
                  <column table="a1" column="voltage" />
                  <const type="number">-2</const>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column group="sum" table="a" as="sost_cust_all" mp="-3" column="sost_cust" nvl="0" key="0" />
        <column table="a" column="sost_cust" group="sum" mp="-3" nvl="0" dimname="volt" as="sost_cust" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="voltage_abbr" as="voltage_abbr" />
              </select>
              <from>
                <query name="voltage_all" as="a1" title="Уровень напряжения" />
              </from>
              <where>
                <call function="gt">
                  <column table="a1" column="voltage" />
                  <const type="number">-2</const>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <column table="a" column="sost_nach" group="sum" mp="-3" nvl="0" as="sost_nach_all" key="0" />
        <column table="a" column="sost_nach" group="sum" mp="-3" nvl="0" as="sost_nach" dimname="volt" key="0" pivot="1">
          <pivot>
            <column table="a" column="voltage" as="voltage" />
            <query>
              <select>
                <column table="a1" column="voltage" as="voltage" />
                <column table="a1" column="voltage_abbr" as="voltage_abbr" />
              </select>
              <from>
                <query name="voltage_all" as="a1" title="Уровень напряжения" />
              </from>
              <where>
                <call function="gt">
                  <column table="a1" column="voltage" />
                  <const type="number">-2</const>
                </call>
              </where>
            </query>
          </pivot>
        </column>
      </select>
      <from>
        <query name="sqlb_rep_64879_v2_tbl" as="a" />
      </from>
      <grouping>
        <grset as="itog">
          <grset as="itog_serv" order="type_service">
            <group>
              <column table="this" column="type_service" />
            </group>
          </grset>
          <grset order="ndog nulls last" as="dog">
            <group>
              <column table="this" column="kod_dog" type="number" />
            </group>
            <grset as="gtp" order="gtp_name">
              <group>
                <column table="this" column="kod_gtp" type="number" />
              </group>
              <grset as="gtp_serv" order="type_service">
                <group>
                  <column table="this" column="type_service" />
                </group>
              </grset>
              <grset as="gtp_price" order="price_category">
                <group>
                  <column table="this" column="price_category" />
                </group>
                <grset as="gtp_price_serv" order="type_service">
                  <group>
                    <column table="this" column="type_service" />
                  </group>
                </grset>
                <grset as="gtp_max_pwr" order="gr_max_power">
                  <group>
                    <column table="this" column="gr_max_power" />
                  </group>
                  <grset as="gtp_pwr_serv" order="type_service">
                    <group>
                      <column table="this" column="type_service" />
                    </group>
                  </grset>
                </grset>
              </grset>
            </grset>
            <grset as="serv" order="type_service">
              <group>
                <column table="this" column="type_service" />
              </group>
            </grset>
            <grset as="price" order="price_category">
              <group>
                <column table="this" column="price_category" />
              </group>
              <grset as="price_serv" order="type_service">
                <group>
                  <column table="this" column="type_service" />
                </group>
              </grset>
              <grset as="max_pwr" order="gr_max_power">
                <group>
                  <column table="this" column="gr_max_power" />
                </group>
                <grset as="pwr_serv" order="type_service">
                  <group>
                    <column table="this" column="type_service" />
                  </group>
                </grset>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="64883" is-report="1" title="Аналитический отчет по клиенту" order="parent_name,ndog,p_year,p_month" timestamp="14.04.2023 12:24:49" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64883.xml">
      <params>
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param name="p_ym_beg" controlType="UICombo" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym_end" controlType="UICombo" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_client" controlType="UIList" val-field-name="p_client" name-field-name="name" title="Клиенты" timestamp="10.04.2023 10:50:28" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64883.xml" />
        <param name="pkod_dog" controlType="UIList" title="Договоры" timestamp="10.04.2023 10:51:01" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml" />
      </params>
      <customers>
        <customer id="29" />
      </customers>
      <content>
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" title="Период с" name="p_ym_beg" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" title="Период по" name="p_ym_end" mandatory="1" />
        <usefield field="field_client_dep" name="p_client" />
        <usefield field="field_ndog_dep" name="pkod_dog" />
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    
    for rec in (select * from kr_org where kodp in :p_client)
    loop
      insert into vr_number_array (array_id,val) values ('p_client',rec.kodp);
    end loop;
    
    for rec in( select kod_Dog from kr_dogovor where kod_dog in :pkod_dog )
    loop
        insert into vr_number_array (array_id,val) values ('pkod_dog',rec.kod_dog);
    end loop;
    sqlb_rep_64883.fill_table(:p_ym_beg,:p_ym_end);
end;   </text>
      </procedure>
      <select>
        <column table="a" column="parent_name" title="Филиал" as="parent_name" key="0" />
        <column table="a" column="ndog" title="Номер договора" as="ndog" key="0" />
        <column table="a" column="kod_potr" title="Код потребителя" as="kod_potr" key="0" />
        <column table="a" column="org_name" title="Наименование" as="org_name" key="0" />
        <column table="a" column="p_year" title="Отчетный год" type="string" as="p_year" key="0" />
        <column table="a" column="p_month" title="Отчетный месяц" type="string" as="p_month" key="0" />
        <column table="a" column="res" title="Ресурс" as="res" key="0" />
        <column table="a" column="cust" title="Расход, кВт*ч, кВт" as="cust" key="0" />
        <column table="a" column="nuch" title="Сумма, руб. без НДС" as="nuch" key="0" />
        <column table="a" column="max_power" title="Макс.мощность" as="max_power" key="0" />
        <column table="a" column="category_fik" title="ЦК" as="category_fik" key="0" />
        <column table="a" column="volt_abbr" title="УН" as="volt_abbr" key="0" />
        <column table="a" column="post_rr" title="Поставщик РР" as="post_rr" key="0" />
        <column table="a" column="gtp_kod" title="ГТП" as="gtp_kod" key="0" />
        <column table="a" column="gtp_name_opt" title="ГТП (опт)" as="gtp_name_opt" key="0" />
        <column table="a" column="gtp_name_rozn" title="ГТП (розн)" as="gtp_name_rozn" key="0" />
        <column table="a" column="opt_rozn" title="Опт / Розн" as="opt_rozn" key="0" />
        <column table="a" column="obj_name" title="Объект" as="obj_name" key="0" />
        <column table="a" column="vid_dog" title="Вид договора" as="vid_dog" key="0" />
        <column table="a" column="region_name" title="Регион" as="region_name" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64883_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer" dname="64883" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
          <link name="kodp_uch" as="kodp_uch" table="kr_org" child="kr_dogovor" field="kodp_uch" parent="kr_org" back="kr_dogovor" />
        </query>
      </from>
      <order>
        <column column="parent_name" />
        <column column="ndog" />
        <column column="p_year" />
        <column column="p_month" />
      </order>
    </query>
    <query name="64883_2" title="Аналитический отчет по клиенту" order="parent_name,ndog,p_year,p_month,res,category_fik" timestamp="27.04.2023 13:39:44" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64883_2.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
        <param name="p_client" type="array" />
        <param name="pkod_dog" type="array" />
      </params>
      <select>
        <column table="a" column="parent_name" title="Филиал" as="parent_name" key="0" />
        <column table="a" column="ndog" title="Номер договора" as="ndog" key="0" />
        <column table="a" column="kod_potr" title="Код потребителя" as="kod_potr" key="0" />
        <column table="a" column="org_name" title="Наименование" as="org_name" key="0" />
        <column table="a" column="p_year" title="Отчетный год" type="string" as="p_year" key="0" />
        <column table="a" column="p_month" title="Отчетный месяц" type="string" as="p_month" key="0" />
        <column table="a" column="res" title="Ресурс" as="res" key="0" />
        <column table="a" column="cust" title="Расход, кВт*ч, кВт" as="cust" key="0" />
        <column table="a" column="nuch" title="Сумма, руб. без НДС" as="nuch" key="0" />
        <column table="a" column="max_power" title="Макс.мощность" as="max_power" key="0" />
        <column table="a" column="category_fik" title="ЦК" as="category_fik" key="0" />
        <column table="a" column="volt_abbr" title="УН" as="volt_abbr" key="0" />
        <column table="a" column="post_rr" title="Поставщик РР" as="post_rr" key="0" />
        <column table="a" column="gtp_kod" title="ГТП" as="gtp_kod" key="0" />
        <column table="a" column="gtp_name_opt" title="ГТП (опт)" as="gtp_name_opt" key="0" />
        <column table="a" column="gtp_name_rozn" title="ГТП (розн)" as="gtp_name_rozn" key="0" />
        <column table="a" column="opt_rozn" title="Опт / Розн" as="opt_rozn" key="0" />
        <column table="a" column="obj_name" title="Объект" as="obj_name" key="0" />
        <column table="a" column="vid_dog" title="Вид договора" as="vid_dog" key="0" />
        <column table="a" column="region_name" title="Регион" as="region_name" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64883_tbl" as="a" />
      </from>
      <order>
        <column column="parent_name" />
        <column column="ndog" />
        <column column="p_year" />
        <column column="p_month" />
        <column column="res" />
        <column column="category_fik" />
      </order>
    </query>
    <query name="64948" is-report="1" title="4.6.2.3.4.2. Задолженность по срокам образования" nogrid="1" timestamp="17.11.2022 11:51:07" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64948.xml">
      <params>
        <param name="p_dep" controlType="UIList" title="Отделение" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1" />
        <param controlType="UIDate" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_date" mandatory="1" title="Дата" />
      </params>
      <print-templates>
        <excel>
          <template name="64948.xlsx" title="Задолженность по срокам образования" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep" name="p_dep" mandatory="1" />
        <usefield field="cmn_date" name="p_date" mandatory="1" title="Дата">
          <defaultquery>
            <query name="cur-date" />
          </defaultquery>
        </usefield>
      </content>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_64948.fill_table(:p_date);
end;
      </text>
      </procedure>
      <select>
        <column column="kod_dog" table="a" as="kod_dog" key="0" />
        <column column="ndog" table="a" group="max" title=" " as="ndog" key="0" />
        <column column="inn" table="a" group="max" title=" " as="inn" key="0" />
        <column column="payer_name" table="a" group="max" as="payer_name" key="0" />
        <column column="dz_general" table="a" group="sum" as="dz_general" key="0" />
        <column column="dz_tek" table="a" group="sum" as="dz_tek" key="0" />
        <column table="a" column="dz_zadol" group="sum" as="dz_zadol" key="0" />
        <column table="a" column="dz_1" group="sum" as="dz_1" key="0" />
        <column table="a" column="dz_2" group="sum" as="dz_2" key="0" />
        <column table="a" column="dz_3" group="sum" as="dz_3" key="0" />
        <column table="a" column="dz_4" group="sum" as="dz_4" key="0" />
        <column table="a" column="dz_5" group="sum" as="dz_5" key="0" />
        <column table="a" column="dz_6" group="sum" as="dz_6" key="0" />
        <column table="a" column="dz_7" group="sum" as="dz_7" key="0" />
        <column table="a" column="dz_8" group="sum" as="dz_8" key="0" />
        <column table="a" column="dz_9" group="sum" as="dz_9" key="0" />
        <column table="a" column="dz_10" group="sum" as="dz_10" key="0" />
        <column table="a" column="dz_11" group="sum" as="dz_11" key="0" />
        <column table="a" column="dz_12" group="sum" as="dz_12" key="0" />
        <column table="a" column="dz_13_24" group="sum" as="dz_13_24" key="0" />
        <column table="a" column="dz_25_36" group="sum" as="dz_25_36" key="0" />
        <column table="a" column="dz_37" group="sum" as="dz_37" key="0" />
        <column group="max" table="rc" column="name" as="otrasl" title="Наименование отрасли" key="0" />
        <call function="nvl" group="max" as="sektor" title="Наименование сектора" key="0">
          <column table=" rf" column="name" nvl="'нет'" />
          <const type="string">'Прочие'</const>
        </call>
        <column column="budjet" table="a" group="max" as="budjet" key="0" />
        <column column="budjet_2" table="a" group="max" as="budjet_2" key="0" />
        <column column="setevye" table="a" group="max" as="setevye" key="0" />
        <column column="mzhd" table="a" group="max" as="mzhd" key="0" />
        <column column="otdelenie" table="a" group="max" as="otdelenie" key="0" />
        <call column="otdelenie" table="a" group="max" function="adress_district" as="adress" key="0">
          <column table="a" column="kod_d_dog" />
        </call>
        <column column="finansist" table="a" group="max" as="finansist" key="0" />
        <column column="dogovornik" table="a" group="max" as="dogovornik" key="0" />
        <column column="priznak_dog" table="a" group="max" as="priznak_dog" key="0" />
        <column column="seller" table="a" group="max" as="seller" key="0" />
        <column column="p_date" table="a" group="max" as="p_date" key="0" />
        <call function="sysdate" as="dat" group="max" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64948_tbl" as="a" />
        <query name="rr_refprop_dog_81" as="r101" join="left outer" dname="64948" title="Группы потребителей">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="r101" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as=" rf" join="left outer" dname="64948">
          <call function="and">
            <call function="=">
              <column table=" rf" column="kod_refbook" />
              <const>81</const>
            </call>
            <call function="=">
              <column table="r101" column="kod_refcode" />
              <column table=" rf" column="kod_refcode" />
            </call>
          </call>
        </query>
        <query name="kr_dogovor" join="left outer" as="d" dname="64948" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kod_ist" as="kod_ist" table="ks_istfin" child="kr_dogovor" field="kod_ist" parent="ks_istfin" back="kr_dogovor" title="Источники финансирования" />
          <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
          <link name="kodp_uch" as="kodp_uch" table="kr_org" child="kr_dogovor" field="kodp_uch" parent="kr_org" back="kr_dogovor" />
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент">
            <link name="kod_okved" as="kod_okved" table="ks_okved" child="kr_payer" field="kod_okved" parent="ks_okved" back="kr_payer" />
            <link name="kod_otrasl" as="kod_otrasl" table="ks_otrasl" child="kr_payer" field="kod_otrasl" parent="ks_otrasl" back="kr_payer" title="Отрасли" />
          </link>
        </query>
        <query name="rr_refprop_dog_123" join="left outer" as="r123" dname="64948" title="Отрасль">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="r123" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" join="left outer" as="rc" dname="64948">
          <call function="=">
            <column table="r123" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="dog">
            <group>
              <column table="a" column="kod_dog" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="64949" order="ym" timestamp="31.10.2022 16:22:31" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml" haskeys="1">
      <select>
        <call function="rownum" as="id" key="1" />
        <column table="a" column="ym" as="ym" />
        <column table="a" column="ym_name" as="ym_name" />
        <column table="a" column="saldo_deb_beg" mp="-3" as="saldo_deb_beg" />
        <column table="a" column="saldo_kred_beg" mp="-3" as="saldo_kred_beg" />
        <column table="a" column="nach_recalc" mp="-3" as="nach_recalc" />
        <column table="a" column="nach" mp="-3" as="nach" />
        <column table="a" column="opl" mp="-3" as="opl" />
        <column table="a" column="spis_ret_kred" mp="-3" as="spis_ret_kred" />
        <column table="a" column="spis_deb" mp="-3" as="spis_deb" />
        <column table="a" column="saldo_deb_end" mp="-3" as="saldo_deb_end" />
        <column table="a" column="saldo_kred_end" mp="-3" as="saldo_kred_end" />
        <column table="a" column="potr" mp="-3" as="potr" />
      </select>
      <from>
        <query name="sqlb_rep_64949_tbl" as="a" />
      </from>
      <order>
        <column column="ym" />
      </order>
    </query>
    <query name="64949-info" timestamp="31.10.2022 23:13:09" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml">
      <select>
        <column table="a" column="dat_form" as="dat_form" key="0" />
        <column table="a" column="inn" as="inn" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_64949_info_tbl" as="a" />
      </from>
    </query>
    <query name="64949-dog" timestamp="31.10.2022 23:57:21" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml" haskeys="1">
      <select>
        <call function="rownum" as="id" key="1" />
        <column table="a" column="ndog" as="ndog" />
        <column table="a" column="sname" as="sname" />
        <column table="a" column="dat_end" as="dat_end" />
        <column table="a" column="inn" as="inn" />
      </select>
      <from>
        <query name="sqlb_rep_64949_dog_tbl" as="a" />
      </from>
    </query>
    <query name="64949-inn" timestamp="31.10.2022 22:24:28" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml" haskeys="1">
      <select>
        <column table="a" column="inn" title="-" key="1" as="id" group="1" />
        <column table="a" column="inn" vid="1" group="1" as="inn" />
      </select>
      <from>
        <query name="kr_payer" as="a" title="Абонент" />
      </from>
    </query>
    <query name="64949-dog-list" timestamp="31.10.2022 22:31:18" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml" haskeys="1">
      <params>
        <param name="dep" type="array" />
        <param type="string" name="p_inn" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="ndog" as="ndog" key="0" />
        <column table="dep" column="name" as="dep_name" title="Отделение" key="0" />
        <column table="kodp" column="nump" as="nump" key="0" />
        <column table="kodp" column="inn" as="inn" key="0" />
        <column table="kodp" column="name" as="payer_name" key="0" />
        <column table="pr_active" column="name" as="name" key="0" />
      </select>
      <from>
        <query name="kr_dogovor" as="a" title="Договор">
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент" />
          <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
          <link name="pr_active" as="pr_active" table="kk_active" child="kr_dogovor" field="pr_active" parent="kk_active" back="kr_dogovor" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="dep" />
          </call>
          <call function="=" optional="1">
            <column table="kodp" column="inn" />
            <useparam name="p_inn" />
          </call>
        </call>
      </where>
    </query>
    <query name="64949-dog-list-def" timestamp="31.10.2022 22:46:34" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml" haskeys="1">
      <params>
        <param name="dep" type="array" />
        <param type="string" name="p_inn" />
      </params>
      <select>
        <column table="a" column="kod_dog" key="1" as="kod_dog" />
        <column table="a" column="ndog" is-name="1" as="ndog" />
      </select>
      <from>
        <query name="kr_dogovor" as="a" title="Договор">
          <link name="kodp" as="kodp" table="kr_payer" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Абонент" />
          <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
          <link name="pr_active" as="pr_active" table="kk_active" child="kr_dogovor" field="pr_active" parent="kk_active" back="kr_dogovor" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="dep" />
          </call>
          <call function="or">
            <call function="false" />
            <call function="=" optional="1">
              <column table="kodp" column="inn" />
              <useparam name="p_inn" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="64950" is-report="1" title="4.6.2.3.2.4. Приложение 127 к запросу ОАО 'АТС' 'Объемы и стоимости потребленной электрической энергии (мощности) по уровням напряжения'" nogrid="1" order="kod_level_voltage" timestamp="06.08.2024 11:06:30" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64950.xml">
      <params>
        <param title="Энергосбыт" controlType="UICombo" name="p_org" class="1" timestamp="20.02.2023 13:20:34" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_org_energosbyt.xml" mandatory="1" show-checkbox="0" />
        <param name="p_dep" controlType="UIList" title="Отделение" comment="Отделения внутри организации" class="1" timestamp="31.07.2023 11:37:48" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_org.xml" />
        <param name="p_ym" controlType="UICombo" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" show-checkbox="0" />
        <param name="kod_adr_m" controlType="UICombo" auto-check="1" title="Субъект Федерации" comment="Субьект Федерации по объектам в зависимости от договоров в отделении" timestamp="31.07.2023 11:18:03" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" show-checkbox="0" as="" mandatory="1" />
      </params>
      <customers>
        <customer id="29" />
      </customers>
      <print-templates>
        <excel>
          <template name="64950.xlsx" title="Приложение 127 к запросу ОАО 'АТС' 'Объемы и стоимости потребленной электрической энергии (мощности) по уровням напряжения'" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="org_energosbyt_single" name="p_org" mandatory="1" show-checkbox="0" />
        <usefield field="field_dep_org" name="p_dep" />
        <usefield field="asuse_ym_tek_dep" name="p_ym" mandatory="1" title="Период" show-checkbox="0" />
        <usefield field="asuse_adr_m_obj_dep_sng" name="kod_adr_m" show-checkbox="0" as="" title="Субъект Федерации" mandatory="1" />
      </content>
      <procedure><![CDATA[declare
count_dep  integer;
begin
    delete vr_number_array;
 
for rec in (select * from kr_org where kodp in :p_org)
     loop
       insert into vr_number_array (array_id,val) 
       values ('p_org',rec.kodp);
     end loop;

for rec in (select * from kr_org where kodp in :p_dep)
    loop
       insert into vr_number_array (array_id,val) 
       values ('p_dep',rec.kodp);
    end loop;

SELECT COUNT (*)        -- проверяем был ли выбран p_dep
          INTO count_dep
          FROM vr_number_array
         WHERE array_id = 'p_dep' and val!=0;
         
if count_dep = 0 then
for rec in (select * from kr_org where kod_parent in :p_org)
    loop
       insert into vr_number_array (array_id,val) 
       values ('p_dep',rec.kodp);
    end loop;
end if; 
 
for rec in (select tp from adr_m where kod_m in :kod_adr_m)
     loop
       insert into vr_number_array (array_id,val) 
       values ('kod_adr_m',rec.tp);
     end loop;

for rec in (select substr(oktmo,1,2) as sub_rf_oktmo from adr_m where kod_m in :kod_adr_m)
    loop
      insert into vr_number_array (array_id,val) 
      values ('sub_rf_oktmo',rec.sub_rf_oktmo);
    end loop;

sqlb_rep_64950.fill_table(:p_ym);
end;     

  ]]></procedure>
      <select>
        <query table="a" column="sub_rf" as="sub_rf" group="max" function="if" key="0">
          <select function="nvl">
            <column table="v" column="val" as="val" />
          </select>
          <from>
            <query name="vr_number_array" as="v" />
          </from>
          <where>
            <call function="=">
              <column table="v" column="array_id" />
              <const type="string">'sub_rf_oktmo'</const>
            </call>
          </where>
        </query>
        <call group="max" as="ym_first_day" function="kg_ym_first_day" key="0">
          <useparam name="p_ym" />
        </call>
        <column table="a" column="dep_name" as="dep_name" type="string" group="stragg_dist" key="0" />
        <column table="a" column="pr_opt" as="pr_opt" title="Признак ГТП(опт)" key="0" />
        <call table="a" column="kod_gtp" type="string" as="kod_gtp" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_opt" />
            <const type="number">0</const>
          </call>
          <const type="string">'PPPPPPP1'</const>
          <column table="a" column="kod_gtp" />
        </call>
        <call table="a" column="kod_eso" as="kod_eso" function="if" type="string" title="Код участника АТС" group="stragg_dist" key="0">
          <call function="=">
            <useparam name="p_org" />
            <const>1171</const>
          </call>
          <const function="else" type="string">'ESGARANT'</const>
          <const type="string">'GEOMETRI'</const>
        </call>
        <column table="a" column="kod_level_voltage" type="number" as="kod_level_voltage" key="0" />
        <column table="a" column="pr_dkp" as="pr_dkp" comment="Признак ДКП (договор купли-продажи)" title="Признак ДКП" key="0" />
        <call group="sum" table="a" column="cust_kvth" as="cust_kvth" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const type="number">1</const>
          </call>
          <const>0</const>
          <column table="a" column="cust_kvth" />
        </call>
        <call group="sum" table="a" column="nach" as="nach" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const>1</const>
          </call>
          <const>0</const>
          <column table="a" column="nach" />
        </call>
        <call group="sum" table="a" column="nas_cust_kvth" as="nas_cust_kvth" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const>1</const>
          </call>
          <const>0</const>
          <column table="a" column="nas_cust_kvth" />
        </call>
        <call group="sum" table="a" column="nas_nach" as="nas_nach" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const>1</const>
          </call>
          <const>0</const>
          <column table="a" column="nas_nach" />
        </call>
        <call group="sum" as="cust_kvth_1" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const>1</const>
          </call>
          <column table="a" column="cust_kvth" />
          <const>0</const>
        </call>
        <call group="sum" as="nach_1" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const>1</const>
          </call>
          <column table="a" column="nach" />
          <const>0</const>
        </call>
        <call group="sum" as="nas_cust_kvth_1" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const>1</const>
          </call>
          <column table="a" column="nas_cust_kvth" />
          <const>0</const>
        </call>
        <call group="sum" as="nas_nach_1" nvl="0" function="if" key="0">
          <call function="=">
            <column table="a" column="pr_dkp" />
            <const>1</const>
          </call>
          <column table="a" column="nas_nach" />
          <const>0</const>
        </call>
      </select>
      <from>
        <query name="sqlb_rep_64950_tbl" as="a" />
      </from>
      <grouping>
        <grset as="itog">
          <grset as="level">
            <group>
              <column table="this" column="kod_level_voltage" />
            </group>
          </grset>
          <grset as="gtp" order="kod_gtp nulls last">
            <group>
              <column table="this" column="kod_gtp" />
            </group>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="kod_level_voltage" />
      </order>
    </query>
    <query name="65015_params" title="Параметры отчёта 65015" timestamp="10.05.2023 14:40:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65015.xml">
      <params>
        <param name="p_dep" type="number" />
        <param name="p_ym" type="number" />
        <param name="p_kod_m" type="array"></param>
        <param name="p_kodp_pwrcompany" type="array" />
      </params>
      <select>
        <call function="||" type="string" as="period" key="0">
          <const>'за '</const>
          <call function="to_char">
            <useparam name="p_ym" />
            <const>'FM9990D00'</const>
          </call>
        </call>
        <column table="dep" column="name" as="filial" key="0" />
        <call function="nvl" type="string" as="tco" key="0">
          <call function="()">
            <query>
              <select>
                <column table="org" column="name" group="stragg" as="name" />
              </select>
              <from>
                <query name="kr_org" as="org" />
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="org" column="kodp" />
                    <useparam name="p_kodp_pwrcompany" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
        <call function="nvl" type="string" as="region" key="0">
          <call function="()">
            <query>
              <select>
                <column table="sf" column="name_p" group="stragg" as="name_p" />
              </select>
              <from>
                <query name="adr_m" as="sf" title="Административно территориальная единица" />
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="sf" column="kod_m" />
                    <useparam name="p_kod_m" />
                  </call>
                </call>
              </where>
            </query>
          </call>
          <const>'все'</const>
        </call>
      </select>
      <from>
        <query name="kr_org" as="dep" />
      </from>
      <where>
        <call function="=">
          <column table="dep" column="kodp" />
          <useparam name="p_dep" />
        </call>
      </where>
    </query>
    <query name="65015_grand_total" order="edizm" title="Отчёт 65015 - итог акта" timestamp="09.02.2024 13:20:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65015.xml" haskeys="1">
      <select>
        <column table="e" column="edizm" key="1" as="edizm" />
        <column table="e" column="name" as="edizm_name" />
        <call function="nvl" type="number" as="cust">
          <call function="sum">
            <column table="u" column="cust" />
          </call>
          <const>0</const>
        </call>
        <call function="nvl" type="number" as="money">
          <call function="sum">
            <column table="u" column="money" />
          </call>
          <const>0</const>
        </call>
        <call function="nvl" type="number" as="nds">
          <call function="sum">
            <column table="u" column="nds" />
          </call>
          <const>0</const>
        </call>
        <call function="nvl" type="number" as="money_with_nds">
          <call function="sum">
            <column table="u" column="money_with_nds" />
          </call>
          <const>0</const>
        </call>
      </select>
      <from>
        <table name="65015_data" view="1" as="u" />
        <query name="sk_edizm" as="e" join="right outer" dname="65015_grand_total">
          <call function="=">
            <column table="e" column="edizm" />
            <column table="u" column="edizm" />
          </call>
        </query>
      </from>
      <where>
        <call function="in">
          <column table="e" column="edizm" />
          <call function="array">
            <const comment="кВт">3</const>
            <const comment="кВт-ч">4</const>
          </call>
        </call>
      </where>
      <group>
        <column table="e" column="edizm" />
        <column table="e" column="name" />
      </group>
      <order>
        <column column="edizm" />
      </order>
    </query>
    <query name="65015_sub_total" order="region_name, tarif_group, edizm" timestamp="10.11.2023 12:10:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65015.xml" haskeys="1">
      <select>
        <column table="u" column="kod_region" key="1" as="kod_region" />
        <column table="sf" column="name_p" as="region_name" intern="1" />
        <column table="u" column="tarif_group" key="1" as="tarif_group" />
        <call function="decode" type="string" as="tarif_group_name" intern="1">
          <column table="u" column="tarif_group" />
          <const>1</const>
          <const>'Прочие потребители, одноставочный тариф'</const>
          <const>2</const>
          <const>'Прочие потребители,  двухставочный тариф (ставка на оплату технологического расхода (потерь) в электрических сетях)'</const>
          <const>3</const>
          <const>'Прочие потребители, двухставочный тариф (ставка на содержание сетей)'</const>
          <const>4</const>
          <const>'Население'</const>
          <const>''</const>
        </call>
        <column table="u" column="edizm" key="1" as="edizm" reference="sk_edizm" refcol="edizm" />
        <column table="e" column="name" as="edizm_name" />
        <call function="sum" type="number" as="cust">
          <column table="u" column="cust" />
        </call>
        <call function="sum" type="number" as="money">
          <column table="u" column="money" />
        </call>
        <call function="sum" type="number" as="nds">
          <column table="u" column="nds" />
        </call>
        <call function="sum" type="number" as="money_with_nds">
          <column table="u" column="money_with_nds" />
        </call>
      </select>
      <from>
        <query name="65015_data" as="u" />
        <query name="adr_m" join="inner" as="sf" dname="65015_sub_total" title="Административно территориальная единица">
          <call function="=">
            <column table="sf" column="kod_m" />
            <column table="u" column="kod_region" />
          </call>
        </query>
        <query name="sk_edizm" join="inner" as="e" dname="65015_sub_total">
          <call function="=">
            <column table="e" column="edizm" />
            <column table="u" column="edizm" />
          </call>
        </query>
      </from>
      <group>
        <column table="u" column="kod_region" />
        <column table="sf" column="name_p" />
        <column table="u" column="tarif_group" />
        <column table="u" column="edizm" />
        <column table="e" column="name" />
      </group>
      <order>
        <column column="region_name" />
        <column column="tarif_group" />
        <column column="edizm" />
      </order>
    </query>
    <query name="65015_data" order="kod_region, tarif_group, edizm, kod_sort, price" timestamp="07.02.2024 15:10:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65015.xml" haskeys="1">
      <select>
        <column table="u" column="kod_region" type="number" key="1" as="kod_region" />
        <column table="u" column="tarif_group" type="number" key="1" as="tarif_group" />
        <column table="u" column="voltage" type="number" key="1" as="voltage" reference="hk_voltage" refcol="voltage" />
        <column table="v" column="abbr" as="voltage_abbr" />
        <column table="v" column="kod_sort" as="kod_sort" />
        <column table="u" column="edizm" type="number" key="1" as="edizm" />
        <column table="u" column="cust" type="number" as="cust" />
        <column table="u" column="price" type="number" key="1" as="price" />
        <column table="u" column="money" type="number" as="money" />
        <column table="u" column="nds" type="number" as="nds" />
        <column table="u" column="money_with_nds" type="number" as="money_with_nds" />
      </select>
      <from>
        <table name="65015_data" view="1" as="u" />
        <query name="hk_voltage" join="inner" as="v" dname="65015_data" title="Уровень напряжения">
          <call function="=">
            <column table="v" column="voltage" />
            <column table="u" column="voltage" />
          </call>
        </query>
      </from>
      <order>
        <column column="kod_region" />
        <column column="tarif_group" />
        <column column="edizm" />
        <column column="kod_sort" />
        <column column="price" />
      </order>
    </query>
    <query name="65116" nogrid="1" order="a.ndog, a.nom_sf" timestamp="26.05.2023 12:22:13" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65116.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="0" />
        <column table="a" column="ndog" title="Номер договора" as="ndog" key="0" />
        <column table="a" column="payer_name" title="Наименование" as="payer_name" key="0" />
        <column table="a" column="inn" title="ИНН" as="inn" key="0" />
        <column table="a" column="dat_dog" title="Дата заключения договора" as="dat_dog" key="0" />
        <column table="a" column="dat_fin" title="Дата расторжения договора" as="dat_fin" key="0" />
        <column table="a" column="gr_potreb" title="Группа  (потребителей)" as="gr_potreb" key="0" />
        <column table="a" column="vgo" title="ВГО" as="vgo" key="0" />
        <column table="a" column="dat_sf" title="Дата СФ" as="dat_sf" key="0" />
        <column table="a" column="nom_sf" title="Номер СФ" as="nom_sf" key="0" />
        <column table="a" column="vid_sf" title="Вид СФ (Товарная/ Авансовая)" as="vid_sf" key="0" />
        <column table="a" column="kz_beg" title="КЗ на начало периода (тыс. руб.)" mp="-3" as="kz_beg" key="0" />
        <column table="a" column="dz_beg" mp="-3" title="ДЗ на начало периода (тыс. руб.)" as="dz_beg" key="0" />
        <column table="a" column="dz_tek_beg" mp="-3" title="Текущая задолженность на начало периода (тыс. руб.)" as="dz_tek_beg" key="0" />
        <column table="a" column="nachisl_per_period" mp="-3" title="Начислено всего (тыс. руб.)" as="nachisl_per_period" key="0" />
        <column table="a" column="opl_per_period" mp="-3" title="Оплата без учета списания (тыс. руб.)" as="opl_per_period" key="0" />
        <column table="a" column="kz_spis" mp="-3" title="Возврат, списание КЗ за период (тыс. руб.)" as="kz_spis" key="0" />
        <column table="a" column="dz_spis" mp="-3" title="Списано за период  (списание ДЗ) (тыс. руб.)" as="dz_spis" key="0" />
        <column table="a" column="kz_end" mp="-3" title="КЗ на конец периода (тыс. руб.)" as="kz_end" key="0" />
        <column table="a" column="dz_end" mp="-3" title="ДЗ на конец периода (тыс. руб.)" as="dz_end" key="0" />
        <column table="a" column="dz_tek_end" mp="-3" title="Текущая задолженность (на конец периода) (тыс. руб.)" as="dz_tek_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_65116_tbl" as="a">
          <withparams>
            <param type="number" name="p_ym_beg" />
            <param type="number" name="p_ym_end" />
          </withparams>
        </query>
      </from>
      <order>
        <column column="a.ndog" />
        <column column="a.nom_sf" />
      </order>
    </query>
    <query name="65409" is-report="1" title="4.6.2.3.5.18. Отчет ГОЗ (раздельный учет)" mode="excel" timestamp="18.01.2023 13:28:54" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65409.xml">
      <params>
        <param name="p_dep" controlType="UICombo" title="Отделение" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param name="p_ym" controlType="UICombo" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" />
        <param controlType="UICheck" checked="0" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="Выводить детализацию по договорам" name="is_detail" />
      </params>
      <columns>
        <column name="kod_dog" />
        <column name="name_c" />
        <column name="ndog" />
        <column name="id_gk" />
        <column name="slova" />
        <band title="Реализация">
          <column name="cust_kvth" />
          <column name="cust_kvt" />
          <column name="price_kvth" />
          <column name="price_kvt" />
          <column name="nach_kvth" />
          <column name="nach_kvt" />
          <column name="nachisl_kvth" />
          <column name="nachisl_kvt" />
        </band>
        <band title="Перерасчеты">
          <column name="cust_kvth_recalc" />
          <column name="cust_kvt_recalc" />
          <column name="nach_kvth_recalc" />
          <column name="nach_kvt_recalc" />
          <column name="nachisl_kvth_recalc" />
          <column name="nachisl_kvt_recalc" />
        </band>
        <band title="Услуга по передаче">
          <column name="tr_cust_kvth" />
          <column name="tr_cust_kvt" />
          <column name="tr_price_kvth" />
          <column name="tr_price_kvt" />
          <column name="tr_money_kvth" />
          <column name="tr_money_kvt" />
          <column name="tr_money_with_nds_kvth" />
          <column name="tr_money_with_nds_kvt" />
        </band>
        <band title="Перерасчеты">
          <column name="tr_cust_kvth_recalc" />
          <column name="tr_cust_kvt_recalc" />
          <column name="tr_money_kvth_recalc" />
          <column name="tr_money_kvt_recalc" />
          <column name="tr_money_with_nds_kvth_recalc" />
          <column name="tr_money_with_nds_kvt_recalc" />
        </band>
        <band title="Движение ДЗ">
          <column name="dz_beg" />
          <column name="nachisl_all" />
          <column name="nachisl_past_period_recalc" />
          <column name="dz_spis" />
          <column name="opl_all_in_period" />
          <column name="dz_end" />
        </band>
        <band title="Движение КЗ">
          <column name="kz_beg" />
          <column name="sum_avans_pay" />
          <column name="opl_vozm_avans" />
          <column name="cor_past_period" />
          <column name="kz_end" />
        </band>
      </columns>
      <print-templates>
        <excel>
          <template name="65409.xlsx" title="Отчет ГОЗ (раздельный учет)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym" />
        <usefield type="number" field="cmn_check" title="Выводить детализацию по договорам" name="is_detail" />
      </content>
      <customers>
        <customer id="29" />
      </customers>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_65409.fill_table(:p_ym);
end;
      </text>
      </procedure>
      <select>
        <column column="kod_dog" table="a" as="kod_dog" key="0" />
        <call column="name_c" table="a" title="Наименование контрагента(ИНН)" function="||" as="name_c" group="max" key="0">
          <column table="a" column="name_c" />
          <const table="a" column="name_c">' ('</const>
          <column table="a" column="inn" />
          <const table="a" column="name_c">')'</const>
        </call>
        <column column="ndog" table="a" title="Номер договора" as="ndog" group="max" key="0" />
        <column column="id_gk" table="a" title="ИГК" as="id_gk" group="max" key="0" />
        <column column="slova" table="a" title="Код тарифа/Наименование тарифа/Ценовая категория" as="slova" key="0" />
        <column column="cust_kvth" table="a" title="Объем продажи (ЭЭ, кВт.ч)" group="sum" as="cust_kvth" key="0" />
        <column column="cust_kvt" table="a" class-title="Реализация" title="Объем продаж (Мощность, кВт)" group="sum" as="cust_kvt" key="0" />
        <column column="price_kvth" table="a" title="Цена (ЭЭ, руб. без НДС)" group="sum" as="price_kvth" key="0" />
        <column column="price_kvt" table="a" title="Цена (Мощность, руб. без НДС)" group="sum" as="price_kvt" key="0" />
        <column column="nach_kvth" table="a" title="Стоимость реализации (ЭЭ, руб. без НДС)" group="sum" as="nach_kvth" key="0" />
        <column column="nach_kvt" table="a" title="Стоимость реализации (Мощность, руб. без НДС)" group="sum" as="nach_kvt" key="0" />
        <column column="nachisl_kvth" table="a" title="Стоимость реализации (ЭЭ, руб. с НДС)" group="sum" as="nachisl_kvth" key="0" />
        <column column="nachisl_kvt" table="a" title="Стоимость реализации (Мощность, руб. с НДС)" group="sum" as="nachisl_kvt" key="0" />
        <column column="cust_kvth_recalc" table="a" title="Объем перерасчетов (ЭЭ, кВт.ч)" group="sum" as="cust_kvth_recalc" key="0" />
        <column column="cust_kvt_recalc" table="a" title="Объем перерасчетов (Мощность, Квт)" group="sum" as="cust_kvt_recalc" key="0" />
        <column column="nach_kvth_recalc" table="a" title="Стоимость перерасчетов (ЭЭ, руб. без НДС)" group="sum" as="nach_kvth_recalc" key="0" />
        <column column="nach_kvt_recalc" table="a" title="Стоимость перерасчетов (Мощность, руб. без НДС)" group="sum" as="nach_kvt_recalc" key="0" />
        <column column="nachisl_kvth_recalc" table="a" title="Стоимость перерасчетов (ЭЭ, руб. с НДС)" group="sum" as="nachisl_kvth_recalc" key="0" />
        <column column="nachisl_kvt_recalc" table="a" title="Стоимость перерасчетов (Мощность, руб. с НДС)" group="sum" as="nachisl_kvt_recalc" key="0" />
        <column column="tr_cust_kvth" table="a" title="Объем услуг по передаче (ЭЭ, кВт.ч)" group="max" as="tr_cust_kvth" key="0" />
        <column column="tr_cust_kvt" table="a" title="Объем услуг по передаче (Мощность, кВт)" group="max" as="tr_cust_kvt" key="0" />
        <column column="tr_price_kvth" table="a" title="Тариф (ЭЭ, руб. без НДС)" group="max" as="tr_price_kvth" key="0" />
        <column column="tr_price_kvt" table="a" title="Тариф (Мощность, руб. без НДС)" group="max" as="tr_price_kvt" key="0" />
        <column column="tr_money_kvth" table="a" title="Стоимость услуги по передаче (ЭЭ, руб. без НДС)" group="max" as="tr_money_kvth" key="0" />
        <column column="tr_money_kvt" table="a" title="Стоимость услуги по передаче (Мощность, руб. без НДС)" group="max" as="tr_money_kvt" key="0" />
        <column column="tr_money_with_nds_kvth" table="a" title="Стоимость услуги по передаче (ЭЭ, руб. с НДС)" group="max" as="tr_money_with_nds_kvth" key="0" />
        <column column="tr_money_with_nds_kvt" table="a" title="Стоимость услуги по передаче (ЭЭ, руб. с НДС)" group="max" as="tr_money_with_nds_kvt" key="0" />
        <column column="tr_cust_kvth_recalc" table="a" title="Объем перерасчетов (ЭЭ, кВт.ч)" group="max" as="tr_cust_kvth_recalc" key="0" />
        <column column="tr_cust_kvt_recalc" table="a" title="Объем перерасчетов (Мощность, кВт)" group="max" as="tr_cust_kvt_recalc" key="0" />
        <column column="tr_money_kvth_recalc" table="a" title="Стоимость перерасчетов (ЭЭ, руб. без НДС)" group="max" as="tr_money_kvth_recalc" key="0" />
        <column column="tr_money_kvt_recalc" table="a" title="Стоимость перерасчетов (Мощность, руб. без НДС)" group="max" as="tr_money_kvt_recalc" key="0" />
        <column column="tr_money_with_nds_kvth_recalc" table="a" title="Стоимость перерасчетов (ЭЭ, руб. с НДС)" group="max" as="tr_money_with_nds_kvth_recalc" key="0" />
        <column column="tr_money_with_nds_kvt_recalc" table="a" title="Стоимость перерасчетов (Мощность, руб. с НДС)" group="max" as="tr_money_with_nds_kvt_recalc" key="0" />
        <column column="dz_beg" table="a" title="Дебеторская задолженность на начало периода" group="max" as="dz_beg" key="0" />
        <column column="nachisl_all" table="a" title="Начислено" group="max" as="nachisl_all" key="0" />
        <column column="nachisl_past_period_recalc" table="a" title="Перерасчеты предыдущих периодов" group="max" as="nachisl_past_period_recalc" key="0" />
        <column column="dz_spis" table="a" title="Списание ДЗ" group="max" as="dz_spis" key="0" />
        <column column="opl_all_in_period" table="a" title="Оплата всего" group="max" as="opl_all_in_period" key="0" />
        <column column="dz_end" table="a" title="Дебеторская задолженность на конец периода" group="max" as="dz_end" key="0" />
        <column column="kz_beg" table="a" title="Кредиторская задолженность на начало периода" group="max" as="kz_beg" key="0" />
        <column column="sum_avans_pay" table="a" title="Получено авансовых платежей" group="max" as="sum_avans_pay" key="0" />
        <column column="opl_vozm_avans" table="a" title="Принято к возмещению авансов" group="max" as="opl_vozm_avans" key="0" />
        <column column="cor_past_period" table="a" title="Корректировка пред.периодов (перенос на обычный договор)" group="max" as="cor_past_period" key="0" />
        <column column="kz_end" table="a" title="Кредиторская задолженность на конец периода" group="max" as="kz_end" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_65409_tbl" as="a" />
      </from>
      <grouping>
        <grset as="itog">
          <grset as="gr_kod_dog" order="ndog">
            <group>
              <column table="this" column="kod_dog" />
            </group>
            <grset as="slova">
              <group>
                <column table="this" column="slova" />
              </group>
              <where>
                <call function="and">
                  <call function="=1">
                    <call function="nvlu">
                      <useparam name="is_detail" />
                      <const>0</const>
                    </call>
                  </call>
                  <call function="is not null">
                    <column table="this" column="kod_dog" />
                  </call>
                </call>
              </where>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="66806" title="Основной запрос отчёта 66806" order="rank_region, tco_name" timestamp="25.12.2023 15:50:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\66806.xml">
      <select>
        <column table="a" column="rank_region" type="number" as="rank_region" key="0" />
        <column table="a" column="kod_region" type="number" comment="Код региона" group="max" as="kod_region" key="0" />
        <column table="a" column="region_name" type="string" data-size="150" title="" comment="Наименование региона" group="max" as="region_name" key="0" />
        <column table="a" column="kodp_tco" type="number" title="" comment="Код ТСО" as="kodp_tco" key="0" />
        <column table="a" column="tco_name" type="string" data-size="1000" title="" comment="Полное наименование ТСО" group="max" as="tco_name" key="0" />
        <column table="a" column="tarif_group" type="number" title="" comment="Код тарифной группы" as="tarif_group" key="0" />
        <column table="a" column="tarif_group_name" type="string" title="" comment="Наименование тарифной группы" group="max" as="tarif_group_name" key="0" />
        <column table="a" column="cust_kvth" type="number" title="" comment="ПО всего" group="sum" as="cust_kvth" key="0" />
        <column table="a" column="cust_kvth_gn" type="number" title="" comment="ПО. УН: ГН (ГН-ВН + ГН-СН2)" group="sum" as="cust_kvth_gn" key="0" />
        <column table="a" column="cust_kvth_vn" type="number" title="" comment="ПО. УН: ВН (ФСК + ВН)" group="sum" as="cust_kvth_vn" key="0" />
        <column table="a" column="cust_kvth_cn1" type="number" title="" comment="ПО. УН: СН1" group="sum" as="cust_kvth_cn1" key="0" />
        <column table="a" column="cust_kvth_cn2" type="number" title="" comment="ПО. УН: СН2" group="sum" as="cust_kvth_cn2" key="0" />
        <column table="a" column="cust_kvth_nn" type="number" title="" comment="ПО. УН: НН" group="sum" as="cust_kvth_nn" key="0" />
        <column table="a" column="cust_kvt" type="number" title="" comment="Мощность. Всего" group="sum" as="cust_kvt" key="0" />
        <column table="a" column="cust_kvt_gn" type="number" title="" comment="Мощность. УН: ГН (ГН-ВН + ГН-СН2)" group="sum" as="cust_kvt_gn" key="0" />
        <column table="a" column="cust_kvt_vn" type="number" title="" comment="Мощность. УН: ВН (ФСК + ВН)" group="sum" as="cust_kvt_vn" key="0" />
        <column table="a" column="cust_kvt_cn1" type="number" title="" comment="Мощность. УН: СН1" group="sum" as="cust_kvt_cn1" key="0" />
        <column table="a" column="cust_kvt_cn2" type="number" title="" comment="Мощность. УН: СН2" group="sum" as="cust_kvt_cn2" key="0" />
        <column table="a" column="cust_kvt_nn" type="number" title="" comment="Мощность. УН: НН" group="sum" as="cust_kvt_nn" key="0" />
      </select>
      <from>
        <query name="sqlb_rep_66806_tbl" as="a" />
      </from>
      <grouping>
        <grset as="itog">
          <grset as="region">
            <group>
              <column table="this" column="rank_region" />
            </group>
            <grset as="tco">
              <group>
                <column table="this" column="kodp_tco" />
              </group>
              <grset as="gr">
                <group>
                  <column table="this" column="tarif_group" />
                </group>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
      <order>
        <column column="rank_region" />
        <column column="tco_name" />
      </order>
    </query>
    <query name="list_clients" title="Клиенты" class="1" order="name" timestamp="10.04.2023 12:57:34" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_clients.xml" haskeys="1">
      <params>
        <param type="array" name="p_dep" />
      </params>
      <select>
        <column table="p" column="kodp" as="p_client" type="number" key="1" />
        <column table="p" column="name" title="Наименование клиента" type="string" as="name" />
        <column table="p" column="nump" as="p_kod_client" type="string" title="Код клиента" />
      </select>
      <from>
        <query name="kr_payer" as="p" title="Абонент" />
        <query name="kr_dogovor" as="d" join="inner" dname="list_clients" title="Договор">
          <call function="=">
            <column table="p" column="kodp" />
            <column table="d" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="d" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in">
            <column table="d" column="pr_active" />
            <const name="p_dep" type="string">(0,2)</const>
          </call>
        </call>
      </where>
      <group>
        <column table="p" column="kodp" />
        <column table="p" column="nump" />
        <column table="p" column="name" />
      </group>
      <order>
        <column column="name" />
      </order>
    </query>
    <query name="ndog_list_dep" class="1" order="ndog" timestamp="28.02.2023 15:12:45" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_dogovor.xml" haskeys="1">
      <params>
        <param type="array" name="p_dep" />
        <param type="array" name="p_client" />
      </params>
      <select>
        <column table="kr_dogovor" column="kod_dog" as="pkod_dog" key="1" fixed="1" />
        <column table="kr_dogovor" column="ndog" as="ndog" key="0" />
      </select>
      <from>
        <query name="kr_dogovor" as="kr_dogovor" title="Договор" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="kr_dogovor" column="pr_active" />
            <call function="array">
              <const>0</const>
              <const>2</const>
            </call>
          </call>
          <call function="in" optional="1">
            <column table="kr_dogovor" column="dep" />
            <useparam name="p_dep" />
          </call>
          <call function="in" optional="1">
            <column table="kr_dogovor" column="kodp" />
            <useparam name="p_client" />
          </call>
        </call>
      </where>
      <order>
        <column column="ndog" />
      </order>
    </query>
    <query name="ndog_fin_list_dep" class="1" order="dep_name, ndog" timestamp="07.08.2023 15:41:01" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_dogovor.xml" haskeys="1">
      <params>
        <param name="p_dep" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" as="kod_dog" key="1" fixed="1" />
        <column table="a" column="ndog" as="ndog" key="0" />
        <column table="pr_active" column="name" as="name" key="0" />
        <column table="dep" column="name" as="dep_name" title="Отделение" key="0" />
      </select>
      <from>
        <query name="kr_dogovor" as="a" title="Договор">
          <link name="dep" as="dep" table="kr_org" child="kr_dogovor" field="dep" parent="kr_org" back="kr_dog_dep" />
          <link name="pr_active" as="pr_active" table="kk_active" child="kr_dogovor" field="pr_active" parent="kk_active" back="kr_dogovor" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="a" column="kod_dog_fin" />
          </call>
          <call function="in" optional="1">
            <column table="a" column="dep" />
            <useparam name="p_dep" />
          </call>
        </call>
      </where>
      <order>
        <column column="dep_name" />
        <column column="ndog" />
      </order>
    </query>
    <query name="kr_employee_info_short" order="fio" class="1" comment="Краткая информация о сотруднике" timestamp="07.12.2022 14:57:24" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_employee.xml" haskeys="1">
      <params>
        <param type="array" name="p_dep">
          <const>20488</const>
        </param>
      </params>
      <select>
        <column table="a" column="kod_emp" key="1" as="kod_emp" />
        <column table="kr_payer" column="kodp" as="kodp" />
        <call function="trim" as="fio">
          <column table="a" column="fio" title="ФИО" vid="1" />
        </call>
        <call function="nvl" as="namedolzh" title="Должность">
          <column table="kod_namedolzh" column="name" />
          <column table="a" column="namedolzh" />
        </call>
        <column table="kod_dolzhfun" column="name_fun" title="Должностная функция" as="name_fun" />
        <column table="a" column="tel" as="tel" />
        <column table="a" column="e_mail" as="e_mail" />
      </select>
      <from>
        <query name="kr_employee" as="a">
          <link name="kodp_payer" as="kr_payer" table="kr_payer" child="kr_employee" field="kodp_payer" parent="kr_payer" back="kr_employee" title="Абонент">
            <dlink name="kr_dogovor" as="kr_dogovor" table="kr_dogovor" child="kr_dogovor" field="kodp" parent="kr_payer" back="kr_dogovor" title="Договор" />
          </link>
          <link name="kod_dolzhfun" as="kod_dolzhfun" table="kk_dolzhfun" child="kr_employee" field="kod_dolzhfun" parent="kk_dolzhfun" back="kr_employee" />
          <link name="kod_namedolzh" as="kod_namedolzh" table="ks_namedolzh" child="kr_employee" field="kod_namedolzh" parent="ks_namedolzh" back="kr_employee" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="is not null">
            <call function="trim">
              <column table="a" column="fio" />
            </call>
          </call>
          <call function="in" optional="1">
            <column table="a" column="kodp" />
            <useparam name="p_dep" />
          </call>
          <call function="=">
            <column table="kod_dolzhfun" column="name_fun" />
            <const type="string">'Руководитель'</const>
          </call>
        </call>
      </where>
      <order>
        <column column="fio" />
      </order>
    </query>
    <query name="kr_dep(org)_def_all" order="kod_separator, name" class="1" timestamp="06.04.2023 10:00:28" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_org.xml" haskeys="1">
      <params>
        <param type="number" name="p_org" />
      </params>
      <select>
        <column table="a" column="kodp" type="number" key="1" as="kodp" />
        <column table="a" column="sname" title="Аббревиатура" is-name="1" textsource="sname" as="sname" />
        <column table="a" column="name" title="Отделение" type="string" as="name" />
        <column table="a" column="kod_separator" as="kod_separator" />
      </select>
      <from>
        <query name="kr_org" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="kod_ecls" />
            <const>4</const>
          </call>
          <call function="in">
            <column table="a" column="kod_separator" />
            <call function="array">
              <const>1</const>
              <const>2</const>
            </call>
          </call>
          <call function="in" optional="1">
            <column table="a" column="kod_parent" />
            <useparam name="p_org" />
          </call>
        </call>
      </where>
      <order>
        <column column="kod_separator" />
        <column column="name" />
      </order>
    </query>
    <query name="kr_org_energosbyt" title="Энергосбыт" class="1" timestamp="01.03.2023 12:00:32" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_org_energosbyt.xml" haskeys="1">
      <select>
        <column table="a" column="kodp" key="1" as="kodp" />
        <column table="a" column="name" is-name="1" as="name" />
        <column table="a" column="kod_separator" as="kod_separator" />
        <column table="a" column="kod_ecls" as="kod_ecls" />
      </select>
      <from>
        <query name="kr_org" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="kod_separator" />
            <const type="number">1</const>
          </call>
          <call function="=">
            <column table="a" column="kod_ecls" />
            <const type="number">4</const>
          </call>
        </call>
      </where>
    </query>
    <query name="nr_account_ym_list" order="ym desc" class="1" timestamp="25.02.2022 11:29:39" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\nr_account_ym_list.xml" haskeys="1">
      <select>
        <column table="a" column="ym" group="1" as="ym" key="1" fixed="1" />
        <call function="trim" as="name" group="max" title="Период" key="0">
          <call function="to_char">
            <column table="a" column="ym" />
            <const>'9999.99'</const>
          </call>
        </call>
      </select>
      <from>
        <query name="nr_account_ies" as="a" />
      </from>
      <order>
        <column column="ym" />
      </order>
    </query>
    <query name="nr_account_ym_max" timestamp="25.02.2022 11:30:19" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\nr_account_ym_max.xml">
      <select>
        <column table="a" column="ym" group="max" as="ym" key="0" />
      </select>
      <from>
        <query as="a" name="nr_account_ies" />
      </from>
    </query>
    <query name="pwrcompany_list" timestamp="04.08.2022 10:39:18" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\pwrcompany_list.xml" haskeys="1">
      <select>
        <column type="number" table="hv_org_pwrcompany" column="kodp" as="kodp_pwrcompany" key="1" fixed="1" />
        <column table="hv_org_pwrcompany" column="name" as="name" key="0" />
        <column table="hv_org_pwrcompany" column="enscope_name" title="Сфера деят.в энергетике" as="enscope_name" key="0" />
        <column table="hv_org_pwrcompany" column="inn" title="ИНН" as="inn" key="0" />
      </select>
      <from>
        <query name="hv_org_pwrcompany" as="hv_org_pwrcompany" />
      </from>
      <where>
        <call function="!=">
          <column table="hv_org_pwrcompany" column="kodp" />
          <const>20856</const>
        </call>
      </where>
    </query>
    <query name="pwrcompanylist_2" class="1" order="name" timestamp="14.11.2022 12:09:40" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\pwrcompany_list.xml" haskeys="1">
      <select>
        <column table="ov_e_org_fsk_po_attp" column="kodp_fsk_po_attp" as="kod_pwrcompany" key="1" fixed="1" />
        <column table="ov_e_org_fsk_po_attp" column="name_simple" as="name" key="0" />
        <column table="ov_e_org_fsk_po_attp" column="elm" title="Сфера деят.в энергетике" as="elm" key="0" />
        <column table="ov_e_org_fsk_po_attp" column="inn" title="ИНН" as="inn" key="0" />
      </select>
      <from>
        <query name="ov_e_org_fsk_po_attp" as="ov_e_org_fsk_po_attp" />
      </from>
      <order>
        <column column="name" />
      </order>
    </query>
    <query name="pwrcompanylist_def" class="1" order="name" timestamp="17.10.2022 11:38:36" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\pwrcompany_list.xml" haskeys="1">
      <select>
        <column table="ov_e_org_fsk_po_attp" column="kodp_fsk_po_attp" as="kod_pwrcompany" key="1" fixed="1" />
        <column table="ov_e_org_fsk_po_attp" column="name" as="name" key="0" />
        <column table="ov_e_org_fsk_po_attp" column="elm" title="Сфера деят.в энергетике" as="elm" key="0" />
        <column table="ov_e_org_fsk_po_attp" column="inn" title="ИНН" as="inn" key="0" />
      </select>
      <from>
        <query name="ov_e_org_fsk_po_attp" as="ov_e_org_fsk_po_attp" />
      </from>
      <where>
        <call function="=">
          <column table="ov_e_org_fsk_po_attp" column="kodp_fsk_po_attp" />
          <const>-10</const>
        </call>
      </where>
      <order>
        <column column="name" />
      </order>
    </query>
    <query name="signatory_list" class="1" order="name_dep,fio" timestamp="17.11.2022 11:15:37" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\signatory_list.xml" haskeys="1">
      <select>
        <column table="sqlb_signatory_view" column="kod_emp" as="kod_emp" key="1" fixed="1" />
        <column table="sqlb_signatory_view" column="fio" as="fio" key="0" />
        <column table="sqlb_signatory_view" column="dol" as="dol" key="0" />
        <column table="sqlb_signatory_view" column="name_dep" title="Подразделение" as="name_dep" key="0" />
      </select>
      <from>
        <query name="sqlb_signatory_view" as="sqlb_signatory_view" />
      </from>
      <order>
        <column column="name_dep" />
        <column column="fio" />
      </order>
    </query>
    <query name="signatory_list_def" class="1" timestamp="25.11.2022 14:26:06" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\signatory_list.xml" haskeys="1">
      <select>
        <column table="s" column="kod_emp" as="kod_emp" key="1" fixed="1" />
        <column table="s" column="fio" as="fio" key="0" />
        <column table="s" column="dol" as="dol" key="0" />
        <column table="s" column="name_dep" title="Подразделение" as="name_dep" key="0" />
      </select>
      <from>
        <query name="sqlb_signatory_view" as="s" />
      </from>
      <where>
        <call function="and">
          <call function="and">
            <call function="=">
              <column table="s" column="kodp" />
              <useglobparam table="d" column="kodp" name="dep" />
            </call>
            <call function="=">
              <call function="rownum" />
              <const>1</const>
            </call>
          </call>
          <call function="and">
            <call function="=">
              <column table="s" column="KOD_DOLZHFUN" />
              <const>14</const>
            </call>
          </call>
        </call>
      </where>
      <params />
    </query>
    <query name="title_ym_dep_addr_info" title="Инф-ция для титульного листа отчёта." class="1" timestamp="25.12.2023 16:30:10" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\title_ym_dep_addr_info.xml">
      <params>
        <param name="p_dep" type="array" />
        <param name="p_ym_beg" type="number" />
        <param name="p_ym_end" type="number" />
        <param name="p_kod_adr_m" type="array" />
      </params>
      <select>
        <call function="mes-name" as="mes" key="0">
          <call function="mes">
            <useparam name="p_ym_beg" />
          </call>
        </call>
        <call function="trunc" as="year" key="0">
          <useparam name="p_ym_beg" />
        </call>
        <call function="()" as="ym_beg" type="string" key="0">
          <useparam name="p_ym_beg" />
        </call>
        <call function="()" as="ym_end" type="string" title=" " optional="1" key="0">
          <call function="ym to char">
            <useparam name="p_ym_end" />
          </call>
        </call>
        <call function="if" as="p_dep_text" type="string" title="Отделение" key="0">
          <call function="is not null">
            <column table="a" column="name" />
          </call>
          <column table="a" column="name" />
          <column table="a" column="sname" />
        </call>
        <call function="if" as="address_p" type="string" key="0">
          <call function="is not null">
            <column table="adr" column="kf_adress_o" />
          </call>
          <column table="adr" column="kf_adress_o" />
          <const type="string">'  '</const>
        </call>
        <call function="nvl" type="string" as="adr_name" key="0">
          <query>
            <select>
              <column table="bb" column="name_p" group="stragg_dist" as="name_p" />
            </select>
            <from>
              <table name="adr_m" as="bb" title="Административно территориальная единица" />
            </from>
            <where>
              <call function="or">
                <call function="false" />
                <call function="in" optional="1">
                  <column table="bb" column="kod_m" />
                  <useparam name="p_kod_adr_m" />
                </call>
              </call>
            </where>
          </query>
          <const>' '</const>
        </call>
        <call function="if" as="p_okpo" type="string" key="0">
          <call function="is not null">
            <column table="p" column="okpo" />
          </call>
          <column table="p" column="okpo" />
        </call>
        <call function="if" as="p_ogrn" type="string" key="0">
          <call function="is not null">
            <column table="p" column="ogrn" />
          </call>
          <column table="p" column="ogrn" />
        </call>
        <call function="if" as="p_inn" type="string" title="ИНН" key="0">
          <call function="is not null">
            <column table="p" column="inn" />
          </call>
          <column table="p" column="inn" function="stragg_dist" />
        </call>
        <call function="sysdate" as="dat" key="0" />
        <column table="rs" column="name" type="string" title="Название энергосистемы" as="rs_name" key="0" />
      </select>
      <from>
        <query name="kr_org" as="a" />
        <query name="kr_payer" as="p" join="left outer" dname="title_ym_dep_addr_info" title="Абонент">
          <call function="=">
            <column table="a" column="kodp" />
            <column table="p" column="kodp" />
          </call>
        </query>
        <query name="k_house" as="adr" join="left outer" dname="title_ym_dep_addr_info">
          <call function="=">
            <column table="p" column="kod_d_p" />
            <column table="adr" column="kodd" />
          </call>
        </query>
        <query name="rs_esys" join="cross" as="rs" />
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="a" column="kodp" />
            <useparam name="p_dep" />
          </call>
        </call>
      </where>
    </query>
    <query name="hv_org_pwrcompany" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\hv_org_pwrcompany.xml" haskeys="1">
      <select>
        <column table="a" column="kodp" type="number" column-mandatory="1" title="" as="kodp" key="1" fixed="1" />
        <column table="a" column="enscope_name" type="string" data-size="4000" title="" as="enscope_name" key="0" />
        <column table="a" column="sname" type="string" data-size="20" column-mandatory="1" title="" as="sname" key="0" />
        <column table="a" column="name" type="string" data-size="200" title="Наименование" as="name" key="0" />
        <column table="a" column="inn" type="string" data-size="15" title="" as="inn" key="0" />
        <column table="a" column="addr_ur" type="string" data-size="1000" title="" as="addr_ur" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="hv_org_pwrcompany" as="a" />
      </from>
    </query>
    <query name="ks_okved_podrazdel" class="1" timestamp="22.03.2022 17:17:11" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\ks_okved_podrazdel.xml" haskeys="1">
      <select>
        <column table="a" column="kod_okved" type="number" column-mandatory="1" as="kod_okved" key="1" fixed="1" />
        <column table="a" column="kod_razd" type="number" as="kod_razd" reference="ks_okved_razdel" refcol="kod_razd" key="0" />
        <column table="a" column="razdel" type="string" data-size="30" column-mandatory="1" title="" as="razdel" key="0" />
        <column table="a" column="name" type="string" data-size="250" column-mandatory="1" title="Наименование" as="name" key="0" />
        <column table="a" column="kod_res_okved" type="number" as="kod_res_okved" key="0" />
        <column table="a" column="kod_str_ies" type="number" as="kod_str_ies" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="ks_okved_podrazdel" as="a" />
        <query name="ks_okved_razdel" as="kod_razd" join="left outer" dname="ks_okved_podrazdel">
          <call function="=">
            <column table="a" column="kod_razd" />
            <column table="kod_razd" column="kod_razd" />
          </call>
        </query>
      </from>
    </query>
    <query name="ks_okved_podrazdel_1" class="1" timestamp="25.05.2022 17:19:16" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\ks_okved_podrazdel_1.xml" haskeys="1">
      <select>
        <column table="a" column="kod_okved" type="number" column-mandatory="1" as="kod_okved" key="1" fixed="1" />
        <column table="a" column="kod_razd" type="number" as="kod_razd" key="0" />
        <column table="a" column="kod_podrazdel" type="number" as="kod_podrazdel" reference="ks_okved_podrazdel" refcol="kod_okved" key="0" />
        <column table="a" column="razdel" type="string" data-size="30" column-mandatory="1" title="" as="razdel" key="0" />
        <column table="a" column="name" type="string" data-size="250" column-mandatory="1" title="Наименование" as="name" key="0" />
        <column table="a" column="kod_res_okved" type="number" as="kod_res_okved" key="0" />
        <column table="a" column="kod_str_ies" type="number" as="kod_str_ies" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="ks_okved_podrazdel_1" as="a" />
        <query name="ks_okved_podrazdel" as="kod_podrazdel" join="left outer" dname="ks_okved_podrazdel_1">
          <call function="=">
            <column table="a" column="kod_podrazdel" />
            <column table="kod_podrazdel" column="kod_okved" />
          </call>
        </query>
      </from>
    </query>
    <query name="ks_okved_podrazdel_2" class="1" timestamp="25.05.2022 17:34:01" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\ks_okved_podrazdel_2.xml" haskeys="1">
      <select>
        <column table="a" column="kod_okved" type="number" column-mandatory="1" as="kod_okved" key="1" fixed="1" />
        <column table="a" column="kod_razd" type="number" as="kod_razd" key="0" />
        <column table="a" column="kod_podrazdel" type="number" as="kod_podrazdel" reference="ks_okved_podrazdel_1" refcol="kod_okved" key="0" />
        <column table="a" column="razdel" type="string" data-size="30" column-mandatory="1" title="" as="razdel" key="0" />
        <column table="a" column="name" type="string" data-size="250" column-mandatory="1" title="Наименование" as="name" key="0" />
        <column table="a" column="kod_res_okved" type="number" as="kod_res_okved" key="0" />
        <column table="a" column="kod_str_ies" type="number" as="kod_str_ies" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="ks_okved_podrazdel_2" as="a" />
        <query name="ks_okved_podrazdel_1" as="kod_podrazdel_1" join="left outer" dname="ks_okved_podrazdel_2">
          <call function="=">
            <column table="a" column="kod_podrazdel" />
            <column table="kod_podrazdel_1" column="kod_okved" />
          </call>
        </query>
      </from>
    </query>
    <query name="nr_account_dop" class="1" timestamp="26.08.2022 10:33:35" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\nr_account_dop.xml" haskeys="1">
      <select>
        <column table="a" column="kod_account" type="number" column-mandatory="1" as="kod_account" key="1" fixed="1" />
        <column table="a" column="kod_dog" type="number" column-mandatory="1" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ym" type="number" column-mandatory="1" title="" as="ym" key="0" />
        <column table="a" column="num_priem" type="number" title="" as="num_priem" key="0" />
        <column table="a" column="dat_priem" type="date" column-mandatory="1" title="" as="dat_priem" key="0" />
        <column table="a" column="rym" type="number" title="" as="rym" key="0" />
        <column table="a" column="tarif" type="number" title="" as="tarif" reference="ks_tarif" refcol="tarif" key="0" />
        <column table="a" column="kod_numobj" type="number" comment="Код объекта в договоре" as="kod_numobj" reference="kr_numobj" refcol="kod_numobj" key="0" />
        <column table="a" column="kod_f23" type="number" column-mandatory="1" as="kod_f23" reference="hs_23" refcol="kod_f23" key="0" />
        <column table="a" column="voltage" type="number" title="" as="voltage" reference="hk_voltage" refcol="voltage" key="0" />
        <column table="a" column="vid_t" type="number" column-mandatory="1" title="" as="vid_t" reference="sk_nachisl" refcol="vid_t" key="0" />
        <column table="a" column="cust" type="number" title="" as="cust" key="0" />
        <column table="a" column="price" type="number" title="" as="price" key="0" />
        <column table="a" column="nachisl" type="number" title="" as="nachisl" key="0" />
        <column table="a" column="info" type="string" data-size="240" title="" as="info" key="0" />
        <column table="a" column="u_m" type="string" data-size="20" title="" as="u_m" key="0" />
        <column table="a" column="d_m" type="date" title="" as="d_m" key="0" />
        <column table="a" column="kod_numobj_sa" type="number" comment="Код объекта в договоре" as="kod_numobj_sa" reference="kr_numobj" refcol="kod_numobj" key="0" />
        <column table="a" column="kod_f46" type="number" as="kod_f46" reference="ks_46" refcol="kod_f46" key="0" />
        <column table="a" column="pr_hand" type="number" column-mandatory="1" title="" as="pr_hand" key="0" />
        <column table="a" column="den" type="number" title="" as="den" key="0" />
        <column table="a" column="dat_promezhut" type="date" title="" as="dat_promezhut" key="0" />
        <column table="a" column="pr_sf" type="number" column-mandatory="1" title="" as="pr_sf" key="0" />
        <column table="a" column="kod_sf" type="number" as="kod_sf" reference="sr_facvip" refcol="kod_sf" key="0" />
        <column table="a" column="kod_vid_act" type="number" as="kod_vid_act" reference="ss_vid_act" refcol="kod_vid_act" key="0" />
        <column table="a" column="vist_day" type="number" title="" comment="день выставления промежути" as="vist_day" key="0" />
        <column table="a" column="kod_bu_akt" type="number" comment="Код акта безучетного ползования" as="kod_bu_akt" reference="hr_bu_akt" refcol="kod_bu_akt" key="0" />
        <column table="a" column="raschet" type="string" data-size="100" title="" comment="вид расчета" as="raschet" key="0" />
        <column table="a" column="kod_tarif_rate" type="number" comment="код ставки тарифа. используется временно в расчете, FK нет!!!" as="kod_tarif_rate" reference="ks_tarif_rate" refcol="kod_tarif_rate" key="0" />
        <column table="a" column="vid_avans" type="number" title="" comment="для промежути" as="vid_avans" key="0" />
        <column table="a" column="kod_tar_free" type="number" as="kod_tar_free" reference="ks_tar_free" refcol="kod_tar_free" key="0" />
        <column table="a" column="kod_account_parent" type="number" comment="код родительской записи (для VID_T=77,22 и пр))" as="kod_account_parent" reference="nr_account" refcol="kod_account" key="0" />
        <column table="a" column="cust_old" type="number" title="" comment="старое значение" as="cust_old" key="0" />
        <column table="a" column="kodinterval" type="number" title="" as="kodinterval" reference="kk_interval" refcol="kodinterval" key="0" />
        <column table="a" column="kod_dhh" type="number" as="kod_dhh" reference="hk_dhh" refcol="kod_dhh" key="0" />
        <column table="a" column="pr_gener" type="number" column-mandatory="1" title="" as="pr_gener" key="0" />
        <column table="a" column="kod_osn_pererasch" type="number" comment="Код основания перерасчета" as="kod_osn_pererasch" reference="hk_osn_pererasch" refcol="kod_osn_pererasch" key="0" />
        <column table="a" column="kod_plan" type="number" as="kod_plan" reference="kr_plan" refcol="kod_plan" key="0" />
        <column table="a" column="kod_bu" type="number" as="kod_bu" reference="hr_bu_eobject" refcol="kod_bu" key="0" />
        <column table="a" column="kod_av" type="number" comment="КОД АВАНСА" as="kod_av" reference="sr_avans" refcol="kod_av" key="0" />
        <column table="a" column="kod_reglament" type="number" as="kod_reglament" reference="hr_reglament_pp" refcol="kod_reglament" key="0" />
        <column table="a" column="cust_rg" type="number" title="" as="cust_rg" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="nr_account" as="a" />
        <query name="hr_bu_eobject" as="kod_bu" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_bu" />
            <column table="kod_bu" column="kod_bu" />
          </call>
        </query>
        <query name="sr_avans" as="kod_av" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_av" />
            <column table="kod_av" column="kod_av" />
          </call>
        </query>
        <query name="hk_voltage" as="voltage" join="left outer" dname="nr_account_dop" title="Уровень напряжения">
          <call function="=">
            <column table="a" column="voltage" />
            <column table="voltage" column="voltage" />
          </call>
        </query>
        <query name="hr_bu_akt" as="kod_bu_akt" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_bu_akt" />
            <column table="kod_bu_akt" column="kod_bu_akt" />
          </call>
        </query>
        <query name="hs_23" as="kod_f23" join="left outer" dname="nr_account_dop" title="Принадлежность объектов">
          <call function="=">
            <column table="a" column="kod_f23" />
            <column table="kod_f23" column="kod_f23" />
          </call>
        </query>
        <query name="kr_numobj" as="kod_numobj_sa" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_numobj_sa" />
            <column table="kod_numobj_sa" column="kod_numobj" />
          </call>
        </query>
        <query name="ks_46" as="kod_f46" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_f46" />
            <column table="kod_f46" column="kod_f46" />
          </call>
        </query>
        <query name="ks_tarif" as="tarif" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="tarif" />
            <column table="tarif" column="tarif" />
          </call>
        </query>
        <query name="sk_nachisl" as="vid_t" join="left outer" dname="nr_account_dop" title="Вид начисления">
          <call function="=">
            <column table="a" column="vid_t" />
            <column table="vid_t" column="vid_t" />
          </call>
        </query>
        <query name="sr_facvip" as="kod_sf" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="kod_sf" column="kod_sf" />
          </call>
        </query>
        <query name="ss_vid_act" as="kod_vid_act" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_vid_act" />
            <column table="kod_vid_act" column="kod_vid_act" />
          </call>
        </query>
        <query name="ks_tar_free" as="kod_tar_free" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_tar_free" />
            <column table="kod_tar_free" column="kod_tar_free" />
          </call>
        </query>
        <query name="kr_dogovor" as="kod_dog" join="left outer" dname="nr_account_dop" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="kod_dog" column="kod_dog" />
          </call>
        </query>
        <query name="kr_numobj" as="kod_numobj" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_numobj" />
            <column table="kod_numobj" column="kod_numobj" />
          </call>
        </query>
        <query name="nr_account" as="kod_account_parent" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_account_parent" />
            <column table="kod_account_parent" column="kod_account" />
          </call>
        </query>
        <query name="kk_interval" as="kodinterval" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kodinterval" />
            <column table="kodinterval" column="kodinterval" />
          </call>
        </query>
        <query name="hk_dhh" as="kod_dhh" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_dhh" />
            <column table="kod_dhh" column="kod_dhh" />
          </call>
        </query>
        <query name="ks_tarif_rate" as="kod_tarif_rate" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_tarif_rate" />
            <column table="kod_tarif_rate" column="kod_tarif_rate" />
          </call>
        </query>
        <query name="hk_osn_pererasch" as="kod_osn_pererasch" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_osn_pererasch" />
            <column table="kod_osn_pererasch" column="kod_osn_pererasch" />
          </call>
        </query>
        <query name="kr_plan" as="kod_plan" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_plan" />
            <column table="kod_plan" column="kod_plan" />
          </call>
        </query>
        <query name="hr_reglament_pp" as="kod_reglament" join="left outer" dname="nr_account_dop">
          <call function="=">
            <column table="a" column="kod_reglament" />
            <column table="kod_reglament" column="kod_reglament" />
          </call>
        </query>
      </from>
    </query>
    <query name="nr_account_ies" class="1" timestamp="25.02.2022 11:29:50" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\nr_account_ies.xml" haskeys="1">
      <select>
        <column table="a" column="kod_account" type="number" column-mandatory="1" as="kod_account" key="1" fixed="1" />
        <column table="a" column="kod_dog" type="number" column-mandatory="1" as="kod_dog" reference="kr_dogovor" refcol="kod_dog" key="0" />
        <column table="a" column="ym" type="number" column-mandatory="1" title="" as="ym" key="0" />
        <column table="a" column="num_priem" type="number" title="" as="num_priem" key="0" />
        <column table="a" column="dat_priem" type="date" column-mandatory="1" title="" as="dat_priem" key="0" />
        <column table="a" column="rym" type="number" title="" as="rym" key="0" />
        <column table="a" column="tarif" type="number" title="" as="tarif" reference="ks_tarif" refcol="tarif" key="0" />
        <column table="a" column="kod_numobj" type="number" comment="Код объекта в договоре" as="kod_numobj" reference="kr_numobj" refcol="kod_numobj" key="0" />
        <column table="a" column="kod_f23" type="number" column-mandatory="1" as="kod_f23" reference="hs_23" refcol="kod_f23" key="0" />
        <column table="a" column="voltage" type="number" title="" as="voltage" reference="hk_voltage" refcol="voltage" key="0" />
        <column table="a" column="vid_t" type="number" column-mandatory="1" title="" as="vid_t" reference="sk_nachisl" refcol="vid_t" key="0" />
        <column table="a" column="cust" type="number" title="" as="cust" key="0" />
        <column table="a" column="price" type="number" title="" as="price" key="0" />
        <column table="a" column="nachisl" type="number" title="" as="nachisl" key="0" />
        <column table="a" column="info" type="string" data-size="240" title="" as="info" key="0" />
        <column table="a" column="u_m" type="string" data-size="20" title="" as="u_m" key="0" />
        <column table="a" column="d_m" type="date" title="" as="d_m" key="0" />
        <column table="a" column="kod_numobj_sa" type="number" comment="Код объекта в договоре" as="kod_numobj_sa" reference="kr_numobj" refcol="kod_numobj" key="0" />
        <column table="a" column="kod_f46" type="number" as="kod_f46" reference="ks_46" refcol="kod_f46" key="0" />
        <column table="a" column="pr_hand" type="number" column-mandatory="1" title="" as="pr_hand" key="0" />
        <column table="a" column="den" type="number" title="" as="den" key="0" />
        <column table="a" column="dat_promezhut" type="date" title="" as="dat_promezhut" key="0" />
        <column table="a" column="pr_sf" type="number" column-mandatory="1" title="" as="pr_sf" key="0" />
        <column table="a" column="kod_sf" type="number" as="kod_sf" reference="sr_facvip" refcol="kod_sf" key="0" />
        <column table="a" column="kod_vid_act" type="number" as="kod_vid_act" reference="ss_vid_act" refcol="kod_vid_act" key="0" />
        <column table="a" column="vist_day" type="number" title="" comment="день выставления промежути" as="vist_day" key="0" />
        <column table="a" column="kod_bu_akt" type="number" comment="Код акта безучетного ползования" as="kod_bu_akt" reference="hr_bu_akt" refcol="kod_bu_akt" key="0" />
        <column table="a" column="raschet" type="string" data-size="100" title="" comment="вид расчета" as="raschet" key="0" />
        <column table="a" column="kod_tarif_rate" type="number" comment="код ставки тарифа. используется временно в расчете, FK нет!!!" as="kod_tarif_rate" reference="ks_tarif_rate" refcol="kod_tarif_rate" key="0" />
        <column table="a" column="vid_avans" type="number" title="" comment="для промежути" as="vid_avans" key="0" />
        <column table="a" column="kod_tar_free" type="number" as="kod_tar_free" reference="ks_tar_free" refcol="kod_tar_free" key="0" />
        <column table="a" column="kod_account_parent" type="number" comment="код родительской записи (для VID_T=77,22 и пр))" as="kod_account_parent" reference="nr_account" refcol="kod_account" key="0" />
        <column table="a" column="cust_old" type="number" title="" comment="старое значение" as="cust_old" key="0" />
        <column table="a" column="kodinterval" type="number" title="" as="kodinterval" reference="kk_interval" refcol="kodinterval" key="0" />
        <column table="a" column="kod_dhh" type="number" as="kod_dhh" reference="hk_dhh" refcol="kod_dhh" key="0" />
        <column table="a" column="pr_gener" type="number" column-mandatory="1" title="" as="pr_gener" key="0" />
        <column table="a" column="kod_osn_pererasch" type="number" comment="Код основания перерасчета" as="kod_osn_pererasch" reference="hk_osn_pererasch" refcol="kod_osn_pererasch" key="0" />
        <column table="a" column="kod_plan" type="number" as="kod_plan" reference="kr_plan" refcol="kod_plan" key="0" />
        <column table="a" column="kod_bu" type="number" as="kod_bu" reference="hr_bu_eobject" refcol="kod_bu" key="0" />
        <column table="a" column="kod_av" type="number" comment="КОД АВАНСА" as="kod_av" reference="sr_avans" refcol="kod_av" key="0" />
        <column table="a" column="kod_reglament" type="number" as="kod_reglament" reference="hr_reglament_pp" refcol="kod_reglament" key="0" />
        <column table="a" column="cust_rg" type="number" title="" as="cust_rg" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="nr_account" as="a" />
        <query name="hr_bu_eobject" as="kod_bu" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_bu" />
            <column table="kod_bu" column="kod_bu" />
          </call>
        </query>
        <query name="sr_avans" as="kod_av" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_av" />
            <column table="kod_av" column="kod_av" />
          </call>
        </query>
        <query name="hk_voltage" as="voltage" join="left outer" dname="nr_account_ies" title="Уровень напряжения">
          <call function="=">
            <column table="a" column="voltage" />
            <column table="voltage" column="voltage" />
          </call>
        </query>
        <query name="hr_bu_akt" as="kod_bu_akt" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_bu_akt" />
            <column table="kod_bu_akt" column="kod_bu_akt" />
          </call>
        </query>
        <query name="hs_23" as="kod_f23" join="left outer" dname="nr_account_ies" title="Принадлежность объектов">
          <call function="=">
            <column table="a" column="kod_f23" />
            <column table="kod_f23" column="kod_f23" />
          </call>
        </query>
        <query name="kr_numobj" as="kod_numobj_sa" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_numobj_sa" />
            <column table="kod_numobj_sa" column="kod_numobj" />
          </call>
        </query>
        <query name="ks_46" as="kod_f46" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_f46" />
            <column table="kod_f46" column="kod_f46" />
          </call>
        </query>
        <query name="ks_tarif" as="tarif" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="tarif" />
            <column table="tarif" column="tarif" />
          </call>
        </query>
        <query name="sk_nachisl" as="vid_t" join="left outer" dname="nr_account_ies" title="Вид начисления">
          <call function="=">
            <column table="a" column="vid_t" />
            <column table="vid_t" column="vid_t" />
          </call>
        </query>
        <query name="sr_facvip" as="kod_sf" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="kod_sf" column="kod_sf" />
          </call>
        </query>
        <query name="ss_vid_act" as="kod_vid_act" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_vid_act" />
            <column table="kod_vid_act" column="kod_vid_act" />
          </call>
        </query>
        <query name="ks_tar_free" as="kod_tar_free" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_tar_free" />
            <column table="kod_tar_free" column="kod_tar_free" />
          </call>
        </query>
        <query name="kr_dogovor" as="kod_dog" join="left outer" dname="nr_account_ies" title="Договор">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="kod_dog" column="kod_dog" />
          </call>
        </query>
        <query name="kr_numobj" as="kod_numobj" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_numobj" />
            <column table="kod_numobj" column="kod_numobj" />
          </call>
        </query>
        <query name="nr_account" as="kod_account_parent" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_account_parent" />
            <column table="kod_account_parent" column="kod_account" />
          </call>
        </query>
        <query name="kk_interval" as="kodinterval" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kodinterval" />
            <column table="kodinterval" column="kodinterval" />
          </call>
        </query>
        <query name="hk_dhh" as="kod_dhh" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_dhh" />
            <column table="kod_dhh" column="kod_dhh" />
          </call>
        </query>
        <query name="ks_tarif_rate" as="kod_tarif_rate" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_tarif_rate" />
            <column table="kod_tarif_rate" column="kod_tarif_rate" />
          </call>
        </query>
        <query name="hk_osn_pererasch" as="kod_osn_pererasch" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_osn_pererasch" />
            <column table="kod_osn_pererasch" column="kod_osn_pererasch" />
          </call>
        </query>
        <query name="kr_plan" as="kod_plan" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_plan" />
            <column table="kod_plan" column="kod_plan" />
          </call>
        </query>
        <query name="hr_reglament_pp" as="kod_reglament" join="left outer" dname="nr_account_ies">
          <call function="=">
            <column table="a" column="kod_reglament" />
            <column table="kod_reglament" column="kod_reglament" />
          </call>
        </query>
      </from>
    </query>
    <query name="ov_e_org_fsk_po_attp" class="1" timestamp="14.11.2022 12:09:27" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\ov_e_org_fsk_po_attp.xml" haskeys="1">
      <select>
        <call as="kodp_fsk_po_attp" type="number" function="distinct" key="1" fixed="1">
          <column table="a" column="kodp_fsk_po_attp" type="" comment="?kind=1" as="" />
        </call>
        <column table="a" column="inn" type="string" data-size="15" title="" comment="ИНН?type=3" as="inn" key="0" />
        <column table="a" column="kf_adress_o" type="string" data-size="250" title="" comment="адрес юрид. (рег)?type=3" as="kf_adress_o" key="0" />
        <column table="a" column="elm" type="string" data-size="100" title="" comment="классиф. СРЭЭ?type=3" as="elm" key="0" />
        <column table="a" column="name_simple" title="Наименование" as="name_simple" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="ov_e_org_fsk_po_attp" as="a" />
      </from>
      <where>
        <call function="!=">
          <column table="a" column="kodp_fsk_po_attp" />
          <const>-10</const>
        </call>
      </where>
    </query>
    <query name="sqlb_61880_17_tbl" class="1" timestamp="01.08.2022 14:34:09" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_61880_17_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_61880_17_tbl_id" key="1" />
        <column table="a" column="id" type="number" title="" as="id" />
        <column table="a" column="gr1" type="number" title="" as="gr1" />
        <column table="a" column="gr2" type="number" title="" as="gr2" />
        <column table="a" column="gr3" type="number" title="" as="gr3" />
        <column table="a" column="name" type="string" data-size="150" title="Наименование" as="name" />
        <column table="a" column="kod_str" type="number" as="kod_str" />
        <column table="a" column="v_dog" type="number" title="" as="v_dog" />
        <column table="a" column="pr_nasel" type="number" as="pr_nasel" />
        <column table="a" column="kodokved" type="number" title="" as="kodokved" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_61880_17_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_61880_3_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_61880_3_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_61880_3_tbl_id" key="1" />
        <column table="a" column="id" type="number" title="" as="id" />
        <column table="a" column="kodokved" type="number" title="" as="kodokved" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_61880_3_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_462359_tbl" class="1" timestamp="09.03.2022 23:34:48" order="ndog,num_obj" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_462359_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_462359_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="kod_gtp" type="number" as="kod_gtp" />
        <column table="a" column="name_gtp" type="string" data-size="300" title="" as="name_gtp" />
        <column table="a" column="pmax" type="number" title="" as="pmax" />
        <column table="a" column="kod_pmax_gr" type="number" as="kod_pmax_gr" />
        <column table="a" column="name_pmax_gr" type="string" data-size="300" title="" as="name_pmax_gr" />
        <column table="a" column="kod_numobj" type="number" as="kod_numobj" />
        <column table="a" column="num_obj" type="number" title="" as="num_obj" />
        <column table="a" column="name_numobj" type="string" data-size="150" title="" as="name_numobj" />
        <column table="a" column="kod_price_cat" type="number" as="kod_price_cat" />
        <column table="a" column="name_price_cat" type="string" data-size="100" title="" as="name_price_cat" />
        <column table="a" column="vltg_abbr" type="string" data-size="100" title="" as="vltg_abbr" />
        <column table="a" column="cust" type="number" title="" as="cust" />
        <column table="a" column="kodp_fsk_poteri_attp" type="number" title="" as="kodp_fsk_poteri_attp" />
        <column table="a" column="name_fsk_poteri_attp" type="string" data-size="100" title="" as="name_fsk_poteri_attp" />
        <column table="a" column="tarifname" type="string" data-size="300" title="" as="tarifname" />
        <column table="a" column="cust_kvt" type="number" as="cust_kvt" />
        <column table="a" column="cust_kvth" type="number" as="cust_kvth" />
        <column table="a" type="number" column="kvt01" as="kvt01" />
        <column table="a" column="kvt02" type="number" as="kvt02" />
        <column table="a" column="kvt03" type="number" as="kvt03" />
        <column table="a" column="kvt04" type="number" as="kvt04" />
        <column table="a" type="number" column="kvt05" as="kvt05" />
        <column table="a" column="kvt06" type="number" as="kvt06" />
        <column table="a" column="kvt07" type="number" as="kvt07" />
        <column table="a" column="kvt08" type="number" as="kvt08" />
        <column table="a" column="kvt09" type="number" as="kvt09" />
        <column table="a" column="kvt10" type="number" as="kvt10" />
        <column table="a" column="kvt11" type="number" as="kvt11" />
        <column table="a" column="kvt12" type="number" as="kvt12" />
        <column table="a" column="kvth01" type="number" as="kvth01" />
        <column table="a" column="kvth02" type="number" as="kvth02" />
        <column table="a" column="kvth03" type="number" as="kvth03" />
        <column table="a" column="kvth04" type="number" as="kvth04" />
        <column table="a" column="kvth05" type="number" as="kvth05" />
        <column table="a" column="kvth06" type="number" as="kvth06" />
        <column table="a" column="kvth07" type="number" as="kvth07" />
        <column table="a" column="kvth08" type="number" as="kvth08" />
        <column table="a" column="kvth09" type="number" as="kvth09" />
        <column table="a" column="kvth10" type="number" as="kvth10" />
        <column table="a" column="kvth11" type="number" as="kvth11" />
        <column table="a" column="kvth12" as="kvth12" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_462359_tbl" as="a" />
      </from>
      <order>
        <column column="ndog" />
        <column column="num_obj" />
      </order>
    </query>
    <query name="sqlb_rep_462361_tbl" class="1" timestamp="04.03.2022 09:00:01" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_462361_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_462361_tbl_id" key="1" dont-push="1" />
        <column table="a" column="part" type="number" title="" as="part" />
        <column table="a" column="npp" type="number" title="" as="npp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="50" title="" as="ndog" />
        <column table="a" column="fio" type="string" data-size="60" title="" as="fio" />
        <column table="a" column="date_begin" type="date" title="" as="date_begin" />
        <column table="a" column="df_price" type="string" data-size="10" title="" as="df_price" />
        <column table="a" column="cnt_dog" type="number" title="" as="cnt_dog" />
        <column table="a" column="cnt_dog_end" type="number" as="cnt_dog_end" />
        <column table="a" column="ndog2" type="string" as="ndog2" />
        <column table="a" column="fio2" type="string" as="fio2" />
        <column table="a" column="date_begin2" type="date" as="date_begin2" />
        <column table="a" column="df_price2" type="string" as="df_price2" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_462361_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61759_1_tbl" class="1" timestamp="22.11.2021 04:47:29" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61759_1_tbl.xml" haskeys="1">
      <select>
        <call as="sqlb_rep_61759_1_tbl_id" function="rowid" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="saldo_deb_beg" type="number" title="" as="saldo_deb_beg" />
        <column table="a" column="saldo_deb_beg_srz" type="number" title="" as="saldo_deb_beg_srz" />
        <column table="a" column="saldo_kred_beg" type="number" title="" as="saldo_kred_beg" />
        <column table="a" column="ob_recalc" type="number" title="" as="ob_recalc" />
        <column table="a" column="ob_deb" type="number" title="" as="ob_deb" />
        <column table="a" column="ob_kred" type="number" title="" as="ob_kred" />
        <column table="a" column="ob_return" type="number" title="" as="ob_return" />
        <column table="a" column="ob_kor" type="number" title="" as="ob_kor" />
        <column table="a" column="ob_spis_deb" type="number" title="" as="ob_spis_deb" />
        <column table="a" column="ob_spis_kred" type="number" title="" as="ob_spis_kred" />
        <column table="a" column="saldo_deb_end" type="number" title="" as="saldo_deb_end" />
        <column table="a" column="saldo_kred_end" type="number" title="" as="saldo_kred_end" />
        <column table="a" column="sdat_beg" type="string" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61759_1_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_10_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_10_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_10_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="cust_kvth_per" type="number" title="" as="cust_kvth_per" />
        <column table="a" column="saldo_beg" type="number" title="" as="saldo_beg" />
        <column table="a" column="nach_per" type="number" title="" as="nach_per" />
        <column table="a" column="opl_per" type="number" title="" as="opl_per" />
        <column table="a" column="realiz_per" type="number" title="" as="realiz_per" />
        <column table="a" column="spis_bezn_per" type="number" title="" as="spis_bezn_per" />
        <column table="a" column="saldo_deb_end" type="number" title="" as="saldo_deb_end" />
        <column table="a" column="saldo_kred_end" type="number" title="" as="saldo_kred_end" />
        <column table="a" column="dz_end_tek" type="number" title="" as="dz_end_tek" />
        <column table="a" column="dz_end_rest" type="number" title="" as="dz_end_rest" />
        <column table="a" column="dz_end_pros" type="number" title="" as="dz_end_pros" />
        <column table="a" column="dz_end_isk" type="number" title="" as="dz_end_isk" />
        <column table="a" column="dz_end_mor" type="number" title="" as="dz_end_mor" />
        <column table="a" column="dz_end_bezn" type="number" title="" as="dz_end_bezn" />
        <column table="a" column="dz_rezerv" type="number" title="" as="dz_rezerv" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_10_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_11_new_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_11_new_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_11_new_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="dz_beg" type="number" title="" as="dz_beg" />
        <column table="a" column="nach_per" type="number" title="" as="nach_per" />
        <column table="a" column="opl_per" type="number" title="" as="opl_per" />
        <column table="a" column="dz_end" type="number" title="" as="dz_end" />
        <column table="a" column="dz_pros_beg" type="number" title="" as="dz_pros_beg" />
        <column table="a" column="dz_pros_end" type="number" title="" as="dz_pros_end" />
        <column table="a" column="otrasl" type="string" data-size="1000" title="" as="otrasl" />
        <column table="a" column="budget" type="string" data-size="1000" title="" as="budget" />
        <column table="a" column="raion" type="string" data-size="1000" title="" as="raion" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_11_new_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_11_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_11_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_11_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="dz_beg1" type="number" title="" as="dz_beg1" />
        <column table="a" column="nach_per1" type="number" title="" as="nach_per1" />
        <column table="a" column="opl_per1" type="number" title="" as="opl_per1" />
        <column table="a" column="dz_end1" type="number" title="" as="dz_end1" />
        <column table="a" column="dz_beg2" type="number" title="" as="dz_beg2" />
        <column table="a" column="nach_per2" type="number" title="" as="nach_per2" />
        <column table="a" column="opl_per2" type="number" title="" as="opl_per2" />
        <column table="a" column="dz_end2" type="number" title="" as="dz_end2" />
        <column table="a" column="dz_beg3" type="number" title="" as="dz_beg3" />
        <column table="a" column="nach_per3" type="number" title="" as="nach_per3" />
        <column table="a" column="opl_per3" type="number" title="" as="opl_per3" />
        <column table="a" column="dz_end3" type="number" title="" as="dz_end3" />
        <column table="a" column="dz_pros_beg" type="number" title="" as="dz_pros_beg" />
        <column table="a" column="dz_pros_end" type="number" title="" as="dz_pros_end" />
        <column table="a" column="otrasl" type="string" data-size="1000" title="" as="otrasl" />
        <column table="a" column="budget" type="string" data-size="1000" title="" as="budget" />
        <column table="a" column="raion" type="string" data-size="1000" title="" as="raion" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_11_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_12_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_12_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_12_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="dz_pros_beg" type="number" title="" as="dz_pros_beg" />
        <column table="a" column="dz_beg" type="number" title="" as="dz_beg" />
        <column table="a" column="kz_beg" type="number" title="" as="kz_beg" />
        <column table="a" column="nach_per" type="number" title="" as="nach_per" />
        <column table="a" column="nach_per_av" type="number" title="" as="nach_per_av" />
        <column table="a" column="opl_per_rs" type="number" title="" as="opl_per_rs" />
        <column table="a" column="opl_per_rs_av" type="number" title="" as="opl_per_rs_av" />
        <column table="a" column="opl_per_k" type="number" title="" as="opl_per_k" />
        <column table="a" column="opl_per_k_av" type="number" title="" as="opl_per_k_av" />
        <column table="a" column="opl_per_v" type="number" title="" as="opl_per_v" />
        <column table="a" column="opl_per_v_av" type="number" title="" as="opl_per_v_av" />
        <column table="a" column="opl_per_v3" type="number" title="" as="opl_per_v3" />
        <column table="a" column="opl_per_v3_av" type="number" title="" as="opl_per_v3_av" />
        <column table="a" column="opl_per_oth" type="number" title="" as="opl_per_oth" />
        <column table="a" column="opl_per_oth_av" type="number" title="" as="opl_per_oth_av" />
        <column table="a" column="dz_spis_end" type="number" title="" as="dz_spis_end" />
        <column table="a" column="kz_spis_end" type="number" title="" as="kz_spis_end" />
        <column table="a" column="dz_end" type="number" title="" as="dz_end" />
        <column table="a" column="kz_end" type="number" title="" as="kz_end" />
        <column table="a" column="dz_pros_end" type="number" title="" as="dz_pros_end" />
        <column table="a" column="gr_potr_bdds" type="string" data-size="1000" title="" as="gr_potr_bdds" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_12_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_13_tbl" class="1" timestamp="17.02.2022 15:06:46" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_13_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_13_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="dz_beg" type="number" title="" as="dz_beg" />
        <column table="a" column="nach_per" type="number" title="" as="nach_per" />
        <column table="a" column="opl_per" type="number" title="" as="opl_per" />
        <column table="a" column="dz_end" type="number" title="" as="dz_end" />
        <column table="a" column="cust" type="number" title="" as="cust" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_13_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_14_tbl" class="1" timestamp="04.05.2022 14:54:05" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_14_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_14_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="kod_ck" type="number" as="kod_ck" />
        <column table="a" column="kod_mvt" type="number" as="kod_mvt" />
        <column table="a" column="kod_vidacc" type="number" as="kod_vidacc" />
        <column table="a" column="fsk_kvt" type="number" title="" as="fsk_kvt" />
        <column table="a" column="fsk_nachisl" type="number" title="" as="fsk_nachisl" />
        <column table="a" column="gn_kvt" type="number" title="" as="gn_kvt" />
        <column table="a" column="gn_nachisl" type="number" title="" as="gn_nachisl" />
        <column table="a" column="vn_kvt" type="number" title="" as="vn_kvt" />
        <column table="a" column="vn_nachisl" type="number" title="" as="vn_nachisl" />
        <column table="a" column="sn1_kvt" type="number" title="" as="sn1_kvt" />
        <column table="a" column="sn1_nachisl" type="number" title="" as="sn1_nachisl" />
        <column table="a" column="sn2_kvt" type="number" title="" as="sn2_kvt" />
        <column table="a" column="sn2_nachisl" type="number" title="" as="sn2_nachisl" />
        <column table="a" column="nn_kvt" type="number" title="" as="nn_kvt" />
        <column table="a" column="nn_nachisl" type="number" title="" as="nn_nachisl" />
        <column table="a" column="itog_kvt" type="number" title="" as="itog_kvt" />
        <column table="a" column="itog_nachisl" type="number" title="" as="itog_nachisl" />
        <column table="a" column="itog_nachisl_nds" type="number" title="" as="itog_nachisl_nds" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_14_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_15_tbl" class="1" timestamp="19.03.2022 21:30:43" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_15_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_15_tbl_id" key="1" />
        <column table="a" column="kod_razd" type="number" as="kod_razd" />
        <column table="a" column="name_razd" type="string" data-size="300" title="" as="name_razd" />
        <column table="a" column="name_razd_a" type="string" data-size="300" title="" as="name_razd_a" />
        <column table="a" column="kod_name_razd_a" type="number" as="kod_name_razd_a" />
        <column table="a" column="kod_podrazd" type="number" as="kod_podrazd" />
        <column table="a" column="name_podrazd" type="string" data-size="300" title="" as="name_podrazd" />
        <column table="a" column="name_podrazd_a" type="string" data-size="300" title="" as="name_podrazd_a" />
        <column table="a" column="kod_name_podrazd_a" type="number" as="kod_name_podrazd_a" />
        <column table="a" column="kod_okved" type="number" as="kod_okved" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="kvth" type="number" title="" as="kvth" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_15_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_17_tbl" class="1" timestamp="08.07.2022 16:28:12" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_17_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_17_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="pr_nasel" type="number" as="pr_nasel" />
        <column table="a" column="saldo_year_beg" type="number" title="" as="saldo_year_beg" />
        <column table="a" column="saldo_ym" type="number" title="" as="saldo_ym" />
        <column table="a" column="saldo_ym_tek" type="number" title="" as="saldo_ym_tek" />
        <column table="a" column="cust_kvt_ym" type="number" title="" as="cust_kvt_ym" />
        <column table="a" column="cust_kvt_year" type="number" title="" as="cust_kvt_year" />
        <column table="a" column="nach_kvt_ym" type="number" title="" as="nach_kvt_ym" />
        <column table="a" column="nach_kvt_year" type="number" title="" as="nach_kvt_year" />
        <column table="a" column="nach_all_ym" type="number" title="" as="nach_all_ym" />
        <column table="a" column="nach_all_year" type="number" title="" as="nach_all_year" />
        <column table="a" column="cust_vt_ym" type="number" title="" as="cust_vt_ym" />
        <column table="a" column="nach_vt_ym" type="number" title="" as="nach_vt_ym" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_17_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_18_tbl" class="1" timestamp="31.03.2022 16:43:40" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_18_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_18_tbl_id" key="1" />
        <column table="a" column="namep" type="string" data-size="300" title="" as="namep" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="pros_dz_on_dat" type="number" title="" as="pros_dz_on_dat" />
        <column table="a" column="dz_beg" type="number" title="" as="dz_beg" />
        <column table="a" column="kz_beg" type="number" title="" as="kz_beg" />
        <column table="a" column="av_10" type="number" title="" as="av_10" />
        <column table="a" column="nahisl" type="number" title="" as="nahisl" />
        <column table="a" column="av_25" type="number" title="" as="av_25" />
        <column table="a" column="opl_av_10" type="number" title="" as="opl_av_10" />
        <column table="a" column="opl_av_25" type="number" title="" as="opl_av_25" />
        <column table="a" column="opl_on_dat" type="number" title="" as="opl_on_dat" />
        <column table="a" column="dz_end" type="number" title="" as="dz_end" />
        <column table="a" column="kz_end" type="number" title="" as="kz_end" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="day_av" type="number" title="" data-size="256" as="day_av" />
        <column table="a" column="period_av" type="string" data-size="90" title="" as="period_av" />
        <column table="a" column="pr_rasch_av" type="string" data-size="90" title="" as="pr_rasch_av" />
        <column table="a" column="perc" type="number" title="" data-size="256" as="perc" />
        <column table="a" column="opl_sf_18" type="number" title="" as="opl_sf_18" />
        <column table="a" column="sbor_26_31_fact" type="number" title="" as="sbor_26_31_fact" />
        <column table="a" column="av_all" type="number" title="" as="av_all" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_18_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_19_tbl" class="1" timestamp="30.06.2024 21:27:25" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_19_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_19_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="kod_sf" type="number" as="kod_sf" />
        <column table="a" column="ddate" type="date" title="" as="ddate" />
        <column table="a" column="name_url" type="string" data-size="300" title="" as="name_url" />
        <column table="a" column="name_dep" type="string" data-size="300" title="" as="name_dep" />
        <column table="a" column="kod_be" type="string" data-size="300" as="kod_be" />
        <column table="a" column="name_gr_potr" type="string" data-size="300" title="" as="name_gr_potr" />
        <column table="a" column="namep" type="string" data-size="300" title="" as="namep" />
        <column table="a" column="pr_rre" type="string" data-size="300" title="" as="pr_rre" />
        <column table="a" column="pr_vgo" type="string" data-size="300" title="" as="pr_vgo" />
        <column table="a" column="inn" type="string" data-size="300" title="" as="inn" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="ddate_dog" type="date" title="" as="ddate_dog" />
        <column table="a" column="name_typedog" type="string" data-size="300" title="" as="name_typedog" />
        <column table="a" column="pr_bankr" type="string" data-size="300" title="" as="pr_bankr" />
        <column table="a" column="pr_stbankr" type="string" data-size="300" title="" as="pr_stbankr" />
        <column table="a" column="num_sf" type="string" data-size="300" title="" as="num_sf" />
        <column table="a" column="dat_sf" type="date" title="" as="dat_sf" />
        <column table="a" column="dat_bzad" type="date" title="" as="dat_bzad" />
        <column table="a" column="nday" type="number" title="" as="nday" />
        <column table="a" column="spis_rsd" type="number" title="" as="spis_rsd" />
        <column table="a" column="spis_dz" type="number" title="" as="spis_dz" />
        <const table="a" column="spis_dz" type="number" title="" as="re_spis_dz">0</const>
        <column table="a" column="dz_on_date" type="number" title="" as="dz_on_date" />
        <column table="a" column="dz_tek" type="number" title="" as="dz_tek" />
        <column table="a" column="dz_prosr_0_30" type="number" title="" as="dz_prosr_0_30" />
        <column table="a" column="dz_prosr_30_45" type="number" title="" as="dz_prosr_30_45" />
        <column table="a" column="dz_prosr_45_60" type="number" title="" as="dz_prosr_45_60" />
        <column table="a" column="dz_prosr_60_90" type="number" title="" as="dz_prosr_60_90" />
        <column table="a" column="dz_prosr_90_180" type="number" title="" as="dz_prosr_90_180" />
        <column table="a" column="dz_prosr_180_365" type="number" title="" as="dz_prosr_180_365" />
        <column table="a" column="dz_prosr_365_1095" type="number" title="" as="dz_prosr_365_1095" />
        <column table="a" column="dz_prosr_1095" type="number" title="" as="dz_prosr_1095" />
        <column table="a" column="kz_ym_end" type="number" title="" as="kz_ym_end" />
        <column table="a" column="dz_rsd_all" type="number" title="" as="dz_rsd_all" />
        <column table="a" column="dz_rsd_tek" type="number" title="" as="dz_rsd_tek" />
        <column table="a" column="dz_rsd_0_45" type="number" title="" as="dz_rsd_0_45" />
        <column table="a" column="dz_rsd_45_90" type="number" title="" as="dz_rsd_45_90" />
        <column table="a" column="dz_rsd_90" type="number" title="" as="dz_rsd_90" />
        <column table="a" column="rsd_45_90" type="number" title="" as="rsd_45_90" />
        <column table="a" column="rsd_90" type="number" title="" as="rsd_90" />
        <column table="a" column="rsd_all" type="number" title="" as="rsd_all" />
        <column table="a" column="not_nu" type="number" title="" as="not_nu" />
        <column table="a" column="spis_dz_rsd" type="number" title="" as="spis_dz_rsd" />
        <column table="a" column="sdat_beg" type="string" data-size="300" title="" as="sdat_beg" />
        <column table="a" column="sdat_end" type="string" data-size="300" title="" as="sdat_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_19_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_20_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_20_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_20_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="number_dog" type="string" data-size="300" title="" as="number_dog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="payer_inn" type="string" data-size="300" title="" as="payer_inn" />
        <column table="a" column="vid_real" type="number" title="" as="vid_real" />
        <column table="a" column="vid_real_name" type="string" data-size="300" title="" as="vid_real_name" />
        <column table="a" column="saldo_beg" type="number" title="" as="saldo_beg" />
        <column table="a" column="dz_beg" type="number" title="" as="dz_beg" />
        <column table="a" column="kz_beg" type="number" title="" as="kz_beg" />
        <column table="a" column="pol_otpusk" type="number" title="" as="pol_otpusk" />
        <column table="a" column="nach_otch_all" type="number" title="" as="nach_otch_all" />
        <column table="a" column="nach_otch" type="number" title="" as="nach_otch" />
        <column table="a" column="per_past_per_plu" type="number" title="" as="per_past_per_plu" />
        <column table="a" column="per_past_per_min" type="number" title="" as="per_past_per_min" />
        <column table="a" column="opl_otch_per_all" type="number" title="" as="opl_otch_per_all" />
        <column table="a" column="opl_otch_per" type="number" title="" as="opl_otch_per" />
        <column table="a" column="opl_past_per" type="number" title="" as="opl_past_per" />
        <column table="a" column="opl_future_per" type="number" title="" as="opl_future_per" />
        <column table="a" column="vozvrat_all" type="number" title="" as="vozvrat_all" />
        <column table="a" column="vozvrat_pay" type="number" title="" as="vozvrat_pay" />
        <column table="a" column="vozvrat_avans" type="number" title="" as="vozvrat_avans" />
        <column table="a" column="realization" type="number" title="" as="realization" />
        <column table="a" column="opl_real_otch_per" type="number" title="" as="opl_real_otch_per" />
        <column table="a" column="vozvrat_pay_real" type="number" title="" as="vozvrat_pay_real" />
        <column table="a" column="zachteno_avansov" type="number" title="" as="zachteno_avansov" />
        <column table="a" column="dz_spis" type="number" title="" as="dz_spis" />
        <column table="a" column="kz_spis" type="number" title="" as="kz_spis" />
        <column table="a" column="saldo_end" type="number" title="" as="saldo_end" />
        <column table="a" column="dz_end" type="number" title="" as="dz_end" />
        <column table="a" column="kz_end" type="number" title="" as="kz_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_20_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_2_int_date_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_2_int_date_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_2_int_date_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="dz_beg" type="number" title="" as="dz_beg" />
        <column table="a" column="sv_beg" type="number" title="" as="sv_beg" />
        <column table="a" column="av_beg" type="number" title="" as="av_beg" />
        <column table="a" column="per_beg" type="number" title="" as="per_beg" />
        <column table="a" column="cust_per" type="number" title="" as="cust_per" />
        <column table="a" column="nach_per" type="number" title="" as="nach_per" />
        <column table="a" column="opl_per" type="number" title="" as="opl_per" />
        <column table="a" column="opl_per_tek" type="number" title="" as="opl_per_tek" />
        <column table="a" column="opl_per_other" type="number" title="" as="opl_per_other" />
        <column table="a" column="opl_av" type="number" title="" as="opl_av" />
        <column table="a" column="opl_non_monet" type="number" title="" as="opl_non_monet" />
        <column table="a" column="ob_spis" type="number" title="" as="ob_spis" />
        <column table="a" column="dz_end" type="number" title="" as="dz_end" />
        <column table="a" column="sv_end" type="number" title="" as="sv_end" />
        <column table="a" column="av_end" type="number" title="" as="av_end" />
        <column table="a" column="per_end" type="number" title="" as="per_end" />
        <column table="a" column="pr_vgo" type="string" data-size="300" title="" as="pr_vgo" />
        <column table="a" column="saldo_beg" type="number" title="" as="saldo_beg" />
        <column table="a" column="saldo_end" type="number" title="" as="saldo_end" />
        <column table="a" column="per_otp_old" type="number" title="" as="per_otp_old" />
        <column table="a" column="per_otp_tek" type="number" title="" as="per_otp_tek" />
        <column table="a" column="per_nach_old" type="number" title="" as="per_nach_old" />
        <column table="a" column="per_nach_tek" type="number" title="" as="per_nach_tek" />
        <column table="a" column="vozvrat_kz" type="number" title="" as="vozvrat_kz" />
        <column table="a" column="period_num" type="number" title="" comment="Номер периода (1-основной, 2-дополнительный период)" as="period_num" />
        <column table="a" column="kod_group_cust_level1" type="number" comment="Код отрасли ээ самого верхнего уровня (уровень 1 - корневой)" as="kod_group_cust_level1" />
        <column table="a" column="gr_potr_name_level1" type="string" data-size="200" title="" comment="Наименование отрасли ээ уровень 1 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level1" />
        <column table="a" column="gr_potr_name_level2" type="string" data-size="200" title="" comment="Наименование отрасли ээ уровень 2 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level2" />
        <column table="a" column="gr_potr_name_level3" type="string" data-size="200" title="" comment="Наименование отрасли ээ уровень 3 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level3" />
        <column table="a" column="gr_potr_name_level4" type="string" data-size="200" title="" comment="Наименование отрасли ээ уровень 4 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level4" />
        <column table="a" column="gr_potr_name_level5" type="string" data-size="200" title="" comment="Наименование отрасли ээ уровень 5 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level5" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_2_int_date_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_61880_9_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_61880_9_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_61880_9_tbl_id" key="1" />
        <column table="a" column="kod_account" type="number" as="kod_account" />
        <column table="a" column="kod_f46" type="number" as="kod_f46" />
        <column table="a" column="dep" type="number" title="" as="dep" />
        <column table="a" column="dep_name" type="string" data-size="300" title="" as="dep_name" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="adress_region" type="number" title="" as="adress_region" />
        <column table="a" column="vid_t" type="number" title="" as="vid_t" />
        <column table="a" column="kod_numobj" type="number" as="kod_numobj" />
        <column table="a" column="num_obj" type="number" title="" as="num_obj" />
        <column table="a" column="obj_name" type="string" data-size="300" title="" as="obj_name" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="rym" type="number" title="" as="rym" />
        <column table="a" column="f46_razdel" type="string" data-size="300" title="" as="f46_razdel" />
        <column table="a" column="f46_podrazdel" type="string" data-size="300" title="" as="f46_podrazdel" />
        <column table="a" column="f46_razdel_name" type="string" data-size="300" title="" as="f46_razdel_name" />
        <column table="a" column="f46_podrazdel_name" type="string" data-size="300" title="" as="f46_podrazdel_name" />
        <column table="a" column="f46_npp" type="string" data-size="300" title="" as="f46_npp" />
        <column table="a" column="f46_name" type="string" data-size="300" title="" as="f46_name" />
        <column table="a" column="nach" type="number" title="" as="nach" />
        <column table="a" column="nachisl" type="number" title="" as="nachisl" />
        <column table="a" column="cust" type="number" title="" as="cust" />
        <column table="a" column="num_t" type="number" title="" as="num_t" />
        <column table="a" column="vid_t_name" type="string" data-size="300" title="" as="vid_t_name" />
        <column table="a" column="voltage" type="number" title="" as="voltage" />
        <column table="a" column="voltage_abbr" type="string" data-size="300" title="" as="voltage_abbr" />
        <column table="a" column="kodinterval" type="number" title="" as="kodinterval" />
        <column table="a" column="interval_name" type="string" data-size="300" title="" as="interval_name" />
        <column table="a" column="edizm" type="number" title="" as="edizm" />
        <column table="a" column="edizm_name" type="string" data-size="300" title="" as="edizm_name" />
        <column table="a" column="category" type="number" title="" as="category" />
        <column table="a" column="category_name" type="string" data-size="300" title="" as="category_name" />
        <column table="a" column="npp" type="number" title="" as="npp" />
        <column table="a" column="tip_tar" type="string" data-size="300" title="" as="tip_tar" />
        <column table="a" column="pr_2rate" type="number" title="" as="pr_2rate" />
        <column table="a" column="pr_2rate_name" type="string" data-size="300" title="" as="pr_2rate_name" />
        <column table="a" column="zone" type="number" title="" as="zone" />
        <column table="a" column="pr_usl" type="number" title="" as="pr_usl" />
        <column table="a" column="pr_free" type="number" title="" as="pr_free" />
        <column table="a" column="pr_nasel" type="number" title="" as="pr_nasel" />
        <column table="a" column="kod_fs" type="number" as="kod_fs" />
        <column table="a" column="size_doc" type="number" title="" comment="форма СФ (2 - схлопнутая;0,1 - не схлопнутые)." as="size_doc" />
        <column table="a" column="is_iku" type="number" title="" comment="Признак формы договора с ИКУ (0,1)" as="is_iku" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_61880_9_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_63051_tbl" class="1" timestamp="14.04.2022 14:19:38" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_63051_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_63051_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="name_mo" type="string" data-size="300" title="" as="name_mo" />
        <column table="a" column="name_dist" type="string" data-size="300" title="" as="name_dist" />
        <column table="a" column="cust_pu" type="number" title="" as="cust_pu" />
        <column table="a" column="cust_r" type="number" title="" as="cust_r" />
        <column table="a" column="kod_okved" type="number" as="kod_okved" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_63051_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64224_tbl" class="1" timestamp="08.09.2022 11:39:40" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64224_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64224_tbl_id" key="1" />
        <column table="a" column="kode_priem" type="number" column-mandatory="1" title="" as="kode_priem" />
        <column table="a" column="kod_dog" type="number" column-mandatory="1" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="50" title="" as="ndog" />
        <column table="a" column="payername" type="string" data-size="200" title="" as="payername" />
        <column table="a" column="kod_numobje" type="number" as="kod_numobje" />
        <column table="a" column="num_obj" type="number" title="" as="num_obj" />
        <column table="a" column="name_obj" type="string" data-size="150" title="" as="name_obj" />
        <column table="a" column="ndog_ts" type="string" data-size="50" title="" as="ndog_ts" />
        <column table="a" column="sname_tarif" type="string" data-size="100" title="" as="sname_tarif" />
        <column table="a" column="name_tarif" type="string" data-size="250" title="" as="name_tarif" />
        <column table="a" column="nomer" type="number" column-mandatory="1" title="" as="nomer" />
        <column table="a" column="name" type="string" data-size="210" title="Наименование" as="name" />
        <column table="a" column="en_abbr" type="string" data-size="2" title="" as="en_abbr" />
        <column table="a" column="en_name" type="string" data-size="50" title="" as="en_name" />
        <column table="a" column="method" type="string" data-size="50" title="" as="method" />
        <column table="a" column="interval_abbr" type="string" data-size="3" title="" as="interval_abbr" />
        <column table="a" column="ym" type="number" column-mandatory="1" title="" as="ym" />
        <column table="a" column="nom_pu" type="string" data-size="20" title="" as="nom_pu" />
        <column table="a" column="kod_point" type="number" column-mandatory="1" as="kod_point" />
        <column table="a" column="readprev" type="number" title="" as="readprev" />
        <column table="a" column="readlast" type="number" title="" as="readlast" />
        <column table="a" column="outcounter" type="number" title="" as="outcounter" />
        <column table="a" column="rkoeff" type="number" title="" as="rkoeff" />
        <column table="a" column="outadd" type="number" title="" as="outadd" />
        <column table="a" column="potcounter" type="number" title="" as="potcounter" />
        <column table="a" column="out" type="number" title="" as="out" />
        <column table="a" column="cust" type="number" title="" as="cust" />
        <column table="a" column="tpoint_abbr" type="string" data-size="3" title="" as="tpoint_abbr" />
        <column table="a" column="net_1_name" type="string" data-size="200" title="" as="net_1_name" />
        <column table="a" column="abbr_volt" type="string" data-size="4" title="" as="abbr_volt" />
        <column table="a" column="net_name" type="string" data-size="200" title="" as="net_name" />
        <column table="a" column="price_cat" type="string" data-size="16" title="" as="price_cat" />
        <column table="a" column="pmax_text" type="string" data-size="19" title="" as="pmax_text" />
        <column table="a" column="dep" type="number" column-mandatory="1" title="" as="dep" />
        <column table="a" column="p_act" type="number" title="" as="p_act" />
        <column table="a" column="p_seti" type="number" title="" as="p_seti" />
        <column table="a" title="out_vn" column="out_vn" as="out_vn" />
        <column table="a" column="out_sn1" as="out_sn1" />
        <column table="a" column="out_sn2" as="out_sn2" />
        <column table="a" column="out_nn" as="out_nn" />
        <column table="a" column="out_fsk" as="out_fsk" />
        <column table="a" column="out_gn" as="out_gn" />
        <column table="a" column="p_seti_vn" as="p_seti_vn" />
        <column table="a" column="p_seti_sn1" as="p_seti_sn1" />
        <column table="a" column="p_seti_sn2" as="p_seti_sn2" />
        <column table="a" column="p_seti_nn" as="p_seti_nn" />
        <column table="a" as="p_seti_gn" column="p_seti_gn" />
        <column table="a" column="p_seti_fsk" as="p_seti_fsk" />
        <column table="a" column="p_act_vn" as="p_act_vn" />
        <column table="a" column="p_act_sn1" as="p_act_sn1" />
        <column table="a" column="p_act_sn2" as="p_act_sn2" />
        <column table="a" column="p_act_nn" as="p_act_nn" />
        <column table="a" column="p_act_gn" as="p_act_gn" />
        <column table="a" column="p_act_fsk" as="p_act_fsk" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64224_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64483_tbl" class="1" timestamp="18.11.2022 10:23:20" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64483_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64483_tbl_id" key="1" />
        <column table="a" column="sequential_number" type="number" title="" as="sequential_number" />
        <column table="a" column="feed_line" type="string" data-size="210" title="" as="feed_line" />
        <column table="a" column="supply_point" type="string" data-size="4000" title="" as="supply_point" />
        <column table="a" column="name_object" type="string" data-size="4000" title="" as="name_object" />
        <column table="a" column="place_installation" type="string" data-size="200" title="" as="place_installation" />
        <column table="a" column="type_el_meter" type="string" data-size="50" title="" as="type_el_meter" />
        <column table="a" column="el_meter_number" type="string" data-size="30" title="" as="el_meter_number" />
        <column table="a" column="accuracy_class_el_meter" type="string" data-size="20" title="" as="accuracy_class_el_meter" />
        <column table="a" column="date_verif_el_meter" type="string" data-size="81" title="" as="date_verif_el_meter" />
        <column table="a" column="design_factor" type="string" data-size="4000" title="" as="design_factor" />
        <column table="a" column="curr_transformer_type" type="string" data-size="250" title="" as="curr_transformer_type" />
        <column table="a" column="curr_transformer_num_1" type="string" data-size="20" title="" as="curr_transformer_num_1" />
        <column table="a" column="curr_transformer_num_2" type="string" data-size="20" title="" as="curr_transformer_num_2" />
        <column table="a" column="curr_transformer_num_3" type="string" data-size="20" title="" as="curr_transformer_num_3" />
        <column table="a" column="accuracy_class_curr_trans" type="string" data-size="250" title="" as="accuracy_class_curr_trans" />
        <column table="a" column="date_verif_curr_transformer" type="string" data-size="81" title="" as="date_verif_curr_transformer" />
        <column table="a" column="curr_trans_design_factor" type="string" data-size="250" title="" as="curr_trans_design_factor" />
        <column table="a" column="voltage_transformer_type" type="string" data-size="250" title="" as="voltage_transformer_type" />
        <column table="a" column="voltage_transformer_num_1" type="string" data-size="20" title="" as="voltage_transformer_num_1" />
        <column table="a" column="voltage_transformer_num_2" type="string" data-size="20" title="" as="voltage_transformer_num_2" />
        <column table="a" column="voltage_transformer_num_3" type="string" data-size="20" title="" as="voltage_transformer_num_3" />
        <column table="a" column="accuracy_class_voltage_trans" type="string" data-size="250" title="" as="accuracy_class_voltage_trans" />
        <column table="a" column="date_verif_voltage_trans" type="string" data-size="81" title="" as="date_verif_voltage_trans" />
        <column table="a" column="voltage_trans_design_factor" type="string" data-size="250" title="" as="voltage_trans_design_factor" />
        <column table="a" column="initial_indications" type="string" data-size="4000" title="" as="initial_indications" />
        <column table="a" column="constant_loss" type="string" data-size="4000" title="" as="constant_loss" />
        <column table="a" column="variable_loss" type="string" data-size="4000" title="" as="variable_loss" />
        <column table="a" column="maximum_power" type="number" title="" as="maximum_power" />
        <column table="a" column="voltage_level_point" type="number" title="" as="voltage_level_point" />
        <column table="a" column="reliability_category" type="string" data-size="130" title="" as="reliability_category" />
        <column table="a" column="price_category" type="string" data-size="4000" title="" as="price_category" />
        <column table="a" column="voltage_level_tariff" type="string" data-size="4000" title="" as="voltage_level_tariff" />
        <column table="a" column="balance_affiliation" type="string" data-size="20" title="" as="balance_affiliation" />
        <column table="a" column="actual_voltage_level" type="string" data-size="20" title="" as="actual_voltage_level" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="kod_point" as="kod_point" />
        <column table="a" column="tr" as="tr" />
        <column table="a" column="dognum" as="dognum" />
        <column table="a" column="kod_dog_p" type="number" as="kod_dog_p" />
        <column table="a" column="dognum_p" type="string" as="dognum_p" />
        <column table="a" column="payername" type="string" as="payername" />
        <column table="a" column="payername_p" type="string" as="payername_p" />
        <column table="a" column="gran" as="gran" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64483_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64650_tbl" class="1" order="str_n" timestamp="12.09.2023 11:41:08" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64650_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64650_tbl_id" key="1" />
        <column column="name_t" table="a" as="name_t" type="string" />
        <column column="str_n" table="a" as="str_n" type="number" />
        <column column="kod_t" table="a" as="kod_t" type="string" />
        <column column="kod_t_loc" table="a" as="kod_t_loc" type="string" />
        <column column="ed_okei" table="a" as="ed_okei" type="string" />
        <column column="kod_k_real" table="a" as="kod_k_real" type="string" />
        <column column="price_kvth" table="a" as="price_kvth" type="number" />
        <column column="cust_kvth" table="a" as="cust_kvth" type="number" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64650_tbl" as="a" />
      </from>
      <order>
        <column column="str_n" />
      </order>
    </query>
    <query name="sqlb_rep_64651_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64651_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64651_tbl_id" key="1" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="name_c" type="string" data-size="300" title="" as="name_c" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="nach01_nas_kvth" type="number" title="" as="nach01_nas_kvth" />
        <column table="a" column="cust01_nas_kvth" type="number" title="" as="cust01_nas_kvth" />
        <column table="a" column="price01_nas_kvth" type="number" title="" as="price01_nas_kvth" />
        <column table="a" column="nach01_pr_dog_1_kvth" type="number" title="" as="nach01_pr_dog_1_kvth" />
        <column table="a" column="cust01_pr_dog_1_kvth" type="number" title="" as="cust01_pr_dog_1_kvth" />
        <column table="a" column="price01_pr_dog_1_kvth" type="number" title="" as="price01_pr_dog_1_kvth" />
        <column table="a" column="nach01_prochie_1_kvth" type="number" title="" as="nach01_prochie_1_kvth" />
        <column table="a" column="cust01_prochie_1_kvth" type="number" title="" as="cust01_prochie_1_kvth" />
        <column table="a" column="price01_prochie_1_kvth" type="number" title="" as="price01_prochie_1_kvth" />
        <column table="a" column="nach01_setevie_1_kvth" type="number" title="" as="nach01_setevie_1_kvth" />
        <column table="a" column="cust01_setevie_1_kvth" type="number" title="" as="cust01_setevie_1_kvth" />
        <column table="a" column="price01_setevie_1_kvth" type="number" title="" as="price01_setevie_1_kvth" />
        <column table="a" column="nach01_pr_dog_2_kvth" type="number" title="" as="nach01_pr_dog_2_kvth" />
        <column table="a" column="cust01_pr_dog_2_kvth" type="number" title="" as="cust01_pr_dog_2_kvth" />
        <column table="a" column="price01_pr_dog_2_kvth" type="number" title="" as="price01_pr_dog_2_kvth" />
        <column table="a" column="nach01_prochie_2_kvth" type="number" title="" as="nach01_prochie_2_kvth" />
        <column table="a" column="cust01_prochie_2_kvth" type="number" title="" as="cust01_prochie_2_kvth" />
        <column table="a" column="price01_prochie_2_kvth" type="number" title="" as="price01_prochie_2_kvth" />
        <column table="a" column="nach01_pr_dog_2_kvt" type="number" title="" as="nach01_pr_dog_2_kvt" />
        <column table="a" column="cust01_pr_dog_2_kvt" type="number" title="" as="cust01_pr_dog_2_kvt" />
        <column table="a" column="price01_pr_dog_2_kvt" type="number" title="" as="price01_pr_dog_2_kvt" />
        <column table="a" column="nach01_prochie_2_kvt" type="number" title="" as="nach01_prochie_2_kvt" />
        <column table="a" column="cust01_prochie_2_kvt" type="number" title="" as="cust01_prochie_2_kvt" />
        <column table="a" column="price01_prochie_2_kvt" type="number" title="" as="price01_prochie_2_kvt" />
        <column table="a" column="nach02_nas_kvth" type="number" title="" as="nach02_nas_kvth" />
        <column table="a" column="cust02_nas_kvth" type="number" title="" as="cust02_nas_kvth" />
        <column table="a" column="price02_nas_kvth" type="number" title="" as="price02_nas_kvth" />
        <column table="a" column="nach02_pr_dog_1_kvth" type="number" title="" as="nach02_pr_dog_1_kvth" />
        <column table="a" column="cust02_pr_dog_1_kvth" type="number" title="" as="cust02_pr_dog_1_kvth" />
        <column table="a" column="price02_pr_dog_1_kvth" type="number" title="" as="price02_pr_dog_1_kvth" />
        <column table="a" column="nach02_prochie_1_kvth" type="number" title="" as="nach02_prochie_1_kvth" />
        <column table="a" column="cust02_prochie_1_kvth" type="number" title="" as="cust02_prochie_1_kvth" />
        <column table="a" column="price02_prochie_1_kvth" type="number" title="" as="price02_prochie_1_kvth" />
        <column table="a" column="nach02_setevie_1_kvth" type="number" title="" as="nach02_setevie_1_kvth" />
        <column table="a" column="cust02_setevie_1_kvth" type="number" title="" as="cust02_setevie_1_kvth" />
        <column table="a" column="price02_setevie_1_kvth" type="number" title="" as="price02_setevie_1_kvth" />
        <column table="a" column="nach02_pr_dog_2_kvth" type="number" title="" as="nach02_pr_dog_2_kvth" />
        <column table="a" column="cust02_pr_dog_2_kvth" type="number" title="" as="cust02_pr_dog_2_kvth" />
        <column table="a" column="price02_pr_dog_2_kvth" type="number" title="" as="price02_pr_dog_2_kvth" />
        <column table="a" column="nach02_prochie_2_kvth" type="number" title="" as="nach02_prochie_2_kvth" />
        <column table="a" column="cust02_prochie_2_kvth" type="number" title="" as="cust02_prochie_2_kvth" />
        <column table="a" column="price02_prochie_2_kvth" type="number" title="" as="price02_prochie_2_kvth" />
        <column table="a" column="nach02_pr_dog_2_kvt" type="number" title="" as="nach02_pr_dog_2_kvt" />
        <column table="a" column="cust02_pr_dog_2_kvt" type="number" title="" as="cust02_pr_dog_2_kvt" />
        <column table="a" column="price02_pr_dog_2_kvt" type="number" title="" as="price02_pr_dog_2_kvt" />
        <column table="a" column="nach02_prochie_2_kvt" type="number" title="" as="nach02_prochie_2_kvt" />
        <column table="a" column="cust02_prochie_2_kvt" type="number" title="" as="cust02_prochie_2_kvt" />
        <column table="a" column="price02_prochie_2_kvt" type="number" title="" as="price02_prochie_2_kvt" />
        <column table="a" column="nach03_nas_kvth" type="number" title="" as="nach03_nas_kvth" />
        <column table="a" column="cust03_nas_kvth" type="number" title="" as="cust03_nas_kvth" />
        <column table="a" column="price03_nas_kvth" type="number" title="" as="price03_nas_kvth" />
        <column table="a" column="nach03_pr_dog_1_kvth" type="number" title="" as="nach03_pr_dog_1_kvth" />
        <column table="a" column="cust03_pr_dog_1_kvth" type="number" title="" as="cust03_pr_dog_1_kvth" />
        <column table="a" column="price03_pr_dog_1_kvth" type="number" title="" as="price03_pr_dog_1_kvth" />
        <column table="a" column="nach03_prochie_1_kvth" type="number" title="" as="nach03_prochie_1_kvth" />
        <column table="a" column="cust03_prochie_1_kvth" type="number" title="" as="cust03_prochie_1_kvth" />
        <column table="a" column="price03_prochie_1_kvth" type="number" title="" as="price03_prochie_1_kvth" />
        <column table="a" column="nach03_setevie_1_kvth" type="number" title="" as="nach03_setevie_1_kvth" />
        <column table="a" column="cust03_setevie_1_kvth" type="number" title="" as="cust03_setevie_1_kvth" />
        <column table="a" column="price03_setevie_1_kvth" type="number" title="" as="price03_setevie_1_kvth" />
        <column table="a" column="nach03_pr_dog_2_kvth" type="number" title="" as="nach03_pr_dog_2_kvth" />
        <column table="a" column="cust03_pr_dog_2_kvth" type="number" title="" as="cust03_pr_dog_2_kvth" />
        <column table="a" column="price03_pr_dog_2_kvth" type="number" title="" as="price03_pr_dog_2_kvth" />
        <column table="a" column="nach03_prochie_2_kvth" type="number" title="" as="nach03_prochie_2_kvth" />
        <column table="a" column="cust03_prochie_2_kvth" type="number" title="" as="cust03_prochie_2_kvth" />
        <column table="a" column="price03_prochie_2_kvth" type="number" title="" as="price03_prochie_2_kvth" />
        <column table="a" column="nach03_pr_dog_2_kvt" type="number" title="" as="nach03_pr_dog_2_kvt" />
        <column table="a" column="cust03_pr_dog_2_kvt" type="number" title="" as="cust03_pr_dog_2_kvt" />
        <column table="a" column="price03_pr_dog_2_kvt" type="number" title="" as="price03_pr_dog_2_kvt" />
        <column table="a" column="nach03_prochie_2_kvt" type="number" title="" as="nach03_prochie_2_kvt" />
        <column table="a" column="cust03_prochie_2_kvt" type="number" title="" as="cust03_prochie_2_kvt" />
        <column table="a" column="price03_prochie_2_kvt" type="number" title="" as="price03_prochie_2_kvt" />
        <column table="a" column="nach04_nas_kvth" type="number" title="" as="nach04_nas_kvth" />
        <column table="a" column="cust04_nas_kvth" type="number" title="" as="cust04_nas_kvth" />
        <column table="a" column="price04_nas_kvth" type="number" title="" as="price04_nas_kvth" />
        <column table="a" column="nach04_pr_dog_1_kvth" type="number" title="" as="nach04_pr_dog_1_kvth" />
        <column table="a" column="cust04_pr_dog_1_kvth" type="number" title="" as="cust04_pr_dog_1_kvth" />
        <column table="a" column="price04_pr_dog_1_kvth" type="number" title="" as="price04_pr_dog_1_kvth" />
        <column table="a" column="nach04_prochie_1_kvth" type="number" title="" as="nach04_prochie_1_kvth" />
        <column table="a" column="cust04_prochie_1_kvth" type="number" title="" as="cust04_prochie_1_kvth" />
        <column table="a" column="price04_prochie_1_kvth" type="number" title="" as="price04_prochie_1_kvth" />
        <column table="a" column="nach04_setevie_1_kvth" type="number" title="" as="nach04_setevie_1_kvth" />
        <column table="a" column="cust04_setevie_1_kvth" type="number" title="" as="cust04_setevie_1_kvth" />
        <column table="a" column="price04_setevie_1_kvth" type="number" title="" as="price04_setevie_1_kvth" />
        <column table="a" column="nach04_pr_dog_2_kvth" type="number" title="" as="nach04_pr_dog_2_kvth" />
        <column table="a" column="cust04_pr_dog_2_kvth" type="number" title="" as="cust04_pr_dog_2_kvth" />
        <column table="a" column="price04_pr_dog_2_kvth" type="number" title="" as="price04_pr_dog_2_kvth" />
        <column table="a" column="nach04_prochie_2_kvth" type="number" title="" as="nach04_prochie_2_kvth" />
        <column table="a" column="cust04_prochie_2_kvth" type="number" title="" as="cust04_prochie_2_kvth" />
        <column table="a" column="price04_prochie_2_kvth" type="number" title="" as="price04_prochie_2_kvth" />
        <column table="a" column="nach04_pr_dog_2_kvt" type="number" title="" as="nach04_pr_dog_2_kvt" />
        <column table="a" column="cust04_pr_dog_2_kvt" type="number" title="" as="cust04_pr_dog_2_kvt" />
        <column table="a" column="price04_pr_dog_2_kvt" type="number" title="" as="price04_pr_dog_2_kvt" />
        <column table="a" column="nach04_prochie_2_kvt" type="number" title="" as="nach04_prochie_2_kvt" />
        <column table="a" column="cust04_prochie_2_kvt" type="number" title="" as="cust04_prochie_2_kvt" />
        <column table="a" column="price04_prochie_2_kvt" type="number" title="" as="price04_prochie_2_kvt" />
        <column table="a" column="nach05_nas_kvth" type="number" title="" as="nach05_nas_kvth" />
        <column table="a" column="cust05_nas_kvth" type="number" title="" as="cust05_nas_kvth" />
        <column table="a" column="price05_nas_kvth" type="number" title="" as="price05_nas_kvth" />
        <column table="a" column="nach05_pr_dog_1_kvth" type="number" title="" as="nach05_pr_dog_1_kvth" />
        <column table="a" column="cust05_pr_dog_1_kvth" type="number" title="" as="cust05_pr_dog_1_kvth" />
        <column table="a" column="price05_pr_dog_1_kvth" type="number" title="" as="price05_pr_dog_1_kvth" />
        <column table="a" column="nach05_prochie_1_kvth" type="number" title="" as="nach05_prochie_1_kvth" />
        <column table="a" column="cust05_prochie_1_kvth" type="number" title="" as="cust05_prochie_1_kvth" />
        <column table="a" column="price05_prochie_1_kvth" type="number" title="" as="price05_prochie_1_kvth" />
        <column table="a" column="nach05_setevie_1_kvth" type="number" title="" as="nach05_setevie_1_kvth" />
        <column table="a" column="cust05_setevie_1_kvth" type="number" title="" as="cust05_setevie_1_kvth" />
        <column table="a" column="price05_setevie_1_kvth" type="number" title="" as="price05_setevie_1_kvth" />
        <column table="a" column="nach05_pr_dog_2_kvth" type="number" title="" as="nach05_pr_dog_2_kvth" />
        <column table="a" column="cust05_pr_dog_2_kvth" type="number" title="" as="cust05_pr_dog_2_kvth" />
        <column table="a" column="price05_pr_dog_2_kvth" type="number" title="" as="price05_pr_dog_2_kvth" />
        <column table="a" column="nach05_prochie_2_kvth" type="number" title="" as="nach05_prochie_2_kvth" />
        <column table="a" column="cust05_prochie_2_kvth" type="number" title="" as="cust05_prochie_2_kvth" />
        <column table="a" column="price05_prochie_2_kvth" type="number" title="" as="price05_prochie_2_kvth" />
        <column table="a" column="nach05_pr_dog_2_kvt" type="number" title="" as="nach05_pr_dog_2_kvt" />
        <column table="a" column="cust05_pr_dog_2_kvt" type="number" title="" as="cust05_pr_dog_2_kvt" />
        <column table="a" column="price05_pr_dog_2_kvt" type="number" title="" as="price05_pr_dog_2_kvt" />
        <column table="a" column="nach05_prochie_2_kvt" type="number" title="" as="nach05_prochie_2_kvt" />
        <column table="a" column="cust05_prochie_2_kvt" type="number" title="" as="cust05_prochie_2_kvt" />
        <column table="a" column="price05_prochie_2_kvt" type="number" title="" as="price05_prochie_2_kvt" />
        <column table="a" column="nach06_nas_kvth" type="number" title="" as="nach06_nas_kvth" />
        <column table="a" column="cust06_nas_kvth" type="number" title="" as="cust06_nas_kvth" />
        <column table="a" column="price06_nas_kvth" type="number" title="" as="price06_nas_kvth" />
        <column table="a" column="nach06_pr_dog_1_kvth" type="number" title="" as="nach06_pr_dog_1_kvth" />
        <column table="a" column="cust06_pr_dog_1_kvth" type="number" title="" as="cust06_pr_dog_1_kvth" />
        <column table="a" column="price06_pr_dog_1_kvth" type="number" title="" as="price06_pr_dog_1_kvth" />
        <column table="a" column="nach06_prochie_1_kvth" type="number" title="" as="nach06_prochie_1_kvth" />
        <column table="a" column="cust06_prochie_1_kvth" type="number" title="" as="cust06_prochie_1_kvth" />
        <column table="a" column="price06_prochie_1_kvth" type="number" title="" as="price06_prochie_1_kvth" />
        <column table="a" column="nach06_setevie_1_kvth" type="number" title="" as="nach06_setevie_1_kvth" />
        <column table="a" column="cust06_setevie_1_kvth" type="number" title="" as="cust06_setevie_1_kvth" />
        <column table="a" column="price06_setevie_1_kvth" type="number" title="" as="price06_setevie_1_kvth" />
        <column table="a" column="nach06_pr_dog_2_kvth" type="number" title="" as="nach06_pr_dog_2_kvth" />
        <column table="a" column="cust06_pr_dog_2_kvth" type="number" title="" as="cust06_pr_dog_2_kvth" />
        <column table="a" column="price06_pr_dog_2_kvth" type="number" title="" as="price06_pr_dog_2_kvth" />
        <column table="a" column="nach06_prochie_2_kvth" type="number" title="" as="nach06_prochie_2_kvth" />
        <column table="a" column="cust06_prochie_2_kvth" type="number" title="" as="cust06_prochie_2_kvth" />
        <column table="a" column="price06_prochie_2_kvth" type="number" title="" as="price06_prochie_2_kvth" />
        <column table="a" column="nach06_pr_dog_2_kvt" type="number" title="" as="nach06_pr_dog_2_kvt" />
        <column table="a" column="cust06_pr_dog_2_kvt" type="number" title="" as="cust06_pr_dog_2_kvt" />
        <column table="a" column="price06_pr_dog_2_kvt" type="number" title="" as="price06_pr_dog_2_kvt" />
        <column table="a" column="nach06_prochie_2_kvt" type="number" title="" as="nach06_prochie_2_kvt" />
        <column table="a" column="cust06_prochie_2_kvt" type="number" title="" as="cust06_prochie_2_kvt" />
        <column table="a" column="price06_prochie_2_kvt" type="number" title="" as="price06_prochie_2_kvt" />
        <column table="a" column="nach07_nas_kvth" type="number" title="" as="nach07_nas_kvth" />
        <column table="a" column="cust07_nas_kvth" type="number" title="" as="cust07_nas_kvth" />
        <column table="a" column="price07_nas_kvth" type="number" title="" as="price07_nas_kvth" />
        <column table="a" column="nach07_pr_dog_1_kvth" type="number" title="" as="nach07_pr_dog_1_kvth" />
        <column table="a" column="cust07_pr_dog_1_kvth" type="number" title="" as="cust07_pr_dog_1_kvth" />
        <column table="a" column="price07_pr_dog_1_kvth" type="number" title="" as="price07_pr_dog_1_kvth" />
        <column table="a" column="nach07_prochie_1_kvth" type="number" title="" as="nach07_prochie_1_kvth" />
        <column table="a" column="cust07_prochie_1_kvth" type="number" title="" as="cust07_prochie_1_kvth" />
        <column table="a" column="price07_prochie_1_kvth" type="number" title="" as="price07_prochie_1_kvth" />
        <column table="a" column="nach07_setevie_1_kvth" type="number" title="" as="nach07_setevie_1_kvth" />
        <column table="a" column="cust07_setevie_1_kvth" type="number" title="" as="cust07_setevie_1_kvth" />
        <column table="a" column="price07_setevie_1_kvth" type="number" title="" as="price07_setevie_1_kvth" />
        <column table="a" column="nach07_pr_dog_2_kvth" type="number" title="" as="nach07_pr_dog_2_kvth" />
        <column table="a" column="cust07_pr_dog_2_kvth" type="number" title="" as="cust07_pr_dog_2_kvth" />
        <column table="a" column="price07_pr_dog_2_kvth" type="number" title="" as="price07_pr_dog_2_kvth" />
        <column table="a" column="nach07_prochie_2_kvth" type="number" title="" as="nach07_prochie_2_kvth" />
        <column table="a" column="cust07_prochie_2_kvth" type="number" title="" as="cust07_prochie_2_kvth" />
        <column table="a" column="price07_prochie_2_kvth" type="number" title="" as="price07_prochie_2_kvth" />
        <column table="a" column="nach07_pr_dog_2_kvt" type="number" title="" as="nach07_pr_dog_2_kvt" />
        <column table="a" column="cust07_pr_dog_2_kvt" type="number" title="" as="cust07_pr_dog_2_kvt" />
        <column table="a" column="price07_pr_dog_2_kvt" type="number" title="" as="price07_pr_dog_2_kvt" />
        <column table="a" column="nach07_prochie_2_kvt" type="number" title="" as="nach07_prochie_2_kvt" />
        <column table="a" column="cust07_prochie_2_kvt" type="number" title="" as="cust07_prochie_2_kvt" />
        <column table="a" column="price07_prochie_2_kvt" type="number" title="" as="price07_prochie_2_kvt" />
        <column table="a" column="nach08_nas_kvth" type="number" title="" as="nach08_nas_kvth" />
        <column table="a" column="cust08_nas_kvth" type="number" title="" as="cust08_nas_kvth" />
        <column table="a" column="price08_nas_kvth" type="number" title="" as="price08_nas_kvth" />
        <column table="a" column="nach08_pr_dog_1_kvth" type="number" title="" as="nach08_pr_dog_1_kvth" />
        <column table="a" column="cust08_pr_dog_1_kvth" type="number" title="" as="cust08_pr_dog_1_kvth" />
        <column table="a" column="price08_pr_dog_1_kvth" type="number" title="" as="price08_pr_dog_1_kvth" />
        <column table="a" column="nach08_prochie_1_kvth" type="number" title="" as="nach08_prochie_1_kvth" />
        <column table="a" column="cust08_prochie_1_kvth" type="number" title="" as="cust08_prochie_1_kvth" />
        <column table="a" column="price08_prochie_1_kvth" type="number" title="" as="price08_prochie_1_kvth" />
        <column table="a" column="nach08_setevie_1_kvth" type="number" title="" as="nach08_setevie_1_kvth" />
        <column table="a" column="cust08_setevie_1_kvth" type="number" title="" as="cust08_setevie_1_kvth" />
        <column table="a" column="price08_setevie_1_kvth" type="number" title="" as="price08_setevie_1_kvth" />
        <column table="a" column="nach08_pr_dog_2_kvth" type="number" title="" as="nach08_pr_dog_2_kvth" />
        <column table="a" column="cust08_pr_dog_2_kvth" type="number" title="" as="cust08_pr_dog_2_kvth" />
        <column table="a" column="price08_pr_dog_2_kvth" type="number" title="" as="price08_pr_dog_2_kvth" />
        <column table="a" column="nach08_prochie_2_kvth" type="number" title="" as="nach08_prochie_2_kvth" />
        <column table="a" column="cust08_prochie_2_kvth" type="number" title="" as="cust08_prochie_2_kvth" />
        <column table="a" column="price08_prochie_2_kvth" type="number" title="" as="price08_prochie_2_kvth" />
        <column table="a" column="nach08_pr_dog_2_kvt" type="number" title="" as="nach08_pr_dog_2_kvt" />
        <column table="a" column="cust08_pr_dog_2_kvt" type="number" title="" as="cust08_pr_dog_2_kvt" />
        <column table="a" column="price08_pr_dog_2_kvt" type="number" title="" as="price08_pr_dog_2_kvt" />
        <column table="a" column="nach08_prochie_2_kvt" type="number" title="" as="nach08_prochie_2_kvt" />
        <column table="a" column="cust08_prochie_2_kvt" type="number" title="" as="cust08_prochie_2_kvt" />
        <column table="a" column="price08_prochie_2_kvt" type="number" title="" as="price08_prochie_2_kvt" />
        <column table="a" column="nach09_nas_kvth" type="number" title="" as="nach09_nas_kvth" />
        <column table="a" column="cust09_nas_kvth" type="number" title="" as="cust09_nas_kvth" />
        <column table="a" column="price09_nas_kvth" type="number" title="" as="price09_nas_kvth" />
        <column table="a" column="nach09_pr_dog_1_kvth" type="number" title="" as="nach09_pr_dog_1_kvth" />
        <column table="a" column="cust09_pr_dog_1_kvth" type="number" title="" as="cust09_pr_dog_1_kvth" />
        <column table="a" column="price09_pr_dog_1_kvth" type="number" title="" as="price09_pr_dog_1_kvth" />
        <column table="a" column="nach09_prochie_1_kvth" type="number" title="" as="nach09_prochie_1_kvth" />
        <column table="a" column="cust09_prochie_1_kvth" type="number" title="" as="cust09_prochie_1_kvth" />
        <column table="a" column="price09_prochie_1_kvth" type="number" title="" as="price09_prochie_1_kvth" />
        <column table="a" column="nach09_setevie_1_kvth" type="number" title="" as="nach09_setevie_1_kvth" />
        <column table="a" column="cust09_setevie_1_kvth" type="number" title="" as="cust09_setevie_1_kvth" />
        <column table="a" column="price09_setevie_1_kvth" type="number" title="" as="price09_setevie_1_kvth" />
        <column table="a" column="nach09_pr_dog_2_kvth" type="number" title="" as="nach09_pr_dog_2_kvth" />
        <column table="a" column="cust09_pr_dog_2_kvth" type="number" title="" as="cust09_pr_dog_2_kvth" />
        <column table="a" column="price09_pr_dog_2_kvth" type="number" title="" as="price09_pr_dog_2_kvth" />
        <column table="a" column="nach09_prochie_2_kvth" type="number" title="" as="nach09_prochie_2_kvth" />
        <column table="a" column="cust09_prochie_2_kvth" type="number" title="" as="cust09_prochie_2_kvth" />
        <column table="a" column="price09_prochie_2_kvth" type="number" title="" as="price09_prochie_2_kvth" />
        <column table="a" column="nach09_pr_dog_2_kvt" type="number" title="" as="nach09_pr_dog_2_kvt" />
        <column table="a" column="cust09_pr_dog_2_kvt" type="number" title="" as="cust09_pr_dog_2_kvt" />
        <column table="a" column="price09_pr_dog_2_kvt" type="number" title="" as="price09_pr_dog_2_kvt" />
        <column table="a" column="nach09_prochie_2_kvt" type="number" title="" as="nach09_prochie_2_kvt" />
        <column table="a" column="cust09_prochie_2_kvt" type="number" title="" as="cust09_prochie_2_kvt" />
        <column table="a" column="price09_prochie_2_kvt" type="number" title="" as="price09_prochie_2_kvt" />
        <column table="a" column="nach10_nas_kvth" type="number" title="" as="nach10_nas_kvth" />
        <column table="a" column="cust10_nas_kvth" type="number" title="" as="cust10_nas_kvth" />
        <column table="a" column="price10_nas_kvth" type="number" title="" as="price10_nas_kvth" />
        <column table="a" column="nach10_pr_dog_1_kvth" type="number" title="" as="nach10_pr_dog_1_kvth" />
        <column table="a" column="cust10_pr_dog_1_kvth" type="number" title="" as="cust10_pr_dog_1_kvth" />
        <column table="a" column="price10_pr_dog_1_kvth" type="number" title="" as="price10_pr_dog_1_kvth" />
        <column table="a" column="nach10_prochie_1_kvth" type="number" title="" as="nach10_prochie_1_kvth" />
        <column table="a" column="cust10_prochie_1_kvth" type="number" title="" as="cust10_prochie_1_kvth" />
        <column table="a" column="price10_prochie_1_kvth" type="number" title="" as="price10_prochie_1_kvth" />
        <column table="a" column="nach10_setevie_1_kvth" type="number" title="" as="nach10_setevie_1_kvth" />
        <column table="a" column="cust10_setevie_1_kvth" type="number" title="" as="cust10_setevie_1_kvth" />
        <column table="a" column="price10_setevie_1_kvth" type="number" title="" as="price10_setevie_1_kvth" />
        <column table="a" column="nach10_pr_dog_2_kvth" type="number" title="" as="nach10_pr_dog_2_kvth" />
        <column table="a" column="cust10_pr_dog_2_kvth" type="number" title="" as="cust10_pr_dog_2_kvth" />
        <column table="a" column="price10_pr_dog_2_kvth" type="number" title="" as="price10_pr_dog_2_kvth" />
        <column table="a" column="nach10_prochie_2_kvth" type="number" title="" as="nach10_prochie_2_kvth" />
        <column table="a" column="cust10_prochie_2_kvth" type="number" title="" as="cust10_prochie_2_kvth" />
        <column table="a" column="price10_prochie_2_kvth" type="number" title="" as="price10_prochie_2_kvth" />
        <column table="a" column="nach10_pr_dog_2_kvt" type="number" title="" as="nach10_pr_dog_2_kvt" />
        <column table="a" column="cust10_pr_dog_2_kvt" type="number" title="" as="cust10_pr_dog_2_kvt" />
        <column table="a" column="price10_pr_dog_2_kvt" type="number" title="" as="price10_pr_dog_2_kvt" />
        <column table="a" column="nach10_prochie_2_kvt" type="number" title="" as="nach10_prochie_2_kvt" />
        <column table="a" column="cust10_prochie_2_kvt" type="number" title="" as="cust10_prochie_2_kvt" />
        <column table="a" column="price10_prochie_2_kvt" type="number" title="" as="price10_prochie_2_kvt" />
        <column table="a" column="nach11_nas_kvth" type="number" title="" as="nach11_nas_kvth" />
        <column table="a" column="cust11_nas_kvth" type="number" title="" as="cust11_nas_kvth" />
        <column table="a" column="price11_nas_kvth" type="number" title="" as="price11_nas_kvth" />
        <column table="a" column="nach11_pr_dog_1_kvth" type="number" title="" as="nach11_pr_dog_1_kvth" />
        <column table="a" column="cust11_pr_dog_1_kvth" type="number" title="" as="cust11_pr_dog_1_kvth" />
        <column table="a" column="price11_pr_dog_1_kvth" type="number" title="" as="price11_pr_dog_1_kvth" />
        <column table="a" column="nach11_prochie_1_kvth" type="number" title="" as="nach11_prochie_1_kvth" />
        <column table="a" column="cust11_prochie_1_kvth" type="number" title="" as="cust11_prochie_1_kvth" />
        <column table="a" column="price11_prochie_1_kvth" type="number" title="" as="price11_prochie_1_kvth" />
        <column table="a" column="nach11_setevie_1_kvth" type="number" title="" as="nach11_setevie_1_kvth" />
        <column table="a" column="cust11_setevie_1_kvth" type="number" title="" as="cust11_setevie_1_kvth" />
        <column table="a" column="price11_setevie_1_kvth" type="number" title="" as="price11_setevie_1_kvth" />
        <column table="a" column="nach11_pr_dog_2_kvth" type="number" title="" as="nach11_pr_dog_2_kvth" />
        <column table="a" column="cust11_pr_dog_2_kvth" type="number" title="" as="cust11_pr_dog_2_kvth" />
        <column table="a" column="price11_pr_dog_2_kvth" type="number" title="" as="price11_pr_dog_2_kvth" />
        <column table="a" column="nach11_prochie_2_kvth" type="number" title="" as="nach11_prochie_2_kvth" />
        <column table="a" column="cust11_prochie_2_kvth" type="number" title="" as="cust11_prochie_2_kvth" />
        <column table="a" column="price11_prochie_2_kvth" type="number" title="" as="price11_prochie_2_kvth" />
        <column table="a" column="nach11_pr_dog_2_kvt" type="number" title="" as="nach11_pr_dog_2_kvt" />
        <column table="a" column="cust11_pr_dog_2_kvt" type="number" title="" as="cust11_pr_dog_2_kvt" />
        <column table="a" column="price11_pr_dog_2_kvt" type="number" title="" as="price11_pr_dog_2_kvt" />
        <column table="a" column="nach11_prochie_2_kvt" type="number" title="" as="nach11_prochie_2_kvt" />
        <column table="a" column="cust11_prochie_2_kvt" type="number" title="" as="cust11_prochie_2_kvt" />
        <column table="a" column="price11_prochie_2_kvt" type="number" title="" as="price11_prochie_2_kvt" />
        <column table="a" column="nach12_nas_kvth" type="number" title="" as="nach12_nas_kvth" />
        <column table="a" column="cust12_nas_kvth" type="number" title="" as="cust12_nas_kvth" />
        <column table="a" column="price12_nas_kvth" type="number" title="" as="price12_nas_kvth" />
        <column table="a" column="nach12_pr_dog_1_kvth" type="number" title="" as="nach12_pr_dog_1_kvth" />
        <column table="a" column="cust12_pr_dog_1_kvth" type="number" title="" as="cust12_pr_dog_1_kvth" />
        <column table="a" column="price12_pr_dog_1_kvth" type="number" title="" as="price12_pr_dog_1_kvth" />
        <column table="a" column="nach12_prochie_1_kvth" type="number" title="" as="nach12_prochie_1_kvth" />
        <column table="a" column="cust12_prochie_1_kvth" type="number" title="" as="cust12_prochie_1_kvth" />
        <column table="a" column="price12_prochie_1_kvth" type="number" title="" as="price12_prochie_1_kvth" />
        <column table="a" column="nach12_setevie_1_kvth" type="number" title="" as="nach12_setevie_1_kvth" />
        <column table="a" column="cust12_setevie_1_kvth" type="number" title="" as="cust12_setevie_1_kvth" />
        <column table="a" column="price12_setevie_1_kvth" type="number" title="" as="price12_setevie_1_kvth" />
        <column table="a" column="nach12_pr_dog_2_kvth" type="number" title="" as="nach12_pr_dog_2_kvth" />
        <column table="a" column="cust12_pr_dog_2_kvth" type="number" title="" as="cust12_pr_dog_2_kvth" />
        <column table="a" column="price12_pr_dog_2_kvth" type="number" title="" as="price12_pr_dog_2_kvth" />
        <column table="a" column="nach12_prochie_2_kvth" type="number" title="" as="nach12_prochie_2_kvth" />
        <column table="a" column="cust12_prochie_2_kvth" type="number" title="" as="cust12_prochie_2_kvth" />
        <column table="a" column="price12_prochie_2_kvth" type="number" title="" as="price12_prochie_2_kvth" />
        <column table="a" column="nach12_pr_dog_2_kvt" type="number" title="" as="nach12_pr_dog_2_kvt" />
        <column table="a" column="cust12_pr_dog_2_kvt" type="number" title="" as="cust12_pr_dog_2_kvt" />
        <column table="a" column="price12_pr_dog_2_kvt" type="number" title="" as="price12_pr_dog_2_kvt" />
        <column table="a" column="nach12_prochie_2_kvt" type="number" title="" as="nach12_prochie_2_kvt" />
        <column table="a" column="cust12_prochie_2_kvt" type="number" title="" as="cust12_prochie_2_kvt" />
        <column table="a" column="price12_prochie_2_kvt" type="number" title="" as="price12_prochie_2_kvt" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64651_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64651_v2_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64651_v2_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64651_v2_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="50" title="" as="ndog" />
        <column table="a" column="payer_name" type="string" data-size="200" title="" as="payer_name" />
        <column table="a" column="nach_nas_kvth" type="number" title="" as="nach_nas_kvth" />
        <column table="a" column="cust_nas_kvth" type="number" title="" as="cust_nas_kvth" />
        <column table="a" column="nach_pr_dog_1_kvth" type="number" title="" as="nach_pr_dog_1_kvth" />
        <column table="a" column="cust_pr_dog_1_kvth" type="number" title="" as="cust_pr_dog_1_kvth" />
        <column table="a" column="nach_prochie_1_kvth" type="number" title="" as="nach_prochie_1_kvth" />
        <column table="a" column="cust_prochie_1_kvth" type="number" title="" as="cust_prochie_1_kvth" />
        <column table="a" column="nach_setevie_1_kvth" type="number" title="" as="nach_setevie_1_kvth" />
        <column table="a" column="cust_setevie_1_kvth" type="number" title="" as="cust_setevie_1_kvth" />
        <column table="a" column="nach_pr_dog_2_kvth" type="number" title="" as="nach_pr_dog_2_kvth" />
        <column table="a" column="cust_pr_dog_2_kvth" type="number" title="" as="cust_pr_dog_2_kvth" />
        <column table="a" column="nach_prochie_2_kvth" type="number" title="" as="nach_prochie_2_kvth" />
        <column table="a" column="cust_prochie_2_kvth" type="number" title="" as="cust_prochie_2_kvth" />
        <column table="a" column="nach_pr_dog_2_kvt" type="number" title="" as="nach_pr_dog_2_kvt" />
        <column table="a" column="cust_pr_dog_2_kvt" type="number" title="" as="cust_pr_dog_2_kvt" />
        <column table="a" column="nach_prochie_2_kvt" type="number" title="" as="nach_prochie_2_kvt" />
        <column table="a" column="cust_prochie_2_kvt" type="number" title="" as="cust_prochie_2_kvt" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64651_v2_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64809_tbl" class="1" timestamp="09.02.2024 17:52:31" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64809_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64809_tbl_id" key="1" />
        <column table="a" column="ndog" type="string" data-size="50" title="" as="ndog" />
        <column table="a" column="name" type="string" data-size="200" title="Наименование" as="name" />
        <column table="a" column="kod_gtp" type="number" as="kod_gtp" />
        <column table="a" column="gtp_opt_name" type="string" data-size="250" title="" as="gtp_opt_name" />
        <column table="a" column="gtp_rozn_name" type="string" data-size="250" title="" as="gtp_rozn_name" />
        <column table="a" column="gtp_pr" type="string" data-size="20" title="" as="gtp_pr" />
        <column table="a" column="object_name" type="string" data-size="150" title="" as="object_name" />
        <column table="a" column="resource_name" type="string" data-size="20" title="" as="resource_name" />
        <column table="a" column="nachisl" type="number" title="" comment="начислено с НДС" as="nachisl" />
        <column table="a" column="cust" type="number" title="" comment="ПО" as="cust" />
        <column table="a" column="nach" type="number" title="" comment="начислено без ндс" as="nach" />
        <column table="a" column="price_category" type="number" title="" as="price_category" />
        <column table="a" column="tarif" type="string" data-size="254" title="" as="tarif" />
        <column table="a" column="price" type="number" title="" as="price" />
        <column table="a" column="max_power" type="string" data-size="130" title="" as="max_power" />
        <column table="a" column="vid_dog" type="string" data-size="100" title="" as="vid_dog" />
        <column table="a" column="f46" type="string" data-size="60" title="" as="f46" />
        <column table="a" column="voltage" type="string" data-size="10" title="" as="voltage" />
        <column table="a" column="prov" type="string" data-size="200" title="" as="prov" />
        <column table="a" column="region" type="string" data-size="150" title="" as="region" />
        <column table="a" column="mo" type="string" data-size="150" title="" as="mo" />
        <column table="a" column="okved" type="string" data-size="30" title="" as="okved" />
        <column table="a" column="okved_name" type="string" data-size="250" title="" as="okved_name" />
        <column table="a" column="pr_recalc" type="string" data-size="10" title="" as="pr_recalc" />
        <column table="a" column="recalc_year" type="number" title="" as="recalc_year" />
        <column table="a" column="recalc_month" type="number" title="" as="recalc_month" />
        <column table="a" column="recalc_reason" type="string" data-size="500" title="" as="recalc_reason" />
        <column table="a" column="year" type="number" title="" as="year" />
        <column table="a" column="month" type="number" title="" as="month" />
        <column table="a" column="filial" type="string" data-size="240" title="" as="filial" />
        <column table="a" column="max_power_null" type="number" title="" as="max_power_null" />
        <column table="a" column="serv_power_null" type="number" title="" as="serv_power_null" />
        <column table="a" column="inn" type="string" data-size="15" title="" comment="ИНН контрагента" as="inn" />
        <column table="a" column="recalc_quarter" type="number" title="" comment="квартал перерасчета" as="recalc_quarter" />
        <column table="a" column="tco_net_name" type="string" data-size="200" title="" comment="к чьим сетям подключена точка" as="tco_net_name" />
        <column table="a" column="tco_pwrcompany_name" type="string" data-size="200" title="" comment="ТСО для расчета услуг" as="tco_pwrcompany_name" />
        <column table="a" column="gr_potr_name_level1" type="string" data-size="200" title="" comment="Группа клиентов уровень 1 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level1" />
        <column table="a" column="gr_potr_name_level2" type="string" data-size="200" title="" comment="Группа клиентов уровень 2 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level2" />
        <column table="a" column="gr_potr_name_level3" type="string" data-size="200" title="" comment="Группа клиентов уровень 3 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level3" />
        <column table="a" column="gr_potr_name_level4" type="string" data-size="200" title="" comment="Группа клиентов уровень 4 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level4" />
        <column table="a" column="gr_potr_name_level5" type="string" data-size="200" title="" comment="Группа клиентов уровень 5 (спр-к &quot;Отрасли ЭЭ&quot;)" as="gr_potr_name_level5" />
        <column table="a" column="price_category_f46" type="number" title="" comment="ЦК для формирования 46ЭЭ" as="price_category_f46" />
        <column table="a" column="voltage_f46" type="string" data-size="10" title="" comment="УН для формирования 46ЭЭ" as="voltage_f46" />
        <column table="a" column="kod_numobj" type="number" comment="код объекта в договоре" as="kod_numobj" />
        <column table="a" column="voltage_kod" type="number" title="" comment="код вольтажа" as="voltage_kod" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64809_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64879_tbl" class="1" timestamp="25.08.2023 14:03:08" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64879_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64879_tbl_id" key="1" />
        <column table="a" column="kodp" type="number" title="" as="kodp" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="inn" type="string" data-size="300" title="" as="inn" />
        <column table="a" column="gtp_name" type="string" data-size="300" title="" as="gtp_name" />
        <column table="a" column="vid_uslugi" type="string" data-size="300" title="" as="vid_uslugi" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="rym" type="number" title="" as="rym" />
        <column table="a" column="kod_ck" type="number" as="kod_ck" />
        <column table="a" column="kod_mvt" type="number" as="kod_mvt" />
        <column table="a" column="kod_vidacc" type="number" as="kod_vidacc" />
        <column table="a" column="fsk_cust" type="number" title="" as="fsk_cust" />
        <column table="a" column="fsk_nach" type="number" title="" as="fsk_nach" />
        <column table="a" column="gn_cust" type="number" title="" as="gn_cust" />
        <column table="a" column="gn_nach" type="number" title="" as="gn_nach" />
        <column table="a" column="vn_cust" type="number" title="" as="vn_cust" />
        <column table="a" column="vn_nach" type="number" title="" as="vn_nach" />
        <column table="a" column="sn1_cust" type="number" title="" as="sn1_cust" />
        <column table="a" column="sn1_nach" type="number" title="" as="sn1_nach" />
        <column table="a" column="sn2_cust" type="number" title="" as="sn2_cust" />
        <column table="a" column="sn2_nach" type="number" title="" as="sn2_nach" />
        <column table="a" column="nn_cust" type="number" title="" as="nn_cust" />
        <column table="a" column="nn_nach" type="number" title="" as="nn_nach" />
        <column table="a" column="itog_cust" type="number" title="" as="itog_cust" />
        <column table="a" column="itog_nach" type="number" title="" as="itog_nach" />
        <column table="a" column="kod" type="number" title="" as="kod" />
        <column table="a" column="gn_vn_cust" type="number" title="" as="gn_vn_cust" />
        <column table="a" column="gn_vn_nach" type="number" title="" as="gn_vn_nach" />
        <column table="a" column="gn_sn2_cust" type="number" title="" as="gn_sn2_cust" />
        <column table="a" column="gn_sn2_nach" type="number" title="" as="gn_sn2_nach" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64879_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64879_v2_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64879_v2_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64879_v2_tbl_id" key="1" />
        <column table="a" column="kod" type="number" title="" as="kod" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="50" title="" as="ndog" />
        <column table="a" column="payer_name" type="string" data-size="200" title="" as="payer_name" />
        <column table="a" column="inn" type="string" data-size="15" title="" as="inn" />
        <column table="a" column="gtp_name" type="string" data-size="300" title="" as="gtp_name" />
        <column table="a" column="cust" type="number" title="" as="cust" />
        <column table="a" column="nach" type="number" title="" as="nach" />
        <column table="a" column="voltage" type="number" title="" as="voltage" />
        <column table="a" column="type_service" type="number" title="" as="type_service" />
        <column table="a" column="cust_kvth" type="number" title="" as="cust_kvth" />
        <column table="a" column="price_category" type="number" title="" as="price_category" />
        <column table="a" column="max_power" type="number" title="" as="max_power" />
        <column table="a" column="kod_gtp" type="number" title="" as="kod_gtp" />
        <column table="a" column="sost_cust_kvth" type="number" title="" as="sost_cust_kvth" />
        <column table="a" column="sost_cust" type="number" title="" as="sost_cust" />
        <column table="a" column="sost_nach" type="number" title="" as="sost_nach" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64879_v2_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64883_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64883_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64883_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="parent_name" type="string" data-size="300" title="" comment="Наименование филиала" as="parent_name" />
        <column table="a" column="ndog" type="string" data-size="300" title="" comment="Номер договора " as="ndog" />
        <column table="a" column="kod_potr" type="string" data-size="300" comment="Код потребителя" as="kod_potr" />
        <column table="a" column="org_name" type="string" data-size="300" title="" comment="Наименование юр.лица" as="org_name" />
        <column table="a" column="p_year" type="number" title="" comment="Отчетный год" as="p_year" />
        <column table="a" column="p_month" type="number" title="" comment="Отчетный месяц" as="p_month" />
        <column table="a" column="res" type="string" data-size="300" title="" comment="Ресурс" as="res" />
        <column table="a" column="cust" type="number" title="" comment="Расход - объем полезного отпуска" as="cust" />
        <column table="a" column="nuch" type="number" title="" comment="Сумма, руб. без НДС" as="nuch" />
        <column table="a" column="max_power" type="string" data-size="300" title="" comment="Макс.мощность" as="max_power" />
        <column table="a" column="category_fik" type="string" data-size="300" title="" comment="Ценовая категория" as="category_fik" />
        <column table="a" column="volt_abbr" type="string" data-size="300" title="" comment="УН - уровень напряжения" as="volt_abbr" />
        <column table="a" column="post_rr" type="string" data-size="300" title="" comment="Поставщик РР" as="post_rr" />
        <column table="a" column="gtp_kod" type="string" data-size="300" title="" comment="ГТП" as="gtp_kod" />
        <column table="a" column="gtp_name_opt" type="string" data-size="300" title="" comment="ГТП(опт) наименование" as="gtp_name_opt" />
        <column table="a" column="gtp_name_rozn" type="string" data-size="300" title="" comment="ГТП(Розн) наименование" as="gtp_name_rozn" />
        <column table="a" column="opt_rozn" type="string" data-size="300" title="" comment="Опт/Розн" as="opt_rozn" />
        <column table="a" column="obj_name" type="string" data-size="300" title="" comment="Наименование объекта" as="obj_name" />
        <column table="a" column="vid_dog" type="string" data-size="300" title="" comment="Вид договора" as="vid_dog" />
        <column table="a" column="region_name" type="string" data-size="300" title="" comment="Регион" as="region_name" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64883_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64948_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64948_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64948_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="300" title="" as="ndog" />
        <column table="a" column="inn" type="string" data-size="30" title="" as="inn" />
        <column table="a" column="payer_name" type="string" data-size="300" title="" as="payer_name" />
        <column table="a" column="dz_general" type="number" title="" as="dz_general" />
        <column table="a" column="dz_tek" type="number" title="" as="dz_tek" />
        <column table="a" column="dz_zadol" type="number" title="" as="dz_zadol" />
        <column table="a" column="dz_1" type="number" title="" as="dz_1" />
        <column table="a" column="dz_2" type="number" title="" as="dz_2" />
        <column table="a" column="dz_3" type="number" title="" as="dz_3" />
        <column table="a" column="dz_4" type="number" title="" as="dz_4" />
        <column table="a" column="dz_5" type="number" title="" as="dz_5" />
        <column table="a" column="dz_6" type="number" title="" as="dz_6" />
        <column table="a" column="dz_7" type="number" title="" as="dz_7" />
        <column table="a" column="dz_8" type="number" title="" as="dz_8" />
        <column table="a" column="dz_9" type="number" title="" as="dz_9" />
        <column table="a" column="dz_10" type="number" title="" as="dz_10" />
        <column table="a" column="dz_11" type="number" title="" as="dz_11" />
        <column table="a" column="dz_12" type="number" title="" as="dz_12" />
        <column table="a" column="dz_13_24" type="number" title="" as="dz_13_24" />
        <column table="a" column="dz_25_36" type="number" title="" as="dz_25_36" />
        <column table="a" column="dz_37" type="number" title="" as="dz_37" />
        <column table="a" column="otrasl_name" type="string" data-size="300" title="" as="otrasl_name" />
        <column table="a" column="sector" type="string" data-size="300" title="" as="sector" />
        <column table="a" column="budjet" type="string" data-size="300" title="" as="budjet" />
        <column table="a" column="budjet_2" type="string" data-size="300" title="" as="budjet_2" />
        <column table="a" column="setevye" type="string" data-size="300" title="" as="setevye" />
        <column table="a" column="mzhd" type="string" data-size="300" title="" as="mzhd" />
        <column table="a" column="otdelenie" type="string" data-size="300" title="" as="otdelenie" />
        <column table="a" column="kod_d_dog" type="string" data-size="1024" as="kod_d_dog" />
        <column table="a" column="finansist" type="string" data-size="300" title="" as="finansist" />
        <column table="a" column="dogovornik" type="string" data-size="300" title="" as="dogovornik" />
        <column table="a" column="priznak_dog" type="string" data-size="300" title="" as="priznak_dog" />
        <column table="a" column="seller" type="string" data-size="300" title="" as="seller" />
        <column table="a" column="p_date" type="date" title="" as="p_date" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64948_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64949_dog_tbl" class="1" timestamp="31.10.2022 02:39:47" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64949_dog_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64949_dog_tbl_id" key="1" />
        <column table="a" column="ndog" type="string" title="" data-size="300" as="ndog" />
        <column table="a" column="sname" type="string" data-size="600" title="" as="sname" />
        <column table="a" column="dat_end" type="date" title="" as="dat_end" />
        <column table="a" column="inn" type="string" data-size="300" title="" as="inn" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64949_dog_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64949_info_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64949_info_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64949_info_tbl_id" key="1" />
        <column table="a" column="dat_form" type="date" title="" as="dat_form" />
        <column table="a" column="inn" type="string" data-size="300" title="" as="inn" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64949_info_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64949_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64949_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64949_tbl_id" key="1" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="saldo_deb_beg" type="number" title="" as="saldo_deb_beg" />
        <column table="a" column="saldo_kred_beg" type="number" title="" as="saldo_kred_beg" />
        <column table="a" column="nach_recalc" type="number" title="" as="nach_recalc" />
        <column table="a" column="nach" type="number" title="" as="nach" />
        <column table="a" column="opl" type="number" title="" as="opl" />
        <column table="a" column="spis_ret_kred" type="number" title="" as="spis_ret_kred" />
        <column table="a" column="spis_deb" type="number" title="" as="spis_deb" />
        <column table="a" column="saldo_deb_end" type="number" title="" as="saldo_deb_end" />
        <column table="a" column="saldo_kred_end" type="number" title="" as="saldo_kred_end" />
        <column table="a" column="potr" type="number" title="" as="potr" />
        <column table="a" column="ym_name" type="string" data-size="200" title="" as="ym_name" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64949_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_64950_tbl" class="1" timestamp="01.03.2023 12:46:44" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_64950_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_64950_tbl_id" key="1" />
        <column table="a" column="sub_rf" type="number" title="" comment="Субъект РФ" as="sub_rf" />
        <column table="a" column="dep_name" type="string" data-size="300" title="" comment="Филиал" as="dep_name" />
        <column table="a" column="kod_gtp" type="string" data-size="50" comment="Код ГТП" as="kod_gtp" />
        <column table="a" column="level_voltage" type="string" data-size="50" title="" comment="Уровень напряжения" as="level_voltage" />
        <column table="a" column="cust_kvth" type="number" title="" comment="Прочие: Объем ЭЭ, МВт.ч" as="cust_kvth" />
        <column table="a" column="nachisl_kvth" type="number" title="" comment="Прочие: Стоим-ть ЭЭ(М), руб" as="nachisl_kvth" />
        <column table="a" column="nas_cust_kvth" type="number" title="" comment="Население: Объем ЭЭ(М), МВт.ч" as="nas_cust_kvth" />
        <column table="a" column="nas_nachisl_kvth" type="number" title="" comment="Население: Стоим-ть ЭЭ(М), руб" as="nas_nachisl_kvth" />
        <column table="a" column="kod_level_voltage" type="number" comment="Код уровня напряжения (по спра-ку заказчика))" as="kod_level_voltage" />
        <column table="a" column="kod_eso" type="string" data-size="50" comment="Код участника ЭСО (код подразделения)" as="kod_eso" />
        <column table="a" column="pr_dkp" type="number" title="" comment="Признак договора купли-продажи" as="pr_dkp" />
        <column table="a" column="nach" type="number" title="" comment="Прочие: Стоим-ть ЭЭ(М), руб (без НДС)" as="nach" />
        <column table="a" column="nas_nach" type="number" title="" comment="Население: Стоим-ть ЭЭ(М), руб (без НДС)" as="nas_nach" />
        <column table="a" column="pr_opt" type="number" title="" comment="Признак ГТП(опт)" as="pr_opt" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_64950_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_65116_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_65116_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_65116_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" comment="Код договора" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="100" title="" comment="Номер договора" as="ndog" />
        <column table="a" column="payer_name" type="string" data-size="200" title="" comment="Наименование" as="payer_name" />
        <column table="a" column="inn" type="string" data-size="15" title="" comment="ИНН" as="inn" />
        <column table="a" column="dat_dog" type="date" title="" comment="Дата заключения договора" as="dat_dog" />
        <column table="a" column="dat_fin" type="date" title="" comment="Дата расторжения договора" as="dat_fin" />
        <column table="a" column="gr_potreb" type="string" data-size="200" title="" comment="Группа (потребителей)" as="gr_potreb" />
        <column table="a" column="vgo" type="string" data-size="200" title="" comment="ВГО" as="vgo" />
        <column table="a" column="dat_sf" type="date" title="" comment="Дата СФ" as="dat_sf" />
        <column table="a" column="nom_sf" type="string" data-size="50" title="" comment="Номер СФ" as="nom_sf" />
        <column table="a" column="vid_sf" type="string" data-size="100" title="" comment="Вид СФ (Т/А) (товарная или авансовая)" as="vid_sf" />
        <column table="a" column="kz_beg" type="number" title="" comment="КЗ на начало периода по документу" as="kz_beg" />
        <column table="a" column="dz_beg" type="number" title="" comment="ДЗ на начало периода по СФ" as="dz_beg" />
        <column table="a" column="dz_tek_beg" type="number" title="" comment="ДЗ. Текущая задолженность на начало периода по СФ" as="dz_tek_beg" />
        <column table="a" column="nachisl_per_period" type="number" title="" comment="Начислено за период по СФ" as="nachisl_per_period" />
        <column table="a" column="opl_per_period" type="number" title="" comment="Олачено за период по документу (без учета возврата/списания)" as="opl_per_period" />
        <column table="a" column="kz_spis" type="number" title="" comment="Списание КЗ за период" as="kz_spis" />
        <column table="a" column="dz_spis" type="number" title="" comment="Списано за период (списание ДЗ)" as="dz_spis" />
        <column table="a" column="kz_end" type="number" title="" comment="КЗ на конец периода по документу" as="kz_end" />
        <column table="a" column="dz_end" type="number" title="" comment="ДЗ на конец периода по документу" as="dz_end" />
        <column table="a" column="dz_tek_end" type="number" title="" comment="ДЗ. Текущая задолженность (на конец периода) по документу" as="dz_tek_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_65116_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_65409_tbl" class="1" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_65409_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_65409_tbl_id" key="1" />
        <column table="a" column="kod_dog" type="number" as="kod_dog" />
        <column table="a" column="ndog" type="string" data-size="50" title="" as="ndog" />
        <column table="a" column="inn" type="string" data-size="15" title="" as="inn" />
        <column table="a" column="id_gk" type="string" data-size="40" title="" as="id_gk" />
        <column table="a" column="name_c" type="string" data-size="200" title="" as="name_c" />
        <column table="a" column="ym" type="number" title="" as="ym" />
        <column table="a" column="slova" type="string" data-size="300" title="" as="slova" />
        <column table="a" column="cust_kvth" type="number" title="" as="cust_kvth" />
        <column table="a" column="cust_kvt" type="number" title="" as="cust_kvt" />
        <column table="a" column="nachisl_kvth" type="number" title="" as="nachisl_kvth" />
        <column table="a" column="nachisl_kvt" type="number" title="" as="nachisl_kvt" />
        <column table="a" column="nach_kvth" type="number" title="" as="nach_kvth" />
        <column table="a" column="nach_kvt" type="number" title="" as="nach_kvt" />
        <column table="a" column="price_kvth" type="number" title="" as="price_kvth" />
        <column table="a" column="price_kvt" type="number" title="" as="price_kvt" />
        <column table="a" column="cust_kvth_recalc" type="number" title="" as="cust_kvth_recalc" />
        <column table="a" column="cust_kvt_recalc" type="number" title="" as="cust_kvt_recalc" />
        <column table="a" column="nachisl_kvth_recalc" type="number" title="" as="nachisl_kvth_recalc" />
        <column table="a" column="nachisl_kvt_recalc" type="number" title="" as="nachisl_kvt_recalc" />
        <column table="a" column="nach_kvth_recalc" type="number" title="" as="nach_kvth_recalc" />
        <column table="a" column="nach_kvt_recalc" type="number" title="" as="nach_kvt_recalc" />
        <column table="a" column="buy_cust_kvth" type="number" title="" as="buy_cust_kvth" />
        <column table="a" column="buy_cust_kvt" type="number" title="" as="buy_cust_kvt" />
        <column table="a" column="buy_nachisl_kvth" type="number" title="" as="buy_nachisl_kvth" />
        <column table="a" column="buy_nachisl_kvt" type="number" title="" as="buy_nachisl_kvt" />
        <column table="a" column="buy_nach_kvth" type="number" title="" as="buy_nach_kvth" />
        <column table="a" column="buy_nach_kvt" type="number" title="" as="buy_nach_kvt" />
        <column table="a" column="buy_price_kvth" type="number" title="" as="buy_price_kvth" />
        <column table="a" column="buy_price_kvt" type="number" title="" as="buy_price_kvt" />
        <column table="a" column="buy_cust_kvth_recalc" type="number" title="" as="buy_cust_kvth_recalc" />
        <column table="a" column="buy_cust_kvt_recalc" type="number" title="" as="buy_cust_kvt_recalc" />
        <column table="a" column="buy_nachisl_kvth_recalc" type="number" title="" as="buy_nachisl_kvth_recalc" />
        <column table="a" column="buy_nachisl_kvt_recalc" type="number" title="" as="buy_nachisl_kvt_recalc" />
        <column table="a" column="buy_nach_kvth_recalc" type="number" title="" as="buy_nach_kvth_recalc" />
        <column table="a" column="buy_nach_kvt_recalc" type="number" title="" as="buy_nach_kvt_recalc" />
        <column table="a" column="tr_cust_kvth" type="number" title="" as="tr_cust_kvth" />
        <column table="a" column="tr_cust_kvt" type="number" title="" as="tr_cust_kvt" />
        <column table="a" column="tr_money_kvth" type="number" title="" as="tr_money_kvth" />
        <column table="a" column="tr_money_kvt" type="number" title="" as="tr_money_kvt" />
        <column table="a" column="tr_money_with_nds_kvth" type="number" title="" as="tr_money_with_nds_kvth" />
        <column table="a" column="tr_money_with_nds_kvt" type="number" title="" as="tr_money_with_nds_kvt" />
        <column table="a" column="tr_price_kvth" type="number" title="" as="tr_price_kvth" />
        <column table="a" column="tr_price_kvt" type="number" title="" as="tr_price_kvt" />
        <column table="a" column="tr_cust_kvth_recalc" type="number" title="" as="tr_cust_kvth_recalc" />
        <column table="a" column="tr_cust_kvt_recalc" type="number" title="" as="tr_cust_kvt_recalc" />
        <column table="a" column="tr_money_kvth_recalc" type="number" title="" as="tr_money_kvth_recalc" />
        <column table="a" column="tr_money_kvt_recalc" type="number" title="" as="tr_money_kvt_recalc" />
        <column table="a" column="tr_money_with_nds_kvth_recalc" type="number" title="" as="tr_money_with_nds_kvth_recalc" />
        <column table="a" column="tr_money_with_nds_kvt_recalc" type="number" title="" as="tr_money_with_nds_kvt_recalc" />
        <column table="a" column="dz_beg" type="number" title="" as="dz_beg" />
        <column table="a" column="nachisl_all" type="number" title="" as="nachisl_all" />
        <column table="a" column="nachisl_past_period_recalc" type="number" title="" as="nachisl_past_period_recalc" />
        <column table="a" column="dz_spis" type="number" title="" as="dz_spis" />
        <column table="a" column="opl_all_in_period" type="number" title="" as="opl_all_in_period" />
        <column table="a" column="dz_end" type="number" title="" as="dz_end" />
        <column table="a" column="kz_beg" type="number" title="" as="kz_beg" />
        <column table="a" column="sum_avans_pay" type="number" title="" as="sum_avans_pay" />
        <column table="a" column="opl_vozm_avans" type="number" title="" as="opl_vozm_avans" />
        <column table="a" column="cor_past_period" type="number" title="" as="cor_past_period" />
        <column table="a" column="kz_end" type="number" title="" as="kz_end" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_65409_tbl" as="a" />
      </from>
    </query>
    <query name="sqlb_rep_66806_tbl" class="1" timestamp="25.12.2023 14:35:17" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_rep_66806_tbl.xml" haskeys="1">
      <select>
        <call function="rowid" as="sqlb_rep_66806_tbl_id" key="1" />
        <column table="a" column="rank_region" type="number" title="" comment="Номер ранга региона" as="rank_region" />
        <column table="a" column="kod_region" type="number" comment="Код региона" as="kod_region" />
        <column table="a" column="region_name" type="string" data-size="150" title="" comment="Наименование региона" as="region_name" />
        <column table="a" column="kodp_tco" type="number" title="" comment="Код ТСО" as="kodp_tco" />
        <column table="a" column="tco_name" type="string" data-size="1000" title="" comment="Полное наименование ТСО" as="tco_name" />
        <column table="a" column="tarif_group" type="number" title="" comment="Тарифная группа для отчета Раскрытие информации по ПО. 1- потери, 2 - население, 3 - прочие" as="tarif_group" />
        <column table="a" column="tarif_group_name" type="string" data-size="100" title="" comment="Наименование тарифной группы" as="tarif_group_name" />
        <column table="a" column="cust_kvth" type="number" title="" comment="ПО. всего" as="cust_kvth" />
        <column table="a" column="cust_kvth_gn" type="number" title="" comment="ПО. УН: ГН (ГН-ВН + ГН-СН2)" as="cust_kvth_gn" />
        <column table="a" column="cust_kvth_vn" type="number" title="" comment="ПО. УН: ВН (ФСК + ВН)" as="cust_kvth_vn" />
        <column table="a" column="cust_kvth_cn1" type="number" title="" comment="ПО. УН: СН1" as="cust_kvth_cn1" />
        <column table="a" column="cust_kvth_cn2" type="number" title="" comment="ПО. УН: СН2" as="cust_kvth_cn2" />
        <column table="a" column="cust_kvth_nn" type="number" title="" comment="ПО. УН: НН" as="cust_kvth_nn" />
        <column table="a" column="cust_kvt" type="number" title="" comment="Мощность. Всего" as="cust_kvt" />
        <column table="a" column="cust_kvt_gn" type="number" title="" comment="Мощность. УН: ГН (ГН-ВН + ГН-СН2)" as="cust_kvt_gn" />
        <column table="a" column="cust_kvt_vn" type="number" title="" comment="Мощность. УН: ВН (ФСК + ВН)" as="cust_kvt_vn" />
        <column table="a" column="cust_kvt_cn1" type="number" title="" comment="Мощность. УН: СН1" as="cust_kvt_cn1" />
        <column table="a" column="cust_kvt_cn2" type="number" title="" comment="Мощность. УН: СН2" as="cust_kvt_cn2" />
        <column table="a" column="cust_kvt_nn" type="number" title="" comment="Мощность. УН: НН" as="cust_kvt_nn" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" />
      </select>
      <from>
        <table name="sqlb_rep_66806_tbl" as="a" title="Результат выполнения процедуры sqlb_rep_66806.fill_data(p_ym_beg,p_ym_end)" />
      </from>
    </query>
    <query name="sqlb_signatory_view" class="1" timestamp="23.11.2022 10:37:29" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_signatory_view.xml" haskeys="1">
      <select>
        <column table="a" column="kod_emp" column-mandatory="1" invisible-in-column-chooser="1" type="number" as="kod_emp" key="1" fixed="1" />
        <column table="a" column="kodp" type="number" column-mandatory="1" title="" invisible-in-column-chooser="1" as="kodp" key="0" />
        <column table="a" column="name_dep" type="string" data-size="4" title="Отделение" as="name_dep" key="0" />
        <column table="a" column="dol" type="string" data-size="5" title="Должность" as="dol" key="0" />
        <column table="a" column="fio" type="string" data-size="60" title="ФИО" as="fio" key="0" />
        <column table="a" column="KOD_DOLZHFUN" as="KOD_DOLZHFUN" key="0" />
        <column table="a" column="fio_small" as="fio_small" key="0" />
        <column table="a" column="name_dep_small" as="name_dep_small" key="0" />
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="sqlb_signatory_view" as="a" />
      </from>
    </query>
    <query name="sqlb_ym_3years_view" class="1" timestamp="04.03.2022 13:41:59" order="v_ym desc" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\original\sqlb_ym_3years_view.xml" haskeys="1">
      <select>
        <column table="a" column="v_ym" type="number" title="" group="1" as="v_ym" key="1" fixed="1" />
        <call function="trim" as="name" group="max" title="Период" key="0">
          <call function="to_char">
            <column table="a" column="v_ym" />
            <const>'9999.99'</const>
          </call>
        </call>
        <column table="a" column="is_new" type="number" sys="1" as="is_new" key="0" />
        <column table="a" column="is_not_new" type="number" sys="1" as="is_not_new" key="0" />
      </select>
      <from>
        <table name="sqlb_ym_3years_view" as="a" />
      </from>
      <order>
        <column column="v_ym" />
      </order>
    </query>
    <query name="form:form462361" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Период'</const>
                <const type="string" as="name">'p_ym'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Отделение'</const>
                <const>'p_dep'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект Федерации'</const>
                <const>'kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_1" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Дата'</const>
                <const>'dat'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Вид реализации'</const>
                <const>'vid_real_deb'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_10" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект Федерации'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Выводить детализацию по договорам'</const>
                <const>'no_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_11" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_13" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Год'</const>
                <const>'p_year'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_14" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект РФ'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_17" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект РФ'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Выводить детализацию по договорам'</const>
                <const>'no_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_17_new" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект РФ'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_17_v3" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект РФ'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_2" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_2_int_date" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Начало интервала'</const>
                <const>'p_date_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Конец интервала'</const>
                <const>'p_date_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Договоры'</const>
                <const>'pkod_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Выводить детализацию по договорам'</const>
                <const>'no_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Начало интервала'</const>
                <const>'p_date_beg_2'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Конец интервала'</const>
                <const>'p_date_end_2'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_2_on_date" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'На дату'</const>
                <const>'p_date'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_3" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Статус'</const>
                <const type="string" as="name">'p_prizn_activ_dog'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Отделение'</const>
                <const>'p_dep'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'с'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'по'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект РФ'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880-9" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'ym1'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'ym2'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект РФ'</const>
                <const>'kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880-9-NEW" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'ym1'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'ym2'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект Федерации'</const>
                <const>'kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_9_v3" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'ym1'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'ym2'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект Федерации'</const>
                <const>'kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:61880_9_v3_batch" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'ym1'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'ym2'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект Федерации'</const>
                <const>'kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Суммировать по периодам'</const>
                <const>'p_flag_sum'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:form_64224" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Договоры'</const>
                <const>'pkod_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64263_form" haskeys="1">
      <select>
        <const type="string" as="title" title="Параметр">'Отчетный период'</const>
        <const type="string" as="name" key="1">'p_ym'</const>
        <const type="string" as="text" title="Значение">NULL</const>
      </select>
      <from>
        <table name="dual" as="dual" />
      </from>
    </query>
    <query name="form:64455_1" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Филиал'</const>
                <const type="string" as="name">'dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Отчетный период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'ТСО'</const>
                <const>'p_kodp_pwrcompany'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Договор'</const>
                <const>'p_kod_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64455_1_total" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Филиал'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Отчетный период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'ТСО для расчета услуги'</const>
                <const>'p_kodp_pwrcompany'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Тип тарифа'</const>
                <const>'p_tarif_type'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Договоры'</const>
                <const>'p_kod_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Без клиентов'</const>
                <const>'p_hide_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:form_64483_1" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'ТСО для услуги'</const>
                <const type="string" as="name">'tso1'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'ТСО для потерь'</const>
                <const>'tso2'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'На дату'</const>
                <const>'p_date'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Подписант'</const>
                <const>'kod_emp'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64649" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64650" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64650_2" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект Федерации'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Вид договора'</const>
                <const>'p_vdoc'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Уровень напряжения'</const>
                <const>'p_volt'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Ценовая категория'</const>
                <const>'p_ck'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Группы мощности'</const>
                <const>'p_mvt'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64651" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Год'</const>
                <const type="string" as="name">'p_year'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Отделение'</const>
                <const>'p_dep'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64809" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отчетный период C'</const>
                <const type="string" as="name">'p_ym_beg'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Отчетный период По'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Договор'</const>
                <const>'p_kod_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Филиал'</const>
                <const>'p_dep'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Регион'</const>
                <const>'p_region'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64879" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'C перерасчетом прошлых лет'</const>
                <const>'is_detail'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64879_v2" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'C перерасчетом прошлых лет'</const>
                <const>'is_flag'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64883_2" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Клиент'</const>
                <const>'p_client'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Договоры'</const>
                <const>'pkod_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Заменить существующие файлы'</const>
                <const>'p_flag'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:64949" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'ИНН'</const>
                <const>'p_inn'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Договор'</const>
                <const>'kod_dog'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'с'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'по'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:65015" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Филиал'</const>
                <const type="string" as="name">'dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Отчётный период'</const>
                <const>'p_ym'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект федерации'</const>
                <const>'p_kod_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'ТСО'</const>
                <const>'p_kodp_pwrcompany'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:65116" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Отделение'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'с'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'по'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
    <query name="form:66806" haskeys="1">
      <select>
        <column table="u" column="title" title="Параметр" as="title" />
        <column table="u" column="name" key="1" as="name" />
        <column table="u" column="text" title="Значение" as="text" />
      </select>
      <from>
        <query as="u">
          <union>
            <query>
              <select>
                <const type="string" as="title">'Филиал'</const>
                <const type="string" as="name">'p_dep'</const>
                <const type="string" as="text">NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Субъект Федерации'</const>
                <const>'p_kod_adr_m'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период с'</const>
                <const>'p_ym_beg'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
            <query>
              <select>
                <const>'Период по'</const>
                <const>'p_ym_end'</const>
                <const>NULL</const>
              </select>
              <from>
                <table name="dual" />
              </from>
            </query>
          </union>
        </query>
      </from>
    </query>
  </queries>
  <functions child-name="function" key-name="name" />
  <parts child-name="part" key-name="id">
    <part id="462361-params" timestamp="29.05.2024 12:42:27" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml">
      <param name="p_ym" type="number" />
      <param name="p_dep" type="array" />
      <param name="kod_adr_m" type="array" />
    </part>
    <part id="61880_1-params" timestamp="09.03.2022 10:42:06" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <param name="dat">
        <const>to_date('01.10.2016','DD.MM.YYYY')</const>
      </param>
      <param name="dep">
        <const>102276621</const>
      </param>
      <param name="vid_real_deb">
        <const>(2,3)</const>
      </param>
    </part>
    <part id="61880-9-В-cols" timestamp="21.04.2022 18:06:43" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <column table="a" column="f46_npp" group="1" />
      <column table="a" column="f46_name" group="max" />
      <call function="case" type="number" group="sum" as="nach_kvtch">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachisl_kvtch">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <call function="/">
            <column table="a" column="nachisl" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_kvtch">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_1st">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>0</const>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachisl_1st">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>0</const>
          </call>
          <call function="/">
            <column table="a" column="nachisl" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_1st">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>0</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_z1">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>1</const>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachisl_z1">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>1</const>
          </call>
          <call function="/">
            <column table="a" column="nachisl" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_z1">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>1</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_z2">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>2</const>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachisl_z2">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>2</const>
          </call>
          <call function="/">
            <column table="a" column="nachisl" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_z2">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>2</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_z3">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>3</const>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachisl_z3">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>3</const>
          </call>
          <call function="/">
            <column table="a" column="nachisl" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_z3">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <const>3</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="61880_10-params" timestamp="11.05.2022 14:37:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_ym_beg" />
      <param type="number" name="p_ym_end" />
      <param type="array" name="p_kod_adr_m" />
      <param name="no_dog" type="number" />
    </part>
    <part id="61880_11-params" timestamp="02.02.2022 18:04:01" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_ym_beg" />
    </part>
    <part id="61880_11-params" timestamp="02.02.2022 18:03:38" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_ym_beg" />
      <param type="number" name="p_ym_end" />
    </part>
    <part id="61880_13-params" timestamp="17.02.2022 15:20:57" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_year" />
    </part>
    <part id="61880_14-params" timestamp="09.03.2022 21:25:57" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_ym_beg" />
      <param type="array" name="p_kod_adr_m" />
    </part>
    <part id="61880_17-params" timestamp="05.04.2022 14:06:03" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_ym_beg" />
      <param type="array" name="p_kod_adr_m" />
      <param name="no_dog" type="number" />
    </part>
    <part id="61880_2-params" timestamp="08.01.2022 17:47:50" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_ym_beg" />
      <param type="number" name="p_ym_end" />
    </part>
    <part id="61880_2_int_date-params" timestamp="08.06.2023 10:20:29" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_int_date.xml">
      <param type="array" name="p_dep" />
      <param type="date" name="p_date_beg" />
      <param type="date" name="p_date_end" />
      <param type="array" name="pkod_dog" />
      <param name="no_dog" type="number" />
      <param type="date" name="p_date_beg_2" />
      <param type="date" name="p_date_end_2" />
    </part>
    <part id="61880_2_on_date-params" timestamp="30.09.2022 13:33:17" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_on_date.xml">
      <param type="array" name="p_dep" />
      <param type="date" name="p_date" />
    </part>
    <part id="61880-9-all-t" timestamp="18.01.2022 16:18:55" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <call function="array">
        <const>77</const>
        <const>78</const>
        <const>79</const>
        <const>22</const>
        <const>72</const>
        <const>23</const>
        <const>35</const>
        <const>80</const>
        <const>-81</const>
        <const>-82</const>
        <const>-83</const>
        <const>-84</const>
        <const>-78</const>
        <const>-79</const>
      </call>
    </part>
    <part id="61880-9-vid_t_val" timestamp="18.01.2022 16:37:32" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <const>77</const>
      <const>78</const>
      <const>79</const>
      <const>22</const>
      <const>72</const>
      <const>23</const>
      <const>35</const>
    </part>
    <part id="61880-9-vid_t_otklon" timestamp="18.01.2022 11:28:31" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <const>80</const>
      <const>-81</const>
      <const>-82</const>
      <const>-83</const>
      <const>-84</const>
      <const>-78</const>
      <const>-79</const>
    </part>
    <part id="61880-9-I-cond" timestamp="26.09.2023 13:30:49" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <call function="=">
        <column table="a" column="f46_razdel" />
        <const>'I'</const>
      </call>
    </part>
    <part id="61880-9-vid_t_otklon" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <const>80</const>
      <const>-81</const>
      <const>-82</const>
      <const>-83</const>
      <const>-84</const>
      <const>-78</const>
      <const>-79</const>
    </part>
    <part id="61880-9-А-cond" timestamp="26.09.2023 13:31:43" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <call function="in">
        <column table="a" column="f46_podrazdel" />
        <call function="array">
          <const>'А'</const>
        </call>
      </call>
    </part>
    <part id="61880-9-IАБ-cols" timestamp="08.06.2022 13:39:07" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <call function="case" type="number" group="sum" format="N3" as="cust_1k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>1</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="nach_1k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>1</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="cust_2k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>2</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="nach_2k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>2</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="cust_35k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="nach_35k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="custm_35k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachm_35k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>5</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="cust_46k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="nach_46k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="custm72_46k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachm72_46k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="custm22_46k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>22</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachm22_46k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>22</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>4</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="cust_34k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="nach_34k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="custm_34k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachm_34k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>3</const>
                <const>4</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="cust_56k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" format="N3" as="nach_56k">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="custm72_56k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nachm72_56k">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <call function="array">
                <const>5</const>
                <const>6</const>
              </call>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" as="nach_all" group="sum" type="number" mp="-3">
        <call function="when">
          <call function="and">
            <call function="not in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>80</const>
                <const>-81</const>
                <const>-82</const>
                <const>-83</const>
                <const>-84</const>
                <const>-78</const>
                <const>-79</const>
              </call>
            </call>
            <call function="gt">
              <column table="a" column="category" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </call>
      <call function="case" as="nach_otcl" group="sum" type="number" mp="-3">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>80</const>
                <const>-81</const>
                <const>-82</const>
                <const>-83</const>
                <const>-84</const>
                <const>-78</const>
                <const>-79</const>
              </call>
            </call>
            <call function="gt">
              <column table="a" column="category" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </call>
    </part>
    <part id="61880-9-case-tip-tar" timestamp="18.01.2022 11:54:04" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="col" />
        <param name="tip-tar" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar" />
              <useparam name="tip-tar" />
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="61880-9-case-kvt" timestamp="18.01.2022 11:56:41" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="col" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>3</const>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="61880-9-case-kvtch" timestamp="18.01.2022 11:57:59" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="col" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="61880-9-case-category-kvtc" timestamp="08.06.2022 11:59:38" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="col" />
        <param name="category" />
      </params>
      <call function="case" type="number" group="sum" format="N3">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <useparam name="category" />
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="61880-9-case-category-72" timestamp="18.01.2022 14:48:26" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="col" />
        <param name="category" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <useparam name="category" />
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="61880-9-case-category-22" timestamp="18.01.2022 14:49:36" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="col" />
        <param name="category" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t" />
              <const>22</const>
            </call>
            <call function="in">
              <column table="a" column="category" />
              <useparam name="category" />
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="61880-9-otklon" timestamp="18.01.2022 14:50:42" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <call function="array">
        <const>80</const>
        <const>-81</const>
        <const>-82</const>
        <const>-83</const>
        <const>-84</const>
        <const>-78</const>
        <const>-79</const>
      </call>
    </part>
    <part id="61880-9-Б-cond" timestamp="26.09.2023 13:33:19" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <call function="=">
        <column table="a" column="f46_podrazdel" />
        <const function="array">'Б'</const>
      </call>
    </part>
    <part id="61880-9-II-cond" timestamp="26.09.2023 13:43:12" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <call function="=">
        <column table="a" column="f46_razdel" />
        <const>'II'</const>
      </call>
    </part>
    <part id="61880-9-IIАБ-cols" timestamp="27.07.2022 13:02:33" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <column table="a" column="f46_npp" group="1" />
      <column table="a" column="f46_name" group="max" />
      <call function="case" type="number" group="sum" as="nach_1st">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar" />
              <const>'Одноставочный'</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" nvl="0" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_1st">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar" />
              <const>'Одноставочный'</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_z">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar" />
              <const>'Зонный'</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_z">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar" />
              <const>'Зонный'</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_3st">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar" />
              <const>'Трехставочный'</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_3st">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar" />
              <const>'Трехставочный'</const>
            </call>
            <call function="=">
              <column table="a" column="edizm" />
              <const>4</const>
            </call>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_kvt">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>3</const>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_kvt">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>3</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="nach_kvtch">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <call function="/">
            <column table="a" column="nach" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" type="number" group="sum" as="cust_kvtch">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm" />
            <const>4</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>1000</const>
          </call>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
      <call function="case" as="nach_all" group="sum" type="number" mp="-3">
        <call function="when">
          <call function="and">
            <call function="not in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>80</const>
                <const>-81</const>
                <const>-82</const>
                <const>-83</const>
                <const>-84</const>
                <const>-78</const>
                <const>-79</const>
              </call>
            </call>
            <call function="gt">
              <column table="a" column="category" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </call>
      <call function="case" as="nach_otcl" group="sum" type="number" mp="-3">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t" />
              <call function="array">
                <const>80</const>
                <const>-81</const>
                <const>-82</const>
                <const>-83</const>
                <const>-84</const>
                <const>-78</const>
                <const>-79</const>
              </call>
            </call>
            <call function="gt">
              <column table="a" column="category" />
              <const>4</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </call>
    </part>
    <part id="61880-9-case-zone" timestamp="21.04.2022 18:03:35" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="col" />
        <param name="zone" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="=">
            <column table="a" column="zone" />
            <useparam name="zone" />
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="64651-params" timestamp="15.03.2023 14:01:17" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml">
      <param type="number" name="p_year" />
      <param type="array" name="p_dep" />
    </part>
    <part id="64879-params" timestamp="28.08.2023 11:14:15" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <param type="array" name="p_dep" />
      <param type="number" name="p_ym" />
      <param type="number" name="is_detail" />
    </part>
  </parts>
  <views child-name="view" key-name="id">
    <view name="61880_1_acc" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      select 1 as kod, 1 as tip, '62.01' name from dual
       union select 3 ,  2, '62.02' from dual
     --  union select 2, 2, '76/005' from dual
    </view>
    <view name="61880_1_data" timestamp="17.03.2023 12:25:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml"><![CDATA[
SELECT  n1  as kod_sch
       , n2    as kod_dog
       , n3    as kod_sf
       , s1    as kod_be
       , s2    as ndog /*Номер договора*/
                       
       , d1    as dat_doc
       , d2    as dat_bzad /*дата задолженности*/
      
       , s3    as abon_info /* Наименование дебитора/кредитора */
       , s4    as num_doc 
       , s5    as name_sch
       , s6    as name_doc

       , n4    as inn                        
       , n5    as deb    /* дебиторская задолженность на дату*/
       , n6    as kred   /* кредиторская задолженность на дату*/    
FROM  rr_temp
WHERE  skod = '{E695CD85-3F22-4E80-9D0A-2667FAA4F97B}'
]]></view>
    <view name="61880_10-spr_gr_potr" timestamp="19.08.2022 09:34:13" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml">
      select 1 as kod_gr,'1. Промышленные и приравненные к ним потребители' as name, 1 as kod_refcode, null kod_gr_parent from  dual  union
      select 2 ,'2. Непромышленные потребители',7,null  from  dual union
      select 3 ,'из них: Потребители ЖКХ, ВСЕГО',4,2  from  dual union
      select 4 ,'3. ОАО "Оборонэнергосбыт"',14,null  from  dual union
      select 5 ,'4. Предприятия Минобороны РФ',13,null  from  dual union
      select 6 ,'5. Бюджетные потребители (без учета предприятий Минобороны)',null,null from dual union
      select 7 ,'из них: Федеральный бюджет (без учета предприятий Минобороны)',9,6  from  dual union
      select 8 ,'Прочие бюджеты (Областной + Местный бюджеты)',10,6  from  dual union
      select 8 ,'Прочие бюджеты (Областной + Местный бюджеты)',11,6  from  dual union
      select 9 ,'6. Сельскохозяйственные товаропроизводители',12,null  from  dual union
      select 10 ,'7. Население',3,null  from  dual union
      select 11 ,'8. Потребители - Управляющие компании, ТСЖ, ЖСК и т.д., ВСЕГО',8,null  from  dual union
      select 12 ,'9. Энергоснабжающие, энергосбытовые организации (без учета предприятий Минобороны)',5,null  from  dual union
      select 13 ,'10. Потери',6,null  from  dual 
    </view>
    <view name="61880_17-10920-gr" timestamp="19.08.2022 09:34:13" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
        select 1 as kod_razd,'Отпуск территориальным сетевым организациям (ТСО) на компенсацию потерь в электрических сетях, всего' as name_razd, 10920 as str_razd_ies, 1 as kod_podrazd , 'межрегиональным распределительным сетевым компаниям (ДО ПАО "Россети")' as name_podrazdel, 10921 as str_porazdel_ies from  dual  union
        select 1,'Отпуск территориальным сетевым организациям (ТСО) на компенсацию потерь в электрических сетях, всего', 10920, 2, 'иным ТСО' ,10922  from  dual
      </view>
    <view name="61880-9-new-4R" timestamp="07.07.2023 14:00:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
WITH
    param As (
              Select  :ym1 As p_date_beg,
                      :ym2 As p_date_end		      
                From dual
              ),
     obj_per_adm
         as (Select kod_numobj, kod_adm, kod_dog, ndog
               from (select numobj.kod_numobj, numobj.kod_dog , ndog,
                            case when obj.kodd=-1 then nk_adress.xf_adr_region(d.kod_d_dog) else  nk_adress.xf_adr_region(obj.kodd) end kod_adm
                       from kr_numobj numobj
                           left join kr_dogovor d on d.kod_dog=numobj.kod_dog
                           left join kr_object obj on obj.kod_obj=numobj.kod_obj
                      where 1=1 { AND d.dep IN :p_dep}
                      ) pre                
              where 1=1 {AND pre.kod_adm IN :kod_adr_m}
            )
   
Select  /* по услугам по передачи ЭЭ*/
       Sum(Case When n.edizm = 4 And volt.voltage = -1 Then a.cust Else 0 End) As tr_cust_fsk_kvth,  -- объем ЭЭ только ФСК
       Sum(Case When n.edizm = 4 And volt.voltage != -1 Then a.cust ELSE 0 End) As tr_cust_tso_kvth, -- объем ЭЭ всех ТСО за исключением ФСК
       
       Sum(Case When n.edizm = 3 And volt.voltage = -1 Then a.cust Else 0 End) As tr_cust_fsk_kvt,  -- объем мощности только ФСК
       Sum(Case When n.edizm = 3 And volt.voltage != -1 Then a.cust Else 0 End) As tr_cust_tso_kvt, -- объем мощности всех ТСО за исключением ФСК

       Sum(Case When n.edizm = 4 And volt.voltage = -1 Then a.money Else 0 End) As tr_money_fsk_kvth,  /*стоимость без НДС*/
       Sum(Case When n.edizm = 4 And volt.voltage != -1 Then a.money Else 0 End) As tr_money_tso_kvth,  /*стоимость без НДС*/
       Sum(Case When n.edizm = 3 And volt.voltage = -1 Then a.money Else 0 End) As tr_money_fsk_kvt,
       Sum(Case When n.edizm = 3 And volt.voltage != -1 Then a.money Else 0 End) As tr_money_tso_kvt
             
  From kr_dogovor d 
        Join nv_account_sost_obj a On a.kod_dog = d.kod_dog
        Join sk_nachisl n On a.vid_t = n.vid_t              
        join hk_voltage volt On a.voltage = volt.voltage    
        Join hr_reglament_pp p On p.kod_reglament = a.kod_reglament
        Join hr_calc_variant v On v.kod_variant = p.kod_variant
        Join obj_per_adm ob On a.kod_numobj = ob.kod_numobj
        Cross Join param pa
 Where a.ym Between pa.p_date_beg And pa.p_date_end
       {AND d.dep IN :p_dep}
       And v.kod_typevariant = 1    -- покупка
       And v.pr_notransit = 1
       And a.price Is Not Null
       And (a.tip_tarif_sost = 2 Or a.vid_t = -222)
    </view>
    <view name="61880_9_v3_ats" timestamp="18.10.2024 14:00:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      WITH
       param As (Select  :ym1 As p_ym_beg,
                         :ym2 As p_ym_end
                  From dual
                ),
      pre as (SELECT  kod_srf,
                      kod_gtp
                FROM ( SELECT nk_adress.kf_get_sf(CASE WHEN ob.kodd IS NULL OR ob.kodd = -1 THEN d.kod_d_dog ELSE ob.kodd END) as kod_srf,
                              hg_common.get_gtp (n.kod_numobj, pa.p_ym_end) as kod_gtp
                        FROM kr_dogovor d
                          LEFT JOIN kr_numobj n ON d.kod_dog = n.kod_dog
                          LEFT JOIN kr_object ob ON n.kod_obj = ob.kod_obj
                          Cross Join param pa
                        WHERE 1=1 { AND d.dep IN :p_dep}
                    ) a
              WHERE 1=1 {AND a.kod_srf IN :kod_adr_m}
              GROUP BY kod_srf, kod_gtp
            )
      SELECT  --kod_srf,  
            -- pre.kod_gtp as kod_gtp,
            -- Раздел III
              SUM(ats.sell_rsv_value) as sell_rsv_value, -- kod_ats_data = 2
              SUM(ats.sell_rsv_money) as sell_rsv_money,
              SUM(ats.sell_br_value) as sell_br_value,  -- kod_ats_data = 19
              SUM(ats.sell_br_money) as sell_br_money,
            -- Раздел IV. Код строки 102
              SUM(rd_value_e) as rd_value_e,  -- kod_ats_data = 20
              SUM(rd_money_e) as rd_money_e,
              SUM(rd_value_p) as rd_value_p,  -- kod_ats_data = 20 with" value_type = 'P'
              SUM(rd_money_p) as rd_money_p,
            -- 105
              SUM(buy_pwr_dpm_value) as buy_pwr_dpm_value,  -- kod_ats_data = 16
              SUM(buy_pwr_dpm_money) as buy_pwr_dpm_money,
            -- 106
              SUM(buy_pwr_dpmga_value) as buy_pwr_dpmga_value,  -- kod_ats_data = 17
              SUM(buy_pwr_dpmga_money) as buy_pwr_dpmga_money,
            -- 107
              SUM(buy_rsv_value) as buy_rsv_value,  -- kod_ats_data = 1
              SUM(buy_rsv_money) as buy_rsv_money,
            -- 108
              SUM(buy_br_value) as buy_br_value,  -- kod_ats_data = 18
              SUM(buy_br_money) as buy_br_money,
            -- 109
              SUM(buy_pwr_frsvr_value) as buy_pwr_frsvr_value,  -- kod_ats_data = 5
              SUM(buy_pwr_frsvr_money) as buy_pwr_frsvr_money,
            -- 111
             SUM(buy_pwr_kom_value) as buy_pwr_kom_value,  -- kod_ats_data = 7+9 как для п.4.2.5 for the value for the report 58
             SUM(buy_pwr_kom_money) as buy_pwr_kom_money,
            -- 112
             SUM(buy_pwr_kommod_value) as buy_pwr_kommod_value,  -- kod_ats_data = 13
             SUM(buy_pwr_kommod_money) as buy_pwr_kommod_money,
            -- 113
             SUM(buy_pwr_con_value) as buy_pwr_con_value,  -- kod_ats_data = 14
             SUM(buy_pwr_con_money) as buy_pwr_con_money,
            -- 121 неценовые зоны
             SUM(upz_sell_energy_value) as upz_sell_energy_value,   -- value for kod_atsd_data = 10 with value_type = 'E'  (фактическое значение)
             SUM(upz_sell_energy_money) as upz_sell_energy_money,   -- money for kod_atsd_data = 10 with value_type = 'E'  (фактическое значение)
             SUM(upz_sell_power_value) as upz_sell_power_value,    -- value for kod_atsd_data = 11 with value_type = 'P'
             SUM(upz_sell_power_money) as upz_sell_power_money
      FROM pre
       INNER JOIN  table(ng_rep_other.get_tbl_ats_data(:ym1, :ym2, 1)) ats ON pre.kod_gtp = ats.kod_gtp
          
    </view>
    <view name="61880_9_v3_4R" timestamp="07.07.2023 14:00:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
WITH
    param As (
              Select  :ym1 As p_date_beg,
                      :ym2 As p_date_end		      
                From dual
              ),
    obj_per_adm
         as (Select kod_numobj, kod_adm, kod_dog, ndog
               from (select numobj.kod_numobj, numobj.kod_dog , ndog,
                            nk_adress.kf_get_sf(CASE WHEN ob.kodd IS NULL OR ob.kodd = -1 THEN d.kod_d_dog ELSE ob.kodd END) as kod_adm
                       from kr_numobj numobj
                           left join kr_dogovor d on d.kod_dog=numobj.kod_dog
                           left join kr_object ob on ob.kod_obj=numobj.kod_obj
                      where 1=1 { AND d.dep IN :p_dep}
                      ) pre                
              where 1=1 {AND pre.kod_adm IN :kod_adr_m}
            )
   
Select  /* по услугам по передачи ЭЭ*/
       Sum(Case When n.edizm = 4 And volt.voltage = -1 Then a.cust Else 0 End) As tr_cust_fsk_kvth,  -- объем ЭЭ только ФСК
       Sum(Case When n.edizm = 4 And volt.voltage != -1 Then a.cust ELSE 0 End) As tr_cust_tso_kvth, -- объем ЭЭ всех ТСО за исключением ФСК
       
       Sum(Case When n.edizm = 3 And volt.voltage = -1 Then a.cust Else 0 End) As tr_cust_fsk_kvt,  -- объем мощности только ФСК
       Sum(Case When n.edizm = 3 And volt.voltage != -1 Then a.cust Else 0 End) As tr_cust_tso_kvt, -- объем мощности всех ТСО за исключением ФСК

       Sum(Case When n.edizm = 4 And volt.voltage = -1 Then a.money Else 0 End) As tr_money_fsk_kvth,  /*стоимость без НДС*/
       Sum(Case When n.edizm = 4 And volt.voltage != -1 Then a.money Else 0 End) As tr_money_tso_kvth,  /*стоимость без НДС*/
       Sum(Case When n.edizm = 3 And volt.voltage = -1 Then a.money Else 0 End) As tr_money_fsk_kvt,
       Sum(Case When n.edizm = 3 And volt.voltage != -1 Then a.money Else 0 End) As tr_money_tso_kvt
             
  From kr_dogovor d 
     Inner Join nv_account_sost_obj a On a.kod_dog = d.kod_dog
     Inner Join sk_nachisl n On a.vid_t = n.vid_t              
     Inner join hk_voltage volt On a.voltage = volt.voltage    
     Inner Join hr_reglament_pp p On p.kod_reglament = a.kod_reglament
     Inner Join hr_calc_variant v On v.kod_variant = p.kod_variant
     Inner Join obj_per_adm ob On a.kod_numobj = ob.kod_numobj
     Cross Join param pa
 Where a.ym Between pa.p_date_beg And pa.p_date_end
       {AND d.dep IN :p_dep}
       And v.kod_typevariant = 1    -- покупка
       And v.pr_notransit = 1
       And a.price Is Not Null
       And (a.tip_tarif_sost = 2 Or a.vid_t = -222)
    </view>
    <view name="64455_1_priem" timestamp="17.03.2023 12:25:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1.xml"><![CDATA[
SELECT rn, n1 as kod_dog, n2 as kod_account, n3 as rym, n4 as kod_numobj, n5 as voltage, n6 as kodinterval, n7 as energy, n10 as is_2rate,
       n11 as kod_obj, s1 as object_name, n12 as object_kodd,
       n13 as kod_priem, n14 as kod_point, n15 as tpoint, n16 as point_nomer, s2 as point_name, n18 as kod_pointmain,
       s4 as type_pu, s5 as nom_pu, n19 as readlast, n20 as readprev, n21 as outcounter, n22 as outadd, n23 as out, n24 as rkoeff, 
       n25 as razr, n26 as razr2, n27 as kod_point_har, n28 as kod_polbalans, n29 as power, n30 as kod_attpoint,
       n31 as num_obj,
       s6 as src_dat_name 
FROM   rr_temp
WHERE  skod = '{7D212244-454A-4FF2-8D40-0A4C2FED9A2E}'
]]></view>
    <view name="65015_data" timestamp="17.03.2023 12:25:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65015.xml"><![CDATA[
SELECT n1 as kod_region, n2 as tarif_group, n3 as voltage, n4 as edizm, n5 as cust, n6 as price, n7 as money, n8 as nds, n7 + n8 as money_with_nds
FROM   rr_temp
WHERE  skod = '{AB388431-86BA-4862-BEFC-EEDB550FBAA2}'
]]></view>
  </views>
  <reports child-name="report" key-name="name">
    <report name="61880_3" title="4.6.2.3.2.1. Форма 23Н-Сведения о потреблении по отраслям" folder="dolg" autobands="1" form="61880_3" nogrid="1" timestamp="26.01.2023 12:12:16" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\35389.xml">
      <params>
        <param name="p_prizn_activ_dog" />
        <param name="p_dep" />
        <param name="p_ym_beg" />
        <param name="p_ym_end" />
        <param type="array" name="p_kod_adr_m" />
      </params>
      <procedure>
begin
    sqlb_rep_61880_3.fill_table;
end;
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_3.xlsx" title="Форма 23Н-Сведения о потреблении по отраслям" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_3-r2" as="r2" title="Всего" autobands="1">
          <withparams>
            <useparam name="p_prizn_activ_dog" />
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="title_ym_dep_addr_info" as="info">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="462361" title="4.6.2.3.6.1.  Отчет по количеству договоров" form="form462361" nogrid="1" timestamp="29.05.2024 13:08:17" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml">
      <print-templates>
        <excel>
          <template name="462361.xlsx" print-xlsx="1" print-proc="2" post-process="0" title="Отчет по количеству договоров" />
        </excel>
      </print-templates>
      <params>
        <param name="p_ym" type="number" />
        <param name="p_dep" type="array" />
        <param name="kod_adr_m" type="array" />
      </params>
      <procedure><![CDATA[

begin
 
delete vr_number_array;
   
 

 for rec in (select kodp from kr_org where kodp in :p_dep)
 
 
 loop
    
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
   
 end loop;
   
 

/* for rec_adr in( SELECT regexp_substr(str, '[^,]+', 1, level) kod_m
    
                         FROM (
  SELECT rtrim(ltrim(trim('{:kod_adr_m}'),'('),')') str FROM dual     ) t
 
                        where t.str is not null
   
  	 CONNECT BY instr(str, ',', 1, level - 1) > 0
  
)
 
loop
     
	 insert into vr_number_array (array_id,val) values ('kod_adr_m',rec_adr.kod_m);
  
  
 end loop;

  */

 


 INSERT INTO vr_number_array (array_id,val) 
	
	
SELECT 'kod_adr_m', kod_m
	FROM adr_m 
	WHERE 1=0 {And kod_m in :kod_adr_m};


 
 

 
 sqlb_rep_462361.fill_table(:p_ym);

end;
      ]]></procedure>
      <queries>
        <query name="462361_1" as="a" />
        <query name="462361_2" as="b" />
        <query name="462361_3" as="c" />
        <query name="462361_params2" as="params">
          <withparams>
            <useparam name="p_ym" />
            <useparam name="p_dep" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_1" title="4.6.2.3.3.10. Акт инвентаризации задолженности (ИНВ-17)" form="61880_1" timestamp="21.04.2022 12:54:06" folder="dolg" autobands="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <params>
        <param name="dat">
          <const>to_date('01.10.2016','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <customers>
        <customer id="101" />
      </customers>
      <print-templates>
        <excel>
          <template name="61880_1.xlsx" title="Акт инвентаризации задолженности (ИНВ-17)" print-xlsx="1" print-proc="2" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_1-itog" as="itog" title="Всего" autobands="1">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
        <query name="61880_1-sch-itog" as="sch" title="Справка - итого по счетам">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
          <query name="61880_1-detail" as="det" title="Справка - детализация">
            <withparams>
              <useparam name="dat" />
              <useparam name="dep" />
              <useparam name="vid_real_deb" />
            </withparams>
            <call function="=">
              <column table="sch" column="kod_sch" />
              <column table="det" column="kod_sch" />
            </call>
          </query>
        </query>
        <query name="61880_1-deb-itog" as="deb_sch" title="Дебиторы - итого по счетам">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
          <query name="61880_1-deb-dog" as="deb_dog" title="Дебиторы - итого по договорам">
            <withparams>
              <useparam name="dat" />
              <useparam name="dep" />
              <useparam name="vid_real_deb" />
            </withparams>
            <call function="=">
              <column table="deb_sch" column="kod_sch" />
              <column table="deb_dog" column="kod_sch" />
            </call>
          </query>
        </query>
        <query name="61880_1-kred-itog" as="kred_sch" title="Кредиторы - итого по счетам">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
          <query name="61880_1-kred-dog" as="kred_dog" title="Кредиторы - итого по договорам">
            <withparams>
              <useparam name="dat" />
              <useparam name="dep" />
              <useparam name="vid_real_deb" />
            </withparams>
            <call function="=">
              <column table="kred_sch" column="kod_sch" />
              <column table="kred_dog" column="kod_sch" />
            </call>
          </query>
        </query>
        <query name="61880_1-title" as="info" title="Доп. информация">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_1_v2" title="4.6.2.3.3.10. Акт инвентаризации задолженности (ИНВ-17). Версияя 2." form="61880_1" folder="dolg" autobands="1" timestamp="04.06.2024 18:51:40" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <params>
        <param name="dat">
          <const>to_date('01.10.2016','DD.MM.YYYY')</const>
        </param>
        <param name="dep">
          <const>102276621</const>
        </param>
        <param name="vid_real_deb">
          <const>(2,3)</const>
        </param>
      </params>
      <customers>
        <customer id="29" />
      </customers>
      <print-templates>
        <excel>
          <template name="61880_1.xlsx" title="Акт инвентаризации задолженности (ИНВ-17)" print-xlsx="1" print-proc="2" />
        </excel>
      </print-templates>
      <procedure><![CDATA[DECLARE
    p_dep       kr_dogovor.dep%type;
    p_date      DATE;
    s_data_id   rr_temp.skod%type;
begin

    p_dep  := :dep; -- 20488 Оренбургский филиал
    p_date  := :dat;
    s_data_id := '{E695CD85-3F22-4E80-9D0A-2667FAA4F97B}';
    delete vr_number_array;
    insert into vr_number_array (array_id,val) values ('p_dep', p_dep);
                 
    /*Заполняем временную рабочую таблицу rr_rep_dz_kz. dep вставлен в таблицу vr_number_array при выборе параметра на форме */
    sg_rep_dz_kz.dz_on_date_per_sf(p_date);
    sg_rep_dz_kz.kz_on_date_per_opl(p_date);
--
    delete rr_temp where  s_data_id = '{E695CD85-3F22-4E80-9D0A-2667FAA4F97B}';
    
    INSERT INTO rr_temp ( skod -- s_data_id - guid отчета
           ,  n1    -- kod_shc  (1 для ДЗ)
                        , n2    -- kod_dog
                        , n3    -- kod_sf
                        , s1    -- kod_be
                        , s2    -- ndog /*Номер договора*/
                       
                        , d1    -- dat_doc
                        , d2    -- dat_bzad /*дата задолженности*/
                                            
                        , s3    -- abon_info /* Наименование дебитора/кредитора */
                        , s4    -- nom_sf 
                        , s5    -- name_shc  (Для Гаранта "62.01" или "62.02")
                        , s6    -- name_doc (сч/ф, пл.поручение,...)
                        
                        , n4    -- inn
                        , n5    -- deb    /* дебиторская задолженность на дату*/
                        , n6    -- kred   /* кредиторская задолженность на дату*/   
                        
                        )
      WITH
           pre as (SELECT  kod_sch
                        , kod_dog
                        , kod_sf
                        , nom_sf
                        , dat_sf
                        , dat_bzad
                        , (nachisl - opl) As dz_on_date
                        , name_doc
                        , NULL as num_opl
                        , NULL as dat_opl
                        , NULL as opl_kz
           FROM  rr_rep_dz_kz
                     WHERE kod_sch = 1
               UNION ALL
                    SELECT  kod_sch 
                         , kod_dog
                         , NULL as kod_sf
                         , NULL as nom_sf
                         , NULL as dat_sf
                         , dat_bzad
                         , NULL as dz_on_date
                         , name_doc
                         , num_opl
                         , dat_opl
                         , opl_kz
                          FROM  rr_rep_dz_kz
                       WHERE kod_sch = 3
                  )
      
      SELECT  s_data_id
            , pre.kod_sch as n1   
            , pre.kod_dog as n2   -- kod_dog
            , pre.kod_sf as n3 -- kod_sf
            , Case When d.dep = 1172 Then 'R089'
                    When d.dep in (20488, 21626) Then 'R015'
                    When d.dep in (20578, 20579, 21621) Then 'R088'
                    When d.dep = 27299 Then 'R134'
                    When d.dep = 21628 Then 'R135'
                    When d.dep = 27301 Then 'R136'
              end As s1  -- kod_be
            , d.ndog || ' от ' || (to_char(d.dat_sign,'DD.MM.YYYY'))  as s2   -- ndog /*Номер договора*/
            , CASE WHEN pre.kod_sch =1 THEN  pre.dat_sf ELSE  pre.dat_opl END   as d1      -- dat_doc
            , pre.dat_bzad   as d2      -- dat_bzad /*дата задолженности*/
            
            , d.ndog || ' ' || p.name   as s3 -- abon_info /* Наименование дебитора */
            , CASE WHEN pre.kod_sch=1 THEN pre.nom_sf ELSE to_char(num_opl) END  as s4  -- num_doc
            , CASE WHEN kod_sch = 1 THEN '62.01' ELSE '62.02' END  as  s5    -- name_shc 
            , pre.name_doc     as s6   -- name_doc
            
            , p.inn  as  n4  -- inn
            , nvl(pre.dz_on_date, 0) as n5  -- deb    /* дебиторская задолженность на дату*/
            , nvl(pre.opl_kz, 0)     as n6  -- kred   /* кредиторская задолженность на дату*/    
             
        From pre
          Inner Join kr_dogovor d On pre.kod_dog = d.kod_dog
          Left Join kr_org g On d.dep = g.kodp
          Left Join kr_payer p On d.kodp = p.kodp
        WHERE pre.dz_on_date > 0 or pre.opl_kz > 0 ;

end;]]></procedure>
      <queries>
        <query name="61880_1_itog_v2" as="itog" title="Всего" autobands="1">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
        <query name="61880_1_sch_itog_v2" as="sch" title="Справка - итого по счетам">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
          <query name="61880_1_detail_v2" as="det" title="Справка - детализация">
            <withparams>
              <useparam name="dat" />
              <useparam name="dep" />
              <useparam name="vid_real_deb" />
            </withparams>
            <call function="=">
              <column table="sch" column="kod_sch" />
              <column table="det" column="kod_sch" />
            </call>
          </query>
        </query>
        <query name="61880_1_deb_itog_v2" as="deb_sch" title="Дебиторы - итого по счетам">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
          <query name="61880_1_deb_dog_v2" as="deb_dog" title="Дебиторы - итого по договорам">
            <withparams>
              <useparam name="dat" />
              <useparam name="dep" />
              <useparam name="vid_real_deb" />
            </withparams>
            <call function="=">
              <column table="deb_sch" column="kod_sch" />
              <column table="deb_dog" column="kod_sch" />
            </call>
          </query>
        </query>
        <query name="61880_1_kred_itog_v2" as="kred_sch" title="Кредиторы - итого по счетам">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
          <query name="61880_1_kred_dog_v2" as="kred_dog" title="Кредиторы - итого по договорам">
            <withparams>
              <useparam name="dat" />
              <useparam name="dep" />
              <useparam name="vid_real_deb" />
            </withparams>
            <call function="=">
              <column table="kred_sch" column="kod_sch" />
              <column table="kred_dog" column="kod_sch" />
            </call>
          </query>
        </query>
        <query name="61880_1-title" as="info" title="Доп. информация">
          <withparams>
            <useparam name="dat" />
            <useparam name="dep" />
            <useparam name="vid_real_deb" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_10" timestamp="11.05.2022 14:37:25" title="4.6.2.3.2.8. Информация о реализации на потребительском рынке электрической энергии и мощности" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml" form="empty">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
        <param type="array" name="p_kod_adr_m" />
        <param name="no_dog" type="number" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_10.fill_table(:p_ym_beg,:p_ym_end);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_10.xlsx" title="Информация о реализации на потребительском рынке электрической энергии и мощности" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_10-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_11" timestamp="02.02.2022 18:12:38" title="4.6.2.3.4.4. Дебиторская задолженность с несколькими отчетными периодами" nogrid="1" form="61880_11" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_11.fill_table(:p_ym_beg);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_11.xlsx" title="Дебиторская задолженность с несколькими отчетными периодами" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_11-main" as="a" />
        <query name="61880_11-param" as="param">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_13" timestamp="17.02.2022 20:53:42" title="Справка о платежах и задолженности" form="61880_13" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_year" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_13.fill_table(:p_year);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_13.xlsx" title="Справка о платежах и задолженности" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_13-main" as="a" />
      </queries>
    </report>
    <report name="61880_11_new" timestamp="20.05.2022 20:52:19" title="4.6.2.3.4.4. Дебиторская задолженность с несколькими отчетными периодами" form="61880_11" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_11_new.fill_table(:p_ym_beg);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_11_new.xlsx" title="Дебиторская задолженность с несколькими отчетными периодами" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_11-main_new" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
          </withparams>
        </query>
        <query name="61880_11-param" as="param">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_14" timestamp="17.08.2022 23:03:24" nogrid="1" form="61880_14" title="Тарифное меню" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="array" name="p_kod_adr_m" />
      </params>
      <procedure>
        <text comment="рабочая версия">
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;

     for rec in (select * from adr_m where kod_m in :p_kod_adr_m)
        loop
        insert into vr_number_array (array_id,val) values ('adr_m',rec.kod_m);
     end loop;
    sqlb_rep_61880_14.fill_table(:p_ym_beg,:p_ym_beg);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_14.xlsx" print-proc="2" print-xlsx="1" title="Тарифное меню" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_14-itog-all" as="ia">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_14-itog-all-vidacc" as="iav">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_14-dog" as="d">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_17" nogrid="1" form="61880_17" title="Макет 4.41 Раздел 1" timestamp="27.09.2023 16:13:48" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="array" name="p_kod_adr_m" />
        <param name="no_dog" type="number" />
      </params>
      <procedure>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        
        for rec in (select * from adr_m where kod_m in :p_kod_adr_m)
        loop
        insert into vr_number_array (array_id,val) values ('adr_m',rec.kod_m);
        end loop;
       sqlb_rep_61880_17.fill_table_res;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_17_r1.xlsx" print-proc="2" print-xlsx="1" title="Макет 4.41 Раздел 1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880-17-data-rd1_ls10400" as="ls">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1_gt10400" as="gt">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1_10400" as="i10400">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <const name="no_dog">0</const>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_351" as="i351">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <const name="no_dog">0</const>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_352" as="i352">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <const name="no_dog">0</const>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_353" as="i353">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1_3511" as="i3511">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog">0</useparam>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_3512" as="i3512">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog">0</useparam>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_3514" as="i3514">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog">0</useparam>
          </withparams>
        </query>
        <query name="61880-17-data-rd1a" as="a1">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-title" as="pars">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_17_new" nogrid="1" form="61880_17_new" title="Макет 4.41 Раздел 1 (новый)" timestamp="27.09.2022 12:17:13" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="array" name="p_kod_adr_m" />
        <param name="no_dog" type="number" />
      </params>
      <procedure>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        
        for rec in (select * from adr_m where kod_m in :p_kod_adr_m)
        loop
        insert into vr_number_array (array_id,val) values ('adr_m',rec.kod_m);
        end loop;
       sqlb_rep_61880_17.fill_table_res;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_17_r1_new.xlsx" print-proc="2" print-xlsx="1" title="Макет 4.41 Раздел 1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880-17-data-res" as="res">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1a_new" as="a1">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-data-rd10920_new" as="a10920">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-data-10910" as="a10910">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-title" as="pars">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_17_v3" nogrid="1" form="61880_17_v3" title="Макет 4.41 Раздел 1 (версия 3)" timestamp="24.11.2022 16:18:17" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17_v3.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="array" name="p_kod_adr_m" />
        <param name="no_dog" type="number" />
      </params>
      <procedure>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        
        for rec in (select * from adr_m where kod_m in :p_kod_adr_m)
        loop
        insert into vr_number_array (array_id,val) values ('adr_m',rec.kod_m);
        end loop;
       sqlb_rep_61880_17.fill_table_res;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_17_v3.xlsx" print-proc="2" print-xlsx="1" title="Макет 4.41 Раздел 1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880-17-data-res" as="res">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1a_new" as="a1">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-data-rd10920_new" as="a10920">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-data-10910" as="a10910">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-v3-title" as="pars">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="kr_employee_info_short" as="add_info">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_2" timestamp="30.05.2022 13:29:14" title="4.6.2.3.2.9. Отчет по уровню дебиторской задолженности, объему продаж и оплаты энергоресурсов" nogrid="1" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2.xml" form="empty">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_2.fill_table(:p_ym_beg,:p_ym_end);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_2.xlsx" title="Отчет по уровню дебиторской задолженности, объему продаж и оплаты энергоресурсов" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_2-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_2_int_date" title="4.6.2.3.2.9.1.2 Отчет по уровню дебиторской задолженности, объему продаж и оплаты энергоресурсов" nogrid="1" timestamp="07.08.2023 15:37:57" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_int_date.xml" form="empty">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param type="array" name="p_dep" mode="store" />
        <param type="date" name="p_date_beg" />
        <param type="date" name="p_date_end" />
        <param type="array" name="pkod_dog" mode="store" />
        <param name="no_dog" type="number" />
        <param type="date" name="p_date_beg_2" />
        <param type="date" name="p_date_end_2" />
      </params>
      <print-templates>
        <excel>
          <template name="61880_2_int_date.xlsx" title="Отчет по уровню дебиторской задолженности, объему продаж и оплаты энергоресурсов (интервал дат)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>
          begin
       /*  delete vr_number_array;
         for rec in (select * from kr_org where kodp in p_dep)
          loop
          insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
          end loop;

          for rec in( select kod_Dog from kr_dogovor where kod_dog in pkod_dog )
          loop
          insert into vr_number_array (array_id,val) values ('pkod_dog',rec.kod_dog);
          end loop;
          INSERT INTO vr_number_array (array_id, val)
            SELECT array_id, nval FROM vr_array_storage WHERE array_id IN ('p_dep', 'pkod_dog');
          
*/




DELETE sqlb_rep_61880_2_int_date_tbl; 





sqlb_rep_61880_2_int_date.fill_table(:p_date_beg,:p_date_end,1);
 

 

if :p_date_beg_2 is not null and :p_date_end_2 is not null 
 then 
 

sqlb_rep_61880_2_int_date.fill_table(:p_date_beg_2,:p_date_end_2,2);
  
 
     

end if;

   end;
        </text>
      </procedure>
      <queries>
        <query name="61880_2_int_date-main" as="a">
          <withparams>
            <useparam name="no_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_2_on_date" title="4.6.2.3.2.9.1 Отчет по уровню дебиторской задолженности, объему продаж и оплаты энергоресурсов (на дату)" nogrid="1" timestamp="04.10.2022 11:54:42" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_on_date.xml" form="empty">
      <params>
        <param type="array" name="p_dep" />
        <param type="date" name="p_date" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_61880_2_on_date.fill_table(:p_date);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_2_на_дату.xlsx" title="Отчет по уровню дебиторской задолженности, объему продаж и оплаты энергоресурсов (на дату)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_2-main_on_date" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_date" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_3_new" title="4.6.2.3.2.1. Форма 23Н-Сведения о потреблении по отраслям" folder="dolg" autobands="1" form="61880_3" nogrid="1" timestamp="05.05.2023 11:33:02" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_3_new.xml">
      <params>
        <param name="p_prizn_activ_dog" />
        <param name="p_dep" />
        <param name="p_ym_beg" />
        <param name="p_ym_end" />
        <param type="array" name="p_kod_adr_m" />
      </params>
      <procedure>
begin
    sqlb_rep_61880_3.fill_table;
end;
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_3_new.xlsx" title="Форма 23Н-Сведения о потреблении по отраслям" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_3-r2" as="r2" title="Всего" autobands="1">
          <withparams>
            <useparam name="p_prizn_activ_dog" />
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="title_ym_dep_addr_info" as="info">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880-9-IА" title="Ф46 Раздел I. А" form="61880-9" folder="f46" timestamp="21.07.2022 16:36:28" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond">
          <call function="and">
            <call function="=">
              <column table="a" column="f46_razdel" />
              <const>'I'</const>
            </call>
            <call function="in">
              <column table="a" column="f46_podrazdel" />
              <call function="array">
                <const>'А'</const>
              </call>
            </call>
          </call>
        </param>
        <param name="kod_adr_m" />
      </params>
      <queries>
        <query name="61880-9-IАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <band title="1 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_1k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_1k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_1k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_1k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="2 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_2k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_2k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_2k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_2k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="3 и 5 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_35k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_35k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_35k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_35k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="3 и 5 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm_35k" title="Всего" default="0" table="a" />
                <band table="b" column="custm_35k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm_35k" title="Всего" default="0" table="a" />
                <band table="b" column="nachm_35k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_46k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_46k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_46k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_46k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm72_46k" title="Всего" default="0" table="a" />
                <band table="b" column="custm72_46k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm72_46k" title="Всего" default="0" table="a" />
                <band table="b" column="nachm72_46k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем мощности услуг по передаче электроэнергии потребителей за отчетный месяц (год), МВт">
                <column name="custm22_46k" title="Всего" default="0" table="a" />
                <band table="b" column="custm22_46k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость мощности услуг по передаче электроэнергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm22_46k" title="Всего" default="0" table="a" />
                <band table="b" column="nachm22_46k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="Стоимость электрической энергии (мощности) по 3-6 ценовой категории без учета стоимости отклонений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_all" title="Всего" default="0" table="a" />
              <band table="b" column="nach_all" title="в том числе" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <query name="61880-9-IАБ-new-volt" as="b">
            <withparams>
              <useparam name="p_dep" />
              <useparam name="ym1" />
              <useparam name="ym2" />
              <useparam name="cond" />
              <useparam name="kod_adr_m" />
            </withparams>
            <call function="=nvl">
              <column table="a" column="f46_npp" />
              <column table="b" column="f46_npp1" />
            </call>
            <transpose>
              <dimension>
                <column column="voltage1" title="voltage_abbr" as="voltage1" />
              </dimension>
              <values>
                <column column="cust_1k" type="number" />
                <column column="nach_1k" />
                <column column="cust_2k" />
                <column column="nach_2k" />
                <column column="cust_35k" />
                <column column="nach_35k" />
                <column column="custm_35k" />
                <column column="nachm_35k" />
                <column column="cust_46k" />
                <column column="nach_46k" />
                <column column="custm72_46k" />
                <column column="nachm72_46k" />
                <column column="custm22_46k" />
                <column column="nachm22_46k" />
                <column column="nach_all" />
              </values>
            </transpose>
          </query>
        </query>
      </queries>
    </report>
    <report name="61880-9-IБ" title="Ф46 Раздел I. Б" form="61880-9" folder="f46" timestamp="25.05.2022 10:53:12" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond">
          <call function="and">
            <call function="=">
              <column table="a" column="f46_razdel" />
              <const>'I'</const>
            </call>
            <call function="=">
              <column table="a" column="f46_podrazdel" />
              <const function="array">'Б'</const>
            </call>
          </call>
        </param>
        <param name="kod_adr_m" />
      </params>
      <queries>
        <query name="61880-9-IАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <band title="1 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_1k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_1k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_1k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_1k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="2 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_2k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_2k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_2k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_2k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="3 и 4 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_34k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_34k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_34k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_34k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="3 и 4 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm_34k" title="Всего" default="0" table="a" />
                <band table="b" column="custm_34k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm_34k" title="Всего" default="0" table="a" />
                <band table="b" column="nachm_34k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="5 и 6 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_56k" title="Всего" default="0" table="a" />
                <band table="b" column="cust_56k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_56k" title="Всего" default="0" table="a" />
                <band table="b" column="nach_56k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="5 и 6 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm72_56k" title="Всего" default="0" table="a" />
                <band table="b" column="custm72_56k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm72_56k" title="Всего" default="0" table="a" />
                <band table="b" column="nachm72_56k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="Стоимость электрической энергии (мощности) по 3-6 ценовой категории без учета стоимости отклонений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_all" title="Всего" default="0" table="a" />
              <band table="b" column="nach_all" title="в том числе" default="0" />
            </band>
            <band title="Стоимость отклонений фактических объемов потребления электрической энергии по 5 и 6 ценовой категории от плановых (договорных) значений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_otcl" title="Всего" default="0" table="a" />
              <band table="b" column="nach_otcl" title="в том числе" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <query name="61880-9-IАБ-new-volt" as="b">
            <withparams>
              <useparam name="p_dep" />
              <useparam name="ym1" />
              <useparam name="ym2" />
              <useparam name="cond" />
              <useparam name="kod_adr_m" />
            </withparams>
            <call function="=nvl">
              <column table="a" column="f46_npp" />
              <column table="b" column="f46_npp1" />
            </call>
            <transpose>
              <dimension>
                <column column="voltage1" title="voltage_abbr" as="voltage1" />
              </dimension>
              <values>
                <column column="cust_1k" />
                <column column="nach_1k" />
                <column column="cust_2k" />
                <column column="nach_2k" />
                <column column="cust_34k" />
                <column column="nach_34k" />
                <column column="custm_34k" />
                <column column="nachm_34k" />
                <column column="cust_56k" />
                <column column="nach_56k" />
                <column column="custm72_56k" />
                <column column="nachm72_56k" />
                <column column="nach_all" />
                <column column="nach_otcl" />
              </values>
            </transpose>
          </query>
        </query>
      </queries>
    </report>
    <report name="61880-9-IIА" title="Ф46 Раздел II. А" form="61880-9" folder="f46" timestamp="04.02.2022 23:21:48" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond">
          <call function="and">
            <call function="=">
              <column table="a" column="f46_razdel" />
              <const>'II'</const>
            </call>
            <call function="in">
              <column table="a" column="f46_podrazdel" />
              <call function="array">
                <const>'А'</const>
              </call>
            </call>
          </call>
        </param>
        <param name="kod_adr_m" />
      </params>
      <queries>
        <query name="61880-9-IIАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_1st" title="Всего" format="" default="0" />
              <band table="b" column="cust_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_1st" title="Всего" format="" default="0" />
              <band table="b" column="nach_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_z" title="Всего" format="" default="0" />
              <band table="b" column="cust_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_z" title="Всего" format="" default="0" />
              <band table="b" column="nach_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_3st" title="Всего" format="" default="0" />
              <band table="b" column="cust_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_3st" title="Всего" format="" default="0" />
              <band table="b" column="nach_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической мощности потребителей, осуществляющих оплату услуг по передаче электрической энергии по трехставочным ценам за отчетный месяц (год), МВт">
              <column table="a" name="cust_kvt" title="Всего" format="" default="0" />
              <band table="b" column="cust_kvt" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической мощности потребителей, осуществляющих оплату услуг по передаче электрической энергии по трехставочным ценам за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_kvt" title="Всего" format="" default="0" />
              <band table="b" column="nach_kvt" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="cust_kvtch" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="nach_kvtch" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии (мощности) без учета стоимости отклонений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_all" title="Всего" default="0" table="a" />
              <band table="b" column="nach_all" title="в том числе" default="0" />
            </band>
            <band title="Стоимость отклонений фактических объемов потребления электрической энергии от плановых (договорных) значений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_otcl" title="Всего" default="0" table="a" />
              <band table="b" column="nach_otcl" title="в том числе" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <query name="61880-9-IIАБ-new-volt" as="b">
            <withparams>
              <useparam name="p_dep" />
              <useparam name="ym1" />
              <useparam name="ym2" />
              <useparam name="cond" />
              <useparam name="kod_adr_m" />
            </withparams>
            <call function="=nvl">
              <column table="a" column="f46_npp" />
              <column table="b" column="f46_npp1" />
            </call>
            <transpose>
              <dimension>
                <column column="voltage1" title="voltage_abbr" as="voltage1" />
              </dimension>
              <values>
                <column column="cust_1st" />
                <column column="nach_1st" />
                <column column="cust_z" />
                <column column="nach_z" />
                <column column="cust_3st" />
                <column column="nach_3st" />
                <column column="cust_kvt" />
                <column column="nach_kvt" />
                <column column="cust_kvtch" />
                <column column="nach_kvtch" />
                <column column="nach_all" />
                <column column="nach_otcl" />
              </values>
            </transpose>
          </query>
        </query>
      </queries>
    </report>
    <report name="61880-9-IIБ" title="Ф46 Раздел II. Б" form="61880-9" folder="f46" timestamp="04.02.2022 23:22:55" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond">
          <call function="and">
            <call function="=">
              <column table="a" column="f46_razdel" />
              <const>'II'</const>
            </call>
            <call function="=">
              <column table="a" column="f46_podrazdel" />
              <const function="array">'Б'</const>
            </call>
          </call>
        </param>
        <param name="kod_adr_m" />
      </params>
      <queries>
        <query name="61880-9-IIАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_1st" title="Всего" format="" default="0" />
              <band table="b" column="cust_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_1st" title="Всего" format="" default="0" />
              <band table="b" column="nach_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_z" title="Всего" format="" default="0" />
              <band table="b" column="cust_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_z" title="Всего" format="" default="0" />
              <band table="b" column="nach_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_3st" title="Всего" format="" default="0" />
              <band table="b" column="cust_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_3st" title="Всего" format="" default="0" />
              <band table="b" column="nach_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической мощности потребителей, осуществляющих оплату услуг по передаче электрической энергии по трехставочным ценам за отчетный месяц (год), МВт">
              <column table="a" name="cust_kvt" title="Всего" format="" default="0" />
              <band table="b" column="cust_kvt" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической мощности потребителей, осуществляющих оплату услуг по передаче электрической энергии по трехставочным ценам за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_kvt" title="Всего" format="" default="0" />
              <band table="b" column="nach_kvt" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="cust_kvtch" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="nach_kvtch" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии (мощности) без учета стоимости отклонений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_all" title="Всего" default="0" table="a" />
              <band table="b" column="nach_all" title="в том числе" default="0" />
            </band>
            <band title="Стоимость отклонений фактических объемов потребления электрической энергии от плановых (договорных) значений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_otcl" title="Всего" default="0" table="a" />
              <band table="b" column="nach_otcl" title="в том числе" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
          <query name="61880-9-IIАБ-new-volt" as="b">
            <withparams>
              <useparam name="p_dep" />
              <useparam name="ym1" />
              <useparam name="ym2" />
              <useparam name="cond" />
              <useparam name="kod_adr_m" />
            </withparams>
            <call function="=nvl">
              <column table="a" column="f46_npp" />
              <column table="b" column="f46_npp1" />
            </call>
            <transpose>
              <dimension>
                <column column="voltage1" title="voltage_abbr" as="voltage1" />
              </dimension>
              <values>
                <column column="cust_1st" />
                <column column="nach_1st" />
                <column column="cust_z" />
                <column column="nach_z" />
                <column column="cust_3st" />
                <column column="nach_3st" />
                <column column="cust_kvt" />
                <column column="nach_kvt" />
                <column column="cust_kvtch" />
                <column column="nach_kvtch" />
                <column column="nach_all" />
                <column column="nach_otcl" />
              </values>
            </transpose>
          </query>
        </query>
      </queries>
    </report>
    <report name="61880-9-all" title="Ф46 (Исходные данные, детализация)" form="61880-9" folder="f46" timestamp="04.02.2022 23:23:46" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="kod_adr_m" />
      </params>
      <queries>
        <query name="61880_9-main_all" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880-9-III" title="Ф46 Раздел III" form="61880-9" folder="f46" timestamp="19.05.2022 18:00:15" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond">
          <undefined />
        </param>
        <param name="kod_adr_m" />
      </params>
      <queries>
        <query name="61880_9-III-main" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880-9-В" title="Ф46 Раздел I. В" form="61880-9" folder="f46" timestamp="21.04.2022 18:09:35" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <params>
        <param name="p_dep" />
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond">
          <call function="and">
            <call function="=">
              <column table="a" column="f46_razdel" />
              <const>'I'</const>
            </call>
            <call function="=">
              <column table="a" column="kod_f46" />
              <const>38</const>
            </call>
          </call>
        </param>
        <param name="kod_adr_m" />
      </params>
      <queries>
        <query name="61880-9-В-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <column table="a" name="cust_kvtch" title="Объем электрической энергии за отчетный месяц (год), тыс кВт ч всего" format="" default="0" />
            <column table="a" name="nachisl_kvtch" title="Стоимость электрической энергии за отчетный месяц (год) с НДС, тыс руб всего" format="" default="0" />
            <column table="a" name="nach_kvtch" title="Стоимость электрической энергии за отчетный месяц (год) без НДС, тыс руб всего" format="" default="0" />
            <column table="a" name="cust_1st" format="" default="0" title="Объем электрической энергии потребителей, осуществляющих оплату по одноставочному тарифу за отчетный месяц (год), тыс кВт ч всего" />
            <column table="a" name="nachisl_1st" format="" default="0" title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочному тарифу за отчетный месяц (год) с НДС, тыс руб всего" />
            <column table="a" name="nach_1st" format="" default="0" title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочному тарифу за отчетный месяц (год) без НДС,  тыс руб всего" />
          </columns>
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880-9-NEW" title="4.6.2.3.2.2. Форма N 46-ЭЭ (полезный отпуск)" folder="f46" nogrid="1" form="61880-9-NEW" timestamp="29.09.2023 16:02:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <!--form="61880-9-NEW"-->
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <procedure>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        sqlb_rep_61880_9.fill_table(:ym1,:ym2);
        end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_9.xlsx" title="Форма 46-ЭЭ (полезный отпуск)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880-9-new-IA" as="r1a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="=">
                <column table="a" column="f46_razdel" />
                <const>'I'</const>
              </call>
              <call function="in">
                <column table="a" column="f46_podrazdel" />
                <call function="array">
                  <const>'А'</const>
                </call>
              </call>
            </call>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-new-IБ" as="r1b">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="=">
                <column table="a" column="f46_razdel" />
                <const>'I'</const>
              </call>
              <call function="=">
                <column table="a" column="f46_podrazdel" />
                <const function="array">'Б'</const>
              </call>
            </call>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-new-IB_nas" as="r1v_n">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="=">
                <column table="a" column="f46_razdel" />
                <const>'I'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_f46" />
                <const>38</const>
              </call>
            </call>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-new-IB_nas_pr" as="r1v_np">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="=">
                <column table="a" column="f46_razdel" />
                <const>'I'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_f46" />
                <const>38</const>
              </call>
            </call>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-new-IIА" as="r2a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="=">
                <column table="a" column="f46_razdel" />
                <const>'II'</const>
              </call>
              <call function="in">
                <column table="a" column="f46_podrazdel" />
                <call function="array">
                  <const>'А'</const>
                </call>
              </call>
            </call>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-new-IIБ" as="r2b">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <call function="and">
              <call function="=">
                <column table="a" column="f46_razdel" />
                <const>'II'</const>
              </call>
              <call function="=">
                <column table="a" column="f46_podrazdel" />
                <const function="array">'Б'</const>
              </call>
            </call>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-new-4R" as="r4">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-9-info" as="info">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_9_v3" title="4.6.2.3.2.2. Форма N 46-ЭЭ (полезный отпуск; версия 3.1)" folder="f46" nogrid="1" form="61880_9_v3" timestamp="09.12.2024 11:44:56" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <customers>
        <customer id="29" />
      </customers>
      <!--form="61880_9_v3"-->
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <procedure><![CDATA[
        begin
          delete vr_number_array;
          for rec in (select * from kr_org where kodp in :p_dep)
          loop
            insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
          end loop;
 INSERT INTO vr_number_array (array_id,val) 
 SELECT 'kod_adr_m', kod_m	
 FROM adr_m 	
 WHERE 1=0 {OR kod_m in :kod_adr_m};


          sqlb_rep_61880_9_v3.fill_table(:ym1,:ym2);
        end;
    ]]></procedure>
      <print-templates>
        <excel>
          <template name="61880_9.xlsx" title="Форма 46-ЭЭ (полезный отпуск)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_9_v3_IA" as="r1a" />
        <query name="61880_9_v3_IB" as="r1b" />
        <query name="61880_9_v3_IV_nas" as="r1v_n" />
        <query name="61880_9_v3_IV_nas_pr" as="r1v_np" />
        <query name="61880_9_v3_IIA" as="r2a" />
        <query name="61880_9_v3_IIB" as="r2b" />
        <query name="61880_9_v3_ats" as="ats">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_9_v3_4R" as="r4">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_9_v3_info" as="info">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_9_v3_ryaz" title="14. Форма N 46-ЭЭ (полезный отпуск; версия 3.1)" folder="f46" nogrid="1" form="61880_9_v3" timestamp="28.10.2024 15:20:15" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <customers>
        <customer id="310" />
      </customers>
      <!--form="61880_9_v3"-->
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <procedure><![CDATA[
        begin
   
       delete vr_number_array;
          for rec in (select * from kr_org where kodp in :p_dep)
          loop
            insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
          end loop;
 INSERT INTO vr_number_array (array_id,val) 
 SELECT 'kod_adr_m', kod_m	
 FROM adr_m 	
 WHERE 1=0 {OR kod_m in :kod_adr_m};


          sqlb_rep_61880_9_v3.fill_table(:ym1,:ym2);
        end;
    ]]></procedure>
      <print-templates>
        <excel>
          <template name="61880_9.xlsx" title="Форма 46-ЭЭ (полезный отпуск)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_9_v3_IA" as="r1a" />
        <query name="61880_9_v3_IB" as="r1b" />
        <query name="61880_9_v3_IV_nas" as="r1v_n" />
        <query name="61880_9_v3_IV_nas_pr" as="r1v_np" />
        <query name="61880_9_v3_IIA" as="r2a" />
        <query name="61880_9_v3_IIB" as="r2b" />
        <query name="61880_9_v3_ats" as="ats">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_9_v3_4R" as="r4">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_9_v3_info" as="info">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_9_v3_batch" title="4.6.2.3.2.2. Форма N 46-ЭЭ (полезный отпуск; версия 3.2)" folder="f46" nogrid="1" form="61880_9_v3_batch" timestamp="09.12.2024 14:38:58" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <customers>
        <customer id="29" />
      </customers>
      <!--form="61880_9_v3"-->
      <params>
        <param name="p_dep" type="array" />
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="kod_adr_m" type="array" />
      </params>
      <procedure><![CDATA[
        begin
          delete vr_number_array;
          for rec in (select * from kr_org where kodp in :p_dep)
          loop
            insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
          end loop;
 INSERT INTO vr_number_array (array_id,val) 
 SELECT 'kod_adr_m', kod_m	
 FROM adr_m 	
 WHERE 1=0 {OR kod_m in :kod_adr_m};


          sqlb_rep_61880_9_v3.fill_table(:ym1,:ym2);
        end;
    ]]></procedure>
      <print-templates>
        <excel>
          <template name="61880_9.xlsx" title="Форма 46-ЭЭ (полезный отпуск)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880_9_v3_IA" as="r1a" />
        <query name="61880_9_v3_IB" as="r1b" />
        <query name="61880_9_v3_IV_nas" as="r1v_n" />
        <query name="61880_9_v3_IV_nas_pr" as="r1v_np" />
        <query name="61880_9_v3_IIA" as="r2a" />
        <query name="61880_9_v3_IIB" as="r2b" />
        <query name="61880_9_v3_ats" as="ats">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_9_v3_4R" as="r4">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
        <query name="61880_9_v3_info" as="info">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64224" nogrid="1" title="Ведомость показаний с ТУ" form="form_64224" timestamp="26.06.2023 15:52:03" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml">
      <params>
        <param name="p_dep" />
        <param name="p_ym" />
        <param name="pkod_dog" />
      </params>
      <print-templates>
        <excel>
          <template name="64224.xlsx" print-proc="2" title="Ведомость показаний с ТУ" print-xlsx="1" />
          <template name="64224_2.xlsx" print-proc="2" title="Ведомость показаний с ТУ с учетом мощности" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure><![CDATA[begin

 delete vr_number_array;

INSERT INTO vr_number_array (array_id, val)
SELECT	'pkod_dog',     a.kod_dog
  FROM 	kr_dogovor a	
WHERE 	a.kod_dog IN /*nvlu*/ :pkod_dog;

  sqlb_rep_ies.fill_table_64224(:p_ym,:p_dep);

end;
]]></procedure>
      <queries>
        <query name="64224main_1" as="main">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym" />
            <useparam name="pkod_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64263" timestamp="24.08.2022 13:19:29" form="64263_form" nogrid="1" title="Реализация" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64263.xml">
      <params>
        <param name="p_ym" />
      </params>
      <procedure />
      <queries>
        <query name="64263-data_1" as="r1" />
      </queries>
    </report>
    <report name="64455_1" form="64455_1" nogrid="1" title="Полезный отпуск" timestamp="16.12.2024 11:12:41" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1.xml">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param name="dep" type="number" />
        <param name="p_ym" type="number" />
        <param name="p_kodp_pwrcompany" type="array" />
        <param name="p_kod_dog" type="number" />
      </params>
      <procedure><![CDATA[DECLARE
  p_kod_dog     kr_dogovor.kod_dog%type;
  p_dep         kr_dogovor.dep%type;
  p_ym          nv_account_sost.ym%type;
  s_data_id     rr_temp.skod%type;
BEGIN
  p_dep        := :dep;
  p_ym         := :p_ym;
  p_kod_dog    := :p_kod_dog;
  s_data_id    := '{7D212244-454A-4FF2-8D40-0A4C2FED9A2E}';
  --
  DELETE FROM rr_temp WHERE skod = s_data_id;
  -- 1. Приёмки за энергию (кВт-ч)
  INSERT INTO rr_temp (skod, rn, n1, n2, n3, n4, n5, n6, n7, n10 /* is_2rate */, n11, s1, n12 /* object_kodd */,
                       n13, n14, n15, n16, s2, n18 /* kod_pointmain */,
                       s4, s5, n19, n20, n21, n22, n23, n24, n25, n26, n27, n28 /* kod_polbalans */, n29, n31 /* num_obj */, s6 /*src_dat_name - источник показаний (наименование)*/) 
    SELECT s_data_id, ROW_NUMBER () OVER (PARTITION BY ac.kod_numobj, ac.voltage ORDER BY pr.nomer NULLS LAST, ac.kod_account) as rn,
           ac.kod_dog, ac.kod_account, ac.rym, ac.kod_numobj, ac.voltage, ac.kodinterval, ac.cust as energy, ac.is_2rate,
           no.kod_obj, no.name AS object_name, ob.kodd AS object_kodd,
           pr.kod_priem, pr.kod_point, pr.tpoint, pr.nomer AS point_nomer, pr.name AS point_name, 
	   NVL(pr.kod_pointmain_transit, pr.kod_pointmain) AS kod_pointmain,
           CASE WHEN pu.kod_tippu IS NOT NULL THEN hg_pasp_pu_r.name_pu(pu.kod_tippu, 2) ELSE '' END AS type_pu,
           pr.nom_pu, pr.readlast, pr.readprev, pr.outcounter, pr.outadd, pr.out, pr.rkoeff, 
	   pr.razr, pr.razr2, pr.kod_point_har, pr.kod_polbalans, 0 as power,
	   no.num_obj, ng_report.get_src_dat_name(pr.kod_priem)
    FROM   (SELECT a.kod_dog, a.kod_account, a.ym, a.rym, a.kod_numobj, a.kod_account_priem, a.voltage, a.kodinterval, a.cust, a.price, a.money, a.vid_t,
                   kg_tarif.is_2rate(kg_tarif.subtarif_voltage(a.tarif, a.voltage, a.dat_priem - 1E-5), a.dat_priem - 1E-5) as is_2rate
            FROM   kr_dogovor d JOIN nv_account_sost a ON d.kod_dog = a.kod_dog
                                JOIN hr_reglament_pp p ON p.kod_reglament = a.kod_reglament
                                JOIN hr_calc_variant v ON v.kod_variant = p.kod_variant
            WHERE d.dep = p_dep
              AND (p_kod_dog IS NULL OR d.kod_dog = p_kod_dog)
              AND a.ym = p_ym
              AND v.kod_typevariant = 1
              AND v.pr_notransit = 1
              AND a.price is not null
              AND a.vid_t != -222
              AND a.tip_tarif_sost = 2
	    ) ac 
	 JOIN kr_numobj no ON no.kod_numobj = ac.kod_numobj
         JOIN kr_object ob ON ob.kod_obj = no.kod_obj
         LEFT OUTER JOIN nr_account_priem ac_pr ON ac_pr.kod_account_priem = ac.kod_account_priem
         LEFT OUTER JOIN nv_priem pr ON pr.kod_priem = ac_pr.kod_priem
         LEFT OUTER JOIN hr_point_pu pu ON pu.kod_point_pu = pr.kod_point_pu;

  -- 2. Приёмки за энергию (кВт в n29)
  FOR cur IN (SELECT a.kod_dog, a.kod_account, a.rym, a.kod_numobj, a.kod_account_priem, a.voltage, a.kodinterval, a.cust, a.price, a.money, a.vid_t,
                     kg_tarif.is_2rate(kg_tarif.subtarif_voltage(a.tarif, a.voltage, a.dat_priem - 1E-5), a.dat_priem - 1E-5) as is_2rate,
                     no.kod_obj, no.name AS object_name, ob.kodd AS object_kodd
              FROM   kr_dogovor d JOIN nv_account_sost a ON d.kod_dog = a.kod_dog
                                  JOIN hr_reglament_pp p ON p.kod_reglament = a.kod_reglament
                                  JOIN hr_calc_variant v ON v.kod_variant = p.kod_variant
                                  JOIN kr_numobj no ON no.kod_numobj = a.kod_numobj
                                  JOIN kr_object ob ON ob.kod_obj = no.kod_obj
            WHERE d.dep = p_dep
              AND (p_kod_dog IS NULL OR d.kod_dog = p_kod_dog)
              AND a.ym = p_ym
              AND v.kod_typevariant = 1
              AND v.pr_notransit = 1
              AND a.price is not null
              AND a.vid_t = -222) LOOP
    UPDATE rr_temp
    SET    n29 = n29 + NVL(cur.cust, 0)
    WHERE  skod = s_data_id AND n4 = cur.kod_numobj AND rn = 1 AND n5 = cur.voltage;
    IF SQL%ROWCOUNT = 0 THEN
      INSERT INTO rr_temp (skod, rn, n1, n2, n3, n4, n5, n6, n7, n10 /* is_2rate */, n11, s1, n12 /* object_kodd */,
                           n13, n14, n15, n16, s2, n18 /* kod_pointmain */,
                           s4, s5, n19, n20, n21, n22, n23, n24, n25, n26, n27, n28 /* kod_polbalans */, n29) 
        VALUES (s_data_id, 1,
                cur.kod_dog, cur.kod_account, cur.rym, cur.kod_numobj, cur.voltage, cur.kodinterval, NULL /* energy */, cur.is_2rate,
                cur.kod_obj, cur.object_name, cur.object_kodd,
                NULL /* kod_priem */, NULL /* kod_point */, NULL /* tpoint */, NULL /* point_nomer */, '' /* point_name */, NULL /* kod_pointmain */,
                '' /* type_pu */, '' /* nom_pu */, NULL /* readlast */, NULL /* readprev */, NULL /* outcounter */, NULL /* outadd */, NULL /* out */, NULL /* rkoeff */, NULL /* razr */, NULL /* razr2 */, NULL /* kod_point_har */, NULL /* kod_polbalans */, cur.cust);
    END IF;
  END LOOP;

  -- 3. Проставляем kod_attpoint (в n30)
  UPDATE rr_temp
  SET    n30 = CASE WHEN n14 IS NOT NULL THEN (SELECT pt.kod_attpoint FROM hr_point pt WHERE pt.kod_point = n14)
                    ELSE (SELECT MAX(att.kod_attpoint) AS kod_attpoint FROM hr_nugruzpotreb nug JOIN hr_attpoint att ON att.kodnagruzpotreb = nug.kodnagruzpotreb WHERE nug.kod_obj = n11) END
  WHERE  skod = s_data_id AND n14 IS NOT NULL;

  -- 4. Внешний транзит
  INSERT INTO rr_temp (skod, rn, n1, n2, n3, n4, n5, n6, n7, n10 /* is_2rate */, n11, s1, n12 /* object_kodd */,
                       n13, n14, n15, n16, s2, n18 /* kod_pointmain */,
                       s4, s5, n19, n20, n21, n22, n23, n24, n25, n26, n27, n28 /* kod_polbalans */, n29, n30, n31 /* num_obj */, s6 /*src_dat_name - источник показаний (наименование)*/)
    SELECT s_data_id, ROW_NUMBER() OVER (PARTITION BY pr.kod_numobj ORDER BY pr.nomer NULLS LAST, pr.kod_priem) as rn,
           pr.kod_dog, NULL AS kod_account, NULL AS rym,
           no.kod_numobj, pr.voltage, 24 AS kodinterval, NULL AS energy,
           (SELECT NVL(MAX(t.n10),0) as is_2rate
              FROM   rr_temp t
             WHERE  t.skod = s_data_id AND t.n15 /*tpoint*/ != 3 AND t.n14 = pr.kod_pointmain) AS is_2rate,
           no.kod_obj, no.name AS object_name, ob.kodd AS object_kodd,
           pr.kod_priem, pr.kod_point, pr.tpoint, pr.nomer AS point_nomer, pr.name AS point_name, pr.kod_pointmain,
           CASE WHEN pu.kod_tippu IS NOT NULL THEN hg_pasp_pu_r.name_pu(pu.kod_tippu, 2) ELSE '' END AS type_pu,
           pr.nom_pu, pr.readlast, pr.readprev, pr.outcounter, pr.outadd, -pr.out, pr.rkoeff, 
	       pr.razr, pr.razr2, pr.kod_point_har, pr.kod_polbalans, 0 as power,
           pt.kod_attpoint,
		   no.num_obj,
	       ng_report.get_src_dat_name(pr.kod_priem)
    FROM   kr_dogovor d JOIN nv_priem pr ON pr.kod_dog = d.kod_dog
                        JOIN hr_point pt ON pt.kod_point = pr.kod_point
                        JOIN kr_numobj no ON no.kod_numobj = pr.kod_numobj
                        JOIN kr_object ob ON ob.kod_obj = no.kod_obj
                        LEFT OUTER JOIN hr_point_pu pu ON pu.kod_point_pu = pr.kod_point_pu
    WHERE  pr.tpoint = 3
       AND d.dep = p_dep
       AND (p_kod_dog IS NULL OR d.kod_dog = p_kod_dog)
       AND pr.kod_pointmain IN (SELECT t.n14 as kod_point FROM rr_temp t WHERE t.skod = s_data_id AND t.n15 /*tpoint*/ != 3)
       AND pr.ym = p_ym;
END;]]></procedure>
      <print-templates>
        <excel>
          <template name="64455_1.xml" print-proc="2" title="Полезный отпуск" />
        </excel>
      </print-templates>
      <queries>
        <query name="64455_1" as="data">
          <withparams>
            <useparam name="p_ym" />
            <useparam name="p_kodp_pwrcompany" />
          </withparams>
        </query>
        <query name="64455_1_params" as="params">
          <withparams>
            <useparam name="dep" />
            <useparam name="p_ym" />
            <useparam name="p_kodp_pwrcompany" />
            <useparam name="p_kod_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64455_1_total" form="64455_1_total" nogrid="1" title="Сводная ведомость по передаче электроэнергии и мощности для клиентов заказчика" auto-merge="1" timestamp="03.12.2024 22:56:39" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param name="p_dep" type="number" />
        <param name="p_ym" type="number" />
        <param name="p_tarif_type" type="number" />
        <param name="p_kodp_pwrcompany" type="array" />
        <param name="p_kod_dog" type="array" />
        <param name="p_hide_dog" type="number" />
      </params>
      <print-templates>
        <excel>
          <template name="64455_1_total.xml" print-proc="2" title="Сводная ведомость по передаче электроэнергии и мощности для клиентов заказчика" />
        </excel>
      </print-templates>
      <procedure><![CDATA[        DECLARE
          p_dep         kr_dogovor.dep%type;
          p_ym          nv_account_sost.ym%type;
          p_tarif_type  NUMBER(1, 0);
          s_data_id     rr_temp.skod%type;
        BEGIN
          p_dep        := :p_dep;
          p_ym         := :p_ym;
          p_tarif_type := :p_tarif_type;
          s_data_id    := '{D250859F-7466-4FAE-9EB6-78FD1AA8728F}';
          --
          DELETE FROM rr_temp WHERE skod = s_data_id;
          INSERT INTO rr_temp (skod, n1, n2, n3, s1, n4, n5, n14, n6, n7, n8, n9, n10, n11, n12, n13)
            SELECT s_data_id, NVL(v.kodp_pwrcompany, -10), v.kodp, v.kod_dog, v.ndog, v.tarif_group,
                   NVL(SUM(v.cust), 0) as cust,
				   NVL(SUM(v.cust_7), 0) as cust_7,  -- n14 (ГН-СН2)
                   NVL(SUM(v.cust_6), 0) as cust_6,
                   NVL(SUM(v.cust_3), 0) as cust_3,
                   NVL(SUM(v.cust_4), 0) as cust_4,
                   NVL(SUM(v.cust_2), 0) as cust_2,
                   NVL(SUM(v.cust_1), 0) as cust_1,
                   NVL(SUM(v.money), 0) as money,
                   NVL(SUM(v.nds), 0) as nds,
                   NVL(SUM(v.money_with_nds), 0) as money_with_nds
            FROM  (SELECT d.kod_dog, d.kodp, d.ndog,
                          CASE WHEN a.vid_t = -222 THEN 1
                               ELSE kg_tarif.is_2rate(kg_tarif.subtarif_voltage(a.tarif, a.voltage, a.dat_priem - 1E-5), a.dat_priem - 1E-5) END as is_2rate,
                          CASE WHEN a.vid_t = -222 THEN 3
		    ELSE CASE WHEN Decode(nvl(a.tarif_group,0), 0, 0, kg_tarif.f_byt_cached(a.tarif_group)) <> 0 THEN 4 -- население
		    ELSE CASE WHEN kg_tarif.is_2rate(kg_tarif.subtarif_voltage(a.tarif, a.voltage, a.dat_priem - 1E-5), a.dat_priem - 1E-5) = 1 THEN 2
                                     ELSE 1 END
		 END 		   
	        END  as tarif_group,
                          CASE WHEN pr.kod_point IS NOT NULL
                               THEN (SELECT attp.kodp_pwrcompany
                                     FROM   hr_point pt JOIN hr_attpoint attp ON attp.kod_attpoint = pt.kod_attpoint
                                     WHERE  pt.kod_point = pr.kod_point)
                               ELSE (SELECT MAX(attp.kodp_pwrcompany)
                                     FROM   kr_numobj no JOIN hr_nugruzpotreb nug ON nug.kod_obj = no.kod_obj
                                                         JOIN hr_attpoint attp ON attp.kodnagruzpotreb = nug.kodnagruzpotreb
                                     WHERE  no.kod_numobj = a.kod_numobj) END as kodp_pwrcompany,
                          a.cust,
						  CASE WHEN a.voltage = 7 THEN a.cust ELSE NULL END as cust_7,
                          CASE WHEN a.voltage = 6 THEN a.cust ELSE NULL END as cust_6,
                          CASE WHEN a.voltage = 3 THEN a.cust ELSE NULL END as cust_3,
                          CASE WHEN a.voltage = 4 THEN a.cust ELSE NULL END as cust_4,
                          CASE WHEN a.voltage = 2 THEN a.cust ELSE NULL END as cust_2,
                          CASE WHEN a.voltage = 1 THEN a.cust ELSE NULL END as cust_1,
                          a.money,
                          ROUND(a.money * 0.20, 2) as nds,
                          ROUND(a.money * 1.20, 2) as money_with_nds
                   FROM   kr_dogovor d JOIN nv_account_sost a ON a.kod_dog = d.kod_dog
                                       JOIN hr_reglament_pp p ON p.kod_reglament = a.kod_reglament
                                       JOIN hr_calc_variant v ON v.kod_variant = p.kod_variant
                                       LEFT OUTER JOIN nr_account_priem ac_pr ON ac_pr.kod_account_priem = a.kod_account_priem
                                       LEFT OUTER JOIN nv_priem pr ON pr.kod_priem = ac_pr.kod_priem
                   WHERE  d.dep = p_dep { AND d.kod_dog IN :p_kod_dog }
                      AND a.ym = p_ym
                      AND v.kod_typevariant = 1
                      AND v.pr_notransit = 1
                      AND a.price IS NOT NULL
                      AND (a.tip_tarif_sost = 2 OR a.vid_t = -222)) v
            WHERE  (p_tarif_type = 0 OR v.is_2rate = p_tarif_type - 1) { AND v.kodp_pwrcompany IN :p_kodp_pwrcompany }
            GROUP BY v.kodp_pwrcompany, v.kodp, v.kod_dog, v.ndog, v.tarif_group;
        END;]]></procedure>
      <queries>
        <query name="64455_1_total_grandtotal" as="gt" />
        <query name="64455_1_total_grandtotal_by_tarif" as="gt_tarif" />
        <query name="64455_1_total_total_by_tco" as="t_tco">
          <query name="64455_1_total_total_by_tco_tarif" as="t_tco_tarif">
            <call function="=">
              <column table="t_tco_tarif" column="kodp_pwrcompany" />
              <column table="t_tco" column="kodp_pwrcompany" />
            </call>
          </query>
          <query name="64455_1_total_total_by_tco_dog" as="t_tco_dog">
            <call function="and">
              <call function="!=" optional="1">
                <useparam name="p_hide_dog" />
                <const>1</const>
              </call>
              <call function="=">
                <column table="t_tco_dog" column="kodp_pwrcompany" />
                <column table="t_tco" column="kodp_pwrcompany" />
              </call>
            </call>
            <query name="64455_1_total" as="data">
              <call function="and">
                <call function="=">
                  <column table="data" column="kodp_pwrcompany" />
                  <column table="t_tco_dog" column="kodp_pwrcompany" />
                </call>
                <call function="=">
                  <column table="data" column="kod_dog" />
                  <column table="t_tco_dog" column="kod_dog" />
                </call>
              </call>
            </query>
          </query>
        </query>
        <query name="64455_1_total_params" as="params">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym" />
            <useparam name="p_tarif_type" />
            <useparam name="p_kodp_pwrcompany" />
            <useparam name="p_kod_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64483_1" form="form_64483_1" nogrid="1" is-report="1" title="Перечень точек поставки ТСО" timestamp="16.05.2024 13:21:48" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64483_1.xml">
      <params>
        <param name="p_date" />
        <param name="tso1" />
        <param name="tso2" />
        <param type="number" name="kod_emp" />
      </params>
      <print-templates>
        <excel>
          <template name="64483_1.xlsx" print-proc="2" print-xlsx="1" title="Перечень точек поставки ТСО" />
        </excel>
      </print-templates>
      <queries>
        <query name="main64483_1" as="main" />
        <query name="query_fio" as="sign">
          <withparams>
            <call name="kod_emp" function="nvl">
              <useparam name="kod_emp" />
              <const>-1</const>
            </call>
          </withparams>
        </query>
      </queries>
      <procedure>
        <text>
declare     
    NO_SELECT EXCEPTION;
    t number := 0;
    t1 number := 0; 

begin
 
     delete vr_number_array;
 
  
  
   insert into vr_number_array (array_id,val) 
    select 'tso1', kodp
    from kr_org where 0=1 {or kodp in :tso1};
     

    select COUNT(array_id) into t from vr_number_array;
   
insert into vr_number_array (array_id,val)

    select 'tso2', kodp
   from kr_org where 0=1 {or kodp in :tso2};
 
        

select COUNT(array_id) into t1 from vr_number_array;
   
  

if (t = 0 AND t1 = 0)
THEN
    RAISE_APPLICATION_ERROR (-20001,'Выберите параметр отчета "ТСО для услуги" или "ТСО для потерь".');
 
else
     sqlb_rep_ies.fill_table_64883_1(:p_date);
end if; 

end;
      </text>
      </procedure>
    </report>
    <report name="64649" nogrid="1" form="64649" title="4.6.2.3.2.5. Макет 4.27 Сведения об энергосбытовых организациях-субъектах розничных рынков электрической энергии (10151)" timestamp="06.12.2022 15:43:06" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64649.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" comment="Отчётный период" />
      </params>
      <print-templates>
        <excel>
          <template name="64649.xlsx" print-proc="2" print-xlsx="1" title="Макет 4.27" />
        </excel>
      </print-templates>
      <queries>
        <query name="64649_data" as="res">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
          </withparams>
        </query>
        <query name="61880-17-v3-title" as="pars">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
          </withparams>
        </query>
        <query name="kr_employee_info_short" as="add_info">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64650" title="4.6.2.3.2.6.2. Форма 1. Цены производителей (в разрезе мощности для промышленных предприятий)" nogrid="1" form="64650" timestamp="19.09.2023 15:48:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64650.xml">
      <params>
        <param name="p_dep" />
        <param name="p_ym" />
      </params>
      <print-templates>
        <excel>
          <template name="64650.xlsx" print-proc="2" print-xlsx="1" title="4.6.2.3.2.6. Форма 1. Цены производителей" />
        </excel>
      </print-templates>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_64650.fill_table_gr_power_prom_org(:p_ym,:p_dep);
end;
      </text>
      </procedure>
      <queries>
        <query name="sqlb_rep_64650_tbl" as="a" />
        <query name="title_ym_dep_addr_info" as="info" join="cross">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64650_2" form="64650_2" title="4.6.2.3.2.6.1.  Форма 1. Цены производителей" nogrid="1" timestamp="22.09.2023 14:54:58" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64650.xml">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param name="p_dep" type="array" mode="store" />
        <param name="p_ym" type="number" />
        <param name="p_kod_adr_m" type="array" mode="store" />
        <param name="p_vdoc" type="array" mode="store" />
        <param name="p_volt" type="array" mode="store" />
        <param name="p_ck" type="array" mode="store" />
        <param name="p_mvt" type="array" mode="store" />
      </params>
      <print-templates>
        <excel>
          <template name="64650_2.xlsx" print-proc="2" print-xlsx="1" title="4.6.2.3.2.6. Форма 1. Цены производителей" />
        </excel>
      </print-templates>
      <procedure><![CDATA[
begin

 
/*   

    delete vr_number_array;


  


 INSERT INTO vr_number_array (array_id,val)
	
	

SELECT  'p_dep', kodp 
	FROM kr_org 
	WHERE kodp in :p_dep;


 
 


 INSERT INTO vr_number_array (array_id,val) 
	
	
SELECT 'p_kod_adr_m', kod_m
	FROM adr_m 
	WHERE 1=0 {And kod_m in :p_kod_adr_m};


 
 

 INSERT INTO vr_number_array (array_id,val) 
	
	
SELECT 'p_vdoc', kod_vdoc
	FROM ks_vdoc 
	WHERE 1=0 {And kod_vdoc in :p_vdoc};
       

INSERT INTO vr_number_array (array_id,val) 
	
	
	SELECT 'p_volt', voltage
	FROM hk_voltage 
	WHERE 1=0 {And voltage in :p_volt};
   */
     
 

 
 sqlb_rep_64650.fill_table_section1 (:p_ym);

end;
   ]]></procedure>
      <queries>
        <query name="sqlb_rep_64650_tbl" as="a" />
        <query name="title_ym_dep_addr_info" as="info" join="cross">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym" />
            <useparam name="p_ym" />
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64651" title="4.6.2.3.5.13. БДР" nogrid="1" timestamp="28.02.2024 15:21:57" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml" form="empty">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param type="number" name="p_year" />
        <param type="array" name="p_dep" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_64651.fill_table(:p_year);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="64651_v2.xml" print-proc="2" title="Отчет БДР" />
        </excel>
      </print-templates>
      <queries>
        <query name="64651 total" as="a" />
        <query name="64651 vgo" as="b" />
      </queries>
    </report>
    <report name="64651_v2" title="4.6.2.3.5.13. БДР (v.2)" nogrid="1" form="64651" timestamp="15.06.2025 15:32:46" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param type="number" name="p_year" />
        <param type="array" name="p_dep" />
      </params>
      <procedure><![CDATA[begin
    delete vr_number_array;
    for rec in (select kodp from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_64651.fill_v2_table(:p_year);
end;
]]></procedure>
      <print-templates>
        <excel>
          <template name="64651_v2_1.xlsx" print-proc="2" title="Отчет БДР" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="64651_total_v2" as="a" />
        <query name="64651_vgo_v2" as="b" />
        <query name="title_info" as="t">
          <withparams>
            <const>NULL</const>
            <const>NULL</const>
            <useparam name="p_dep" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64809" form="64809" nogrid="1" title="Сводный макет" timestamp="11.03.2025 17:32:39" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64809.xml">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param name="p_ym_beg" type="number" />
        <param name="p_ym_end" type="number" />
        <param name="p_kod_dog" type="array" />
        <param name="p_region" type="array" />
        <param name="p_dep" type="array" />
      </params>
      <procedure><![CDATA[
	begin
	    DELETE FROM vr_number_array;
		DELETE FROM vr_array_storage;
	   	
		INSERT INTO vr_number_array (array_id, val)
		SELECT
			'64809_param_kod_dog',
			a.kod_dog
		FROM kr_dogovor a
		WHERE a.kod_dog IN /*nvlu*/ :p_kod_dog;

		INSERT INTO vr_number_array (array_id, val)
		SELECT
			'64809_param_kodp',
			a.kodp
		FROM kr_org a
		WHERE a.kodp IN /*nvlu*/ :p_dep;
		
		INSERT INTO vr_array_storage(array_id, sval)
		SELECT '64809_param_region'
		      , name_p
		FROM adr_m
        WHERE kod_m IN :p_region;
	 	
	INSERT INTO vr_number_array (array_id, val)	
	SELECT '64809_param_region_id', kod_m	
	FROM adr_m        
	WHERE kod_m IN :p_region;	

	sqlb_rep_64809.fill_table(:p_ym_beg, :p_ym_end);
end;
]]></procedure>
      <print-templates>
        <excel>
          <template name="64809.xlsx" title="Сводный макет" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="64809" as="a" />
        <query name="title_info" as="t" />
      </queries>
    </report>
    <report name="64879" nogrid="1" form="64879" title="Отчет О выручке и затратах" timestamp="03.10.2023 12:44:14" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym" />
        <param type="number" name="is_detail" />
      </params>
      <customers>
        <customer id="29" />
      </customers>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_64879.fill_table(:p_ym, :is_detail);
end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="64879.xlsx" print-proc="2" print-xlsx="1" title="Отчет О выручке и затратах" />
        </excel>
      </print-templates>
      <queries>
        <query name="64879-itog-all_vidacc" as="iav" />
        <query name="64879-dog" as="d" />
      </queries>
    </report>
    <report name="64879_v2" nogrid="1" form="64879_v2" title="Отчет О выручке и затратах" timestamp="19.04.2025 12:01:21" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym" />
        <param type="number" name="is_flag" />
      </params>
      <customers>
        <customer id="29" />
      </customers>
      <procedure><![CDATA[begin
    delete vr_number_array;
    insert into vr_number_array (array_id,val) SELECT 'p_dep', kodp from kr_org where 1=0 { OR kodp in :p_dep};
    sqlb_rep_64879.fill_table_v2(:p_ym, /*nvlu*/ :is_flag);
end;
]]></procedure>
      <print-templates>
        <excel>
          <template name="64879_v2.xlsx" print-proc="2" print-xlsx="1" title="Отчет О выручке и затратах" />
        </excel>
      </print-templates>
      <queries>
        <query name="64879_v2_data" as="d" />
        <query name="title_info" as="t">
          <withparams>
            <useparam name="p_ym" />
            <const>NULL</const>
            <useparam name="p_dep" />
            <const>NULL</const>
            <useparam name="is_flag" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64883_2" nogrid="1" form="64883_2" title="Аналитический отчет по клиенту" timestamp="17.04.2023 17:18:43" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64883_2.xml">
      <params>
        <param type="number" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
        <param name="p_client" type="array" />
        <param name="pkod_dog" type="array" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    
    for rec in (select * from kr_org where kodp in :p_client)
    loop
      insert into vr_number_array (array_id,val) values ('p_client',rec.kodp);
    end loop;
    
    for rec in( select kod_Dog from kr_dogovor where kod_dog in :pkod_dog )
    loop
        insert into vr_number_array (array_id,val) values ('pkod_dog',rec.kod_dog);
    end loop;
    sqlb_rep_64883.fill_table(:p_ym_beg,:p_ym_end);
end;   </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="64883_2.xlsx" print-proc="2" print-xlsx="1" title="Аналитический отчет по клиенту" />
        </excel>
      </print-templates>
      <customers>
        <customer id="29" />
      </customers>
      <queries>
        <query name="64883_2" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_client" />
            <useparam name="pkod_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="64949" title="Оборот (по договору/ИНН)" folder="dolg" autobands="1" form="64949" nogrid="1" timestamp="13.12.2022 03:32:47" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml">
      <print-templates>
        <excel>
          <template name="64949.xlsx" title="Оборот по договору ИНН" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param name="dep" />
        <param name="p_ym_beg" />
        <param name="p_ym_end" />
        <param name="kod_dog" />
        <param name="p_inn" />
      </params>
      <procedure>
        <text>BEGIN
    DELETE vr_number_array;

    FOR rec IN (SELECT kod_dog
                  FROM kr_dogovor
                 WHERE kod_dog IN :kod_dog)
    LOOP
        INSERT INTO vr_number_array (array_id, val)
             VALUES ('kod_dog', rec.kod_dog);
    END LOOP;

    -- +0 костыль чтобы можно было передавать пустые, возможно есть специальный флаг для этого, но не нашел его
    sqlb_rep_64949.fill_table ( nullif(:p_ym_beg+0,0), nullif(:p_ym_end+0,0));
    sqlb_rep_64949.fill_table_info (:p_inn);
    sqlb_rep_64949.fill_table_dog (:p_inn);
END; </text>
      </procedure>
      <queries>
        <query name="64949" as="a" />
        <query name="64949-info" as="info" />
        <query name="64949-dog" as="dog" />
      </queries>
    </report>
    <report name="65015" form="65015" nogrid="1" title="Акт оказания услуг по передаче" timestamp="07.02.2024 14:35:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65015.xml">
      <customers>
        <customer id="29" />
      </customers>
      <params>
        <param name="dep" type="number" />
        <param name="p_ym" type="number" />
        <param name="p_kod_m" type="array" />
        <param name="p_kodp_pwrcompany" type="array" />
      </params>
      <procedure><![CDATA[DECLARE
  p_dep       kr_dogovor.dep%type;
  p_ym        nv_account_sost.ym%type;
  s_data_id   rr_temp.skod%type;
  d_last_day  DATE;
  n_tax       ss_nalog_tax.tax%type;
BEGIN
  p_dep  := :dep; -- 20488 Оренбургский филиал
  p_ym   := :p_ym;
  s_data_id := '{AB388431-86BA-4862-BEFC-EEDB550FBAA2}';
  --
  d_last_day := kg.ym_last_day(p_ym);
  SELECT tax
  INTO   n_tax
  FROM   ss_nalog_tax
  WHERE  kod_nal = 1
     AND kod_naltype = 1
     AND dat_beg <= d_last_day
     AND (dat_end IS NULL OR dat_end >= d_last_day);
  --
  DELETE FROM rr_temp WHERE skod = s_data_id;
  INSERT INTO rr_temp (skod, n1 /* kod_region */, n2 /* tarif_group */, n3 /* voltage */, n4 /* edizm */,
                       n5 /* cust */, n6 /* price */, n7 /* money */, n8 /* nds */)
    SELECT s_data_id, v.kod_region, v.tarif_group, v.voltage, v.edizm,
           SUM(v.cust) as cust, v.price, SUM(v.money) as money,
           ROUND(SUM(v.money) * n_tax / 100, 2) as nds
    FROM  (SELECT nk_adress.kf_get_sf(CASE WHEN ob.kodd IS NULL OR ob.kodd = -1 THEN d.kod_d_dog ELSE ob.kodd END) as kod_region,
                  CASE WHEN pr.kod_point IS NOT NULL THEN (SELECT pt.kod_attpoint FROM hr_point pt WHERE pt.kod_point = pr.kod_point)
                                                     ELSE (SELECT MAX(att.kod_attpoint) AS kod_attpoint FROM hr_nugruzpotreb nug JOIN hr_attpoint att ON att.kodnagruzpotreb = nug.kodnagruzpotreb WHERE nug.kod_obj = ob.kod_obj) END as kod_attpoint,
                  a.voltage, n.edizm,
                  CASE WHEN a.vid_t = -222 THEN 3
		       WHEN kg_tarif.f_byt_cached(a.tarif_group) = 1 THEN 4
	               ELSE CASE  WHEN kg_tarif.is_2rate(a.tarif, a.dat_priem-1e-5) = 1 THEN 2  ELSE 1 END 
                       END as tarif_group,
                  a.cust, a.price, a.money
           FROM   kr_dogovor d JOIN nv_account_sost a ON a.kod_dog = d.kod_dog
                               JOIN sk_nachisl n ON n.vid_t = a.vid_t
                               JOIN hr_reglament_pp r ON r.kod_reglament = a.kod_reglament
                               JOIN hr_calc_variant v ON v.kod_variant = r.kod_variant -- AND v.kod_dog = a.kod_dog
                               LEFT OUTER JOIN kr_numobj no ON no.kod_numobj = a.kod_numobj
                               LEFT OUTER JOIN kr_object ob ON ob.kod_obj = no.kod_obj
                               LEFT OUTER JOIN nr_account_priem ac_pr ON ac_pr.kod_account_priem = a.kod_account_priem
                               LEFT OUTER JOIN nv_priem pr ON pr.kod_priem = ac_pr.kod_priem
           WHERE  d.dep = p_dep
              AND a.ym = p_ym
              AND a.tip_tarif_sost = 2
              AND v.pr_notransit = 1
              AND v.kod_typevariant = 1 /* покупка */
              AND a.price IS NOT NULL
        ) v LEFT OUTER JOIN hr_attpoint att ON att.kod_attpoint = v.kod_attpoint
    WHERE  1=1
      { AND v.kod_region IN :p_kod_m }
      { AND att.kodp_pwrcompany IN :p_kodp_pwrcompany }
    GROUP BY v.kod_region, v.tarif_group, v.voltage, v.edizm, v.price;

    -- Добавляем недостающие виды напряжений с нулевыми данными
    FOR cur_v IN (SELECT voltage FROM hk_voltage WHERE voltage > 0) LOOP
      INSERT INTO rr_temp (skod, n1 /* kod_region */, n2 /* tarif_group */, n3 /* voltage */, n4 /* edizm */,
                           n5 /* cust */, n6 /* price */, n7 /* money */, n8 /* nds */)
        SELECT s_data_id, n1 AS kod_region, n2 AS tarif_group, cur_v.voltage, n4 AS edizm,
               0 AS cust, 0 AS price, 0 AS money, 0 AS nds
        FROM   rr_temp
        WHERE  skod = s_data_id
        GROUP BY n1, n2, n4
        HAVING COUNT(CASE WHEN n3 = cur_v.voltage THEN 1 ELSE NULL END) = 0;
    END LOOP;
END;]]></procedure>
      <print-templates>
        <excel>
          <template name="65015.xml" print-proc="2" title="Акт оказания услуг по передаче" />
        </excel>
      </print-templates>
      <queries>
        <query name="65015_sub_total" as="st">
          <query name="65015_data" as="data" join="inner">
            <call function="and">
              <call function="=">
                <column table="data" column="kod_region" />
                <column table="st" column="kod_region" />
              </call>
              <call function="=">
                <column table="data" column="tarif_group" />
                <column table="st" column="tarif_group" />
              </call>
              <call function="=">
                <column table="data" column="edizm" />
                <column table="st" column="edizm" />
              </call>
            </call>
          </query>
        </query>
        <query name="65015_grand_total" as="gt" />
        <query name="65015_params" as="params">
          <withparams>
            <useparam name="dep" />
            <useparam name="p_ym" />
            <useparam name="p_kod_m" />
            <useparam name="p_kodp_pwrcompany" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="65116" nogrid="1" form="65116" title="ОСВ Долги (структура ДЗ)" timestamp="26.05.2023 12:58:42" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65116.xml">
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param type="number" name="p_ym_end" />
        <param name="p_date_create" type="date" />
      </params>
      <procedure>
        <text>
begin
    delete vr_number_array;
    for rec in (select * from kr_org where kodp in :p_dep)
    loop
      insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
    end loop;
    sqlb_rep_65116.fill_table(:p_ym_beg,:p_ym_end);
end;
   </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="65116.xlsx" title="ОСВ Долги (структура ДЗ)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <customers>
        <customer id="29" />
      </customers>
      <queries>
        <query name="65116" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="66806" nogrid="1" form="66806" title="Раскрытие информации по полезному отпуску" timestamp="26.12.2023 14:36:06" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\66806.xml">
      <customers>
        <customer id="29" />
      </customers>
      <!-- form ="66806"-->
      <params>
        <param name="p_dep" type="array" />
        <param name="p_ym_beg" type="number" />
        <param name="p_ym_end" type="number" />
        <param name="p_kod_adr_m" type="array" />
      </params>
      <procedure><![CDATA[
        begin
         
       DELETE vr_number_array;
       INSERT INTO vr_number_array (array_id,val) 
	 SELECT 'p_dep',  kodp
	 FROM  kr_org
	 WHERE 1=0 {OR kodp in :p_dep};
   
       INSERT INTO vr_number_array (array_id,val) 
       SELECT 'p_kod_adr_m',  kod_m
	 FROM adr_m 
	 WHERE 1=0 {OR kod_m in :p_kod_adr_m};
      sqlb_rep_66806.fill_table(:p_ym_beg,:p_ym_end);
     end;
    ]]></procedure>
      <print-templates>
        <excel>
          <template name="66806.xml" title="Раскрытие информации по полезному отпуску" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="66806" as="r1" />
        <query name="title_ym_dep_addr_info" as="info">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_ym_end" />
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
      </queries>
    </report>
  </reports>
  <forms child-name="form" key-name="name">
    <form name="form462361" timestamp="14.03.2022 11:52:23" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml">
      <content>
        <field controlType="UICombo" name="p_ym" type="number" timestamp="03.03.2022 23:09:36" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml" title="Период" column-mandatory="1">
          <listquery>
            <query name="sqlb_ym_3years_view" />
          </listquery>
          <defaultquery>
            <query name="ym_3year_max" />
          </defaultquery>
        </field>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="субьект Федерации в зависимости от договоров в отделении" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_subject_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880_1" timestamp="09.03.2022 10:40:43" with-behavior="0" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_1.xml">
      <content>
        <field name="dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="dat" title="Дата" mandatory="1">
          <defaultquery>
            <query name="today" />
          </defaultquery>
        </field>
        <field name="vid_real_deb" controlType="UIList" title="Вид реализации" type="number" timestamp="03.10.2016 23:59:38" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="sk_vid_real_list_main" as="a" />
          </listquery>
          <defaultquery>
            <query name="sk_vid_real_list_main" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="61880_10" timestamp="06.08.2024 09:31:27" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_10.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_ym_end" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="Временно, пока не исправлен пакет отчета для фильтрации по адресам объектов" timestamp="31.07.2023 13:35:52" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_subject_list_dep" />
          </listquery>
        </field>
        <field controlType="UICheck" checked="0" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="no_dog" title="Выводить детализацию по договорам" />
      </content>
    </form>
    <form name="61880_11" timestamp="09.03.2022 10:50:16" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="61880_13" timestamp="17.02.2022 15:52:14" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_11.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_year" controlType="UICombo" title="Год" mandatory="1" type="number" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" show-checkbox="0">
          <listquery>
            <query name="kr_calc_year_list" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_year_max" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="61880_14" timestamp="26.08.2022 11:21:04" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_14.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект РФ" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880_17" timestamp="26.08.2022 11:20:29" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект РФ" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
        <field controlType="UICheck" checked="0" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="no_dog" title="Выводить детализацию по договорам" />
      </content>
    </form>
    <form name="61880_17_new" timestamp="25.08.2022 12:31:32" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект РФ" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880_17_v3" timestamp="14.11.2022 16:12:18" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_17_v3.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект РФ" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880_2" timestamp="09.03.2022 10:46:54" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_ym_end" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="61880_2_int_date" timestamp="07.08.2023 15:35:52" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_int_date.xml">
      <customers>
        <customer id="29" />
      </customers>
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_date_beg" mandatory="1" title="Начало интервала">
          <defaultquery>
            <query name="today" />
          </defaultquery>
        </field>
        <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_date_end" mandatory="1" title="Конец интервала">
          <defaultquery>
            <query name="today" />
          </defaultquery>
        </field>
        <field field="field_ndog_dep" name="pkod_dog" controlType="UIList" title="Договоры" type="number">
          <listquery>
            <query name="ndog_fin_list_dep" />
          </listquery>
          <defaultquery>
            <query name="ndog_fin_list_dep" />
          </defaultquery>
        </field>
        <field controlType="UICheck" checked="0" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="no_dog" title="Выводить детализацию по договорам" />
        <fieldgroup title="Период для сравнения">
          <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_date_beg_2" title="Начало интервала">
            <defaultquery>
              <query name="today" />
            </defaultquery>
          </field>
          <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_date_end_2" title="Конец интервала">
            <defaultquery>
              <query name="today" />
            </defaultquery>
          </field>
        </fieldgroup>
      </content>
    </form>
    <form name="61880_2_on_date" timestamp="30.09.2022 17:59:23" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_2_on_date.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_date" mandatory="1" title="На дату">
          <defaultquery>
            <query name="today" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="61880_3" timestamp="13.09.2023 17:21:53" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_3.xml">
      <content>
        <field type="number" name="p_prizn_activ_dog" controlType="UIList" title="Статус" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kk_active_list" />
          </listquery>
          <defaultquery>
            <query name="kk_active_list_default" />
          </defaultquery>
        </field>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <fieldgroup title="Период">
          <field name="p_ym_beg" controlType="UICombo" type="number" title="с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
            <listquery>
              <query name="kr_calc_list_tek_dep_1" />
            </listquery>
            <defaultquery>
              <query name="kr_calc_max_tek_dep" />
            </defaultquery>
          </field>
          <field name="p_ym_end" controlType="UICombo" type="number" title="по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
            <listquery>
              <query name="kr_calc_list_tek_dep_1" />
            </listquery>
            <defaultquery>
              <query name="kr_calc_max_tek_dep" />
            </defaultquery>
          </field>
        </fieldgroup>
        <field name="p_kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект РФ" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880-9" with-behavior="0" timestamp="26.08.2022 11:15:10" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="ym1" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="ym2" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект РФ" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880-9-NEW" timestamp="10.07.2023 19:05:40" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="ym1" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="ym2" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880_9_v3" timestamp="06.12.2024 16:17:15" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="ym1" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="ym2" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="61880_9_v3_batch" timestamp="09.12.2024 12:44:39" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\61880_9_v3.xml">
      <content>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="ym1" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="ym2" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="kod_adr_m" type="number" controlType="UIList" auto-check="1" title="Субъект Федерации" comment="Субьект РФ по объектам в зависимости от договоров в отделении" timestamp="04.03.2025 16:01:39" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
        <fieldgroup as="batch" title="Пакетная выгрузка">
          <field controlType="UICheck" type="number" title="Суммировать по периодам" name="p_flag_sum" />
          <uicommand name="button_batch_unload_rep" title="Пакетная выгрузка отчета" action-type="custom" type="Ellipsis">
            <useaction name="batch_unload_rep">
              <useparam name="p_dep" type="number" />
              <useparam name="ym1" type="number" />
              <useparam name="ym2" type="number" />
              <useparam name="kod_adr_m" type="number" />
              <useparam name="p_flag_sum" />
            </useaction>
          </uicommand>
        </fieldgroup>
      </content>
    </form>
    <form name="form_64224" timestamp="31.08.2022 14:29:03" title="Ведомость показаний с ТУ" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" show-checkbox="0">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" show-checkbox="0">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="pkod_dog" controlType="UIList" title="Договоры" type="number" timestamp="10.04.2023 10:51:01" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml">
          <listquery>
            <query name="ndog_list_dep" />
          </listquery>
          <defaultquery>
            <query name="ndog_list_dep" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="64263_form" timestamp="24.08.2022 13:26:43" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64263.xml">
      <content>
        <field name="p_ym" controlType="UICombo" type="number" title="Отчетный период" mandatory="1" timestamp="05.06.2023 16:19:40" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="64455_1" timestamp="17.03.2023 12:50:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1.xml">
      <customers>
        <customer id="29" />
      </customers>
      <content>
        <field name="dep" controlType="UICombo" title="Филиал" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Отчетный период" mandatory="1" timestamp="05.06.2023 16:19:40" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek" />
          </defaultquery>
        </field>
        <field name="p_kodp_pwrcompany" type="number" controlType="UIList" val-field-name="kodp_pwrcompany" name-field-name="name" title="ТСО">
          <listquery>
            <query name="64455_1_pwrcompany" />
          </listquery>
        </field>
        <field controlType="UICombo" title="Договор" name="p_kod_dog" type="number" rows-limit="100" timestamp="14.06.2023 14:57:15" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dogovor_list(dep)_A" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="64455_1_total" timestamp="26.06.2024 15:01:23" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64455_1_total.xml">
      <customers>
        <customer id="29" />
      </customers>
      <content>
        <field name="p_dep" controlType="UICombo" title="Филиал" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Отчетный период" mandatory="1" timestamp="05.06.2023 16:19:40" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek" />
          </defaultquery>
        </field>
        <field controlType="UIList" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_kodp_pwrcompany" type="number" title="ТСО для расчета услуги">
          <listquery>
            <query name="64455_1_pwrcompany" />
          </listquery>
        </field>
        <field controlType="UICombo" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_tarif_type" title="Тип тарифа" mandatory="1">
          <defaultquery>
            <query name="zero" />
          </defaultquery>
          <listquery>
            <query name="64455_1_tarif_type" />
          </listquery>
        </field>
        <field controlType="UIList" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_kod_dog" type="number" title="Договоры" name-field-name="payer_name">
          <listquery>
            <query name="64455_1_dogovor_list" />
          </listquery>
        </field>
        <field controlType="UICheck" checked="0" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_hide_dog" title="Без клиентов" />
      </content>
    </form>
    <form name="form_64483_1" timestamp="16.05.2024 13:16:32" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64483_1.xml">
      <content>
        <field controlType="UIList" title="ТСО для услуги" name="tso1" type="number" class="1" timestamp="18.10.2022 15:23:15" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\pwrcompany_list.xml">
          <listquery>
            <query name="pwrcompanylist_2" />
          </listquery>
        </field>
        <field controlType="UIList" title="ТСО для потерь" name="tso2" type="number" class="1" timestamp="18.10.2022 15:23:15" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\pwrcompany_list.xml">
          <listquery>
            <query name="pwrcompanylist_2" />
          </listquery>
        </field>
        <field controlType="UIDate" type="date" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="На дату" name="p_date" format="dd.MM.yyyy HH:mm" show-checkbox="0">
          <defaultquery>
            <query name="today" />
          </defaultquery>
        </field>
        <field title="Подписант" controlType="UICombo" type="number" name="kod_emp" timestamp="18.11.2022 15:22:52" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64483_1.xml" show-checkbox="0">
          <listquery>
            <query name="signatory_list" />
          </listquery>
          <defaultquery>
            <query name="signatory_list_def" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="64649" timestamp="13.12.2022 01:57:26" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64649.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="64650" timestamp="24.01.2023 16:42:47" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64650.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="64650_2" title="Форма 1. Цены производителей" timestamp="22.09.2023 14:56:12" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64650.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field field="asuse_adr_m_obj_dep" name="p_kod_adr_m" as="" title="Субъект Федерации" controlType="UIList" clear-on-list-change="1" type="number">
          <listquery>
            <query name="adr_m_obj_list_dep">
              <withparams>
                <useparam name="p_dep" />
              </withparams>
            </query>
          </listquery>
        </field>
        <field type="number" name="p_vdoc" controlType="UIList" title="Вид договора">
          <listquery>
            <query name="ks_vdoc_in_1_and_5" />
          </listquery>
        </field>
        <field title="Уровень напряжения" type="number" name="p_volt" controlType="UIList">
          <listquery>
            <query name="voltage_all" />
          </listquery>
        </field>
        <field name="p_ck" title="Ценовая категория" type="number" controlType="UIList">
          <listquery>
            <query name="ies_garant_spr_ck" />
          </listquery>
        </field>
        <field name="p_mvt" type="number" controlType="UIList" title="Группы мощности">
          <listquery>
            <query name="spr_mvt_3" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="64651" timestamp="15.03.2023 14:02:06" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64651.xml">
      <content>
        <field name="p_year" controlType="UICombo" title="Год" mandatory="1" type="number" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" column-mandatory="1">
          <listquery>
            <query name="kr_calc_year_list" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_year_max" />
          </defaultquery>
        </field>
        <field name="p_dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="64809" timestamp="08.05.2024 10:28:39" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64809.xml">
      <content>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Отчетный период C" mandatory="1" timestamp="05.06.2023 16:19:40" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek" />
          </defaultquery>
        </field>
        <field name="p_ym_end" controlType="UICombo" type="number" title="Отчетный период По" mandatory="1" timestamp="05.06.2023 16:19:40" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek" />
          </defaultquery>
        </field>
        <field controlType="UIList" title="Договор" name="p_kod_dog" type="number" rows-limit="100" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dogovor_list(dep)" />
          </listquery>
        </field>
        <field name="p_dep" title="Филиал" type="number" controlType="UIList" mandatory="1">
          <listquery>
            <query name="64525_filials" />
          </listquery>
        </field>
        <field name="p_region" title="Регион" type="number" controlType="UIList">
          <listquery>
            <query name="adr_m_obj_list_dep" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="64879" timestamp="18.04.2025 14:09:51" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field controlType="UICheck" checked="0" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="C перерасчетом прошлых лет" name="is_detail" />
      </content>
    </form>
    <form name="64879_v2" timestamp="19.04.2025 10:26:33" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64879.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Период" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field controlType="UICheck" checked="0" type="number" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" title="C перерасчетом прошлых лет" name="is_flag" />
      </content>
    </form>
    <form name="64883_2" title="Аналитический отчет по клиенту" timestamp="10.05.2023 12:36:16" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64883_2.xml">
      <content>
        <field field="asuse_dep" name="p_dep" mandatory="1" type="number" controlType="UICombo" title="Отделение">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_ym_end" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_client" type="number" controlType="UIList" name-field-name="name" mandatory="1" title="Клиент">
          <listquery>
            <query name="list_clients" />
          </listquery>
          <defaultquery>
            <query name="list_clients" />
          </defaultquery>
        </field>
        <field name="pkod_dog" controlType="UIList" title="Договоры" type="number" timestamp="10.04.2023 10:51:01" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml">
          <listquery>
            <query name="ndog_list_dep" />
          </listquery>
          <defaultquery>
            <query name="ndog_list_dep" />
          </defaultquery>
        </field>
        <field controlType="UICheck" type="number" name="p_flag" title="Заменить существующие файлы" column-default="true" checked="1" />
      </content>
    </form>
    <form name="64949" timestamp="13.12.2022 02:04:10" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64949.xml">
      <content>
        <field name="dep" controlType="UIList" title="Отделение" type="number" timestamp="13.05.2019 13:13:44" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field controlType="UICombo" type="string" file="sql.builder.templates\sql.builder\projects\common\param_fields_common.xml" name="p_inn" title="ИНН">
          <listquery>
            <query name="64949-inn" />
          </listquery>
        </field>
        <field controlType="UIList" title="Договор" name="kod_dog" type="number" rows-limit="100" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" mandatory="1">
          <defaultquery>
            <query name="64949-dog-list-def" />
          </defaultquery>
          <listquery>
            <query name="64949-dog-list" />
          </listquery>
        </field>
        <fieldgroup title="Период">
          <field name="p_ym_beg" controlType="UICombo" type="number" title="с" mandatory="0" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" hint="Для формирования отчета за всю историю оставьте период пустым">
            <listquery>
              <query name="kr_calc_list"></query>
            </listquery>
            <defaultquery>
              <query name="kr_calc_prev_year_begin" />
            </defaultquery>
          </field>
          <field name="p_ym_end" controlType="UICombo" type="number" title="по" mandatory="0" timestamp="05.06.2023 16:19:40" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
            <listquery>
              <query name="kr_calc_list_tek_1" />
            </listquery>
            <defaultquery>
              <query name="kr_calc_max_tek" />
            </defaultquery>
          </field>
        </fieldgroup>
      </content>
    </form>
    <form name="65015" title="Акт оказания услуг по передаче" timestamp="10.05.2023 14:00:00" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65015.xml">
      <customers>
        <customer id="29" />
      </customers>
      <content>
        <field name="dep" controlType="UICombo" title="Филиал" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field name="p_ym" controlType="UICombo" type="number" title="Отчётный период" mandatory="1" timestamp="05.06.2023 16:19:40" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek" />
          </defaultquery>
        </field>
        <field name="p_kod_m" type="number" controlType="UIList" val-field-name="kod_m" name-field-name="name_p" title="Субъект федерации">
          <listquery>
            <query name="adr_m_subject_list" />
          </listquery>
        </field>
        <field name="p_kodp_pwrcompany" type="number" controlType="UIList" val-field-name="kodp_pwrcompany" name-field-name="name" title="ТСО">
          <listquery>
            <query name="64455_1_pwrcompany" />
          </listquery>
        </field>
      </content>
    </form>
    <form name="65116" timestamp="26.05.2023 13:24:11" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\65116.xml">
      <content>
        <field name="p_dep" controlType="UICombo" title="Отделение" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" visible="1">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <fieldgroup title="Период">
          <field name="p_ym_beg" controlType="UICombo" type="number" title="с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" visible="1">
            <listquery>
              <query name="kr_calc_list_tek_dep_1" />
            </listquery>
            <defaultquery>
              <query name="kr_calc_max_pre_dep" />
            </defaultquery>
          </field>
          <field name="p_ym_end" controlType="UICombo" type="number" title="по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml" visible="1">
            <listquery>
              <query name="kr_calc_list_tek_dep_1" />
            </listquery>
            <defaultquery>
              <query name="kr_calc_max_pre_dep" />
            </defaultquery>
          </field>
        </fieldgroup>
        <field controlType="UIDate" type="date" field="cmn_date_cur" name="p_date_create" comment="Дата формирования" show-checkbox="0" visible="0">
          <defaultquery>
            <query name="cur-date" />
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="66806" title="Раскрытие информации по полезному отпуску" timestamp="20.12.2023 17:39:53" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\66806.xml">
      <customers>
        <customer id="29" />
      </customers>
      <content>
        <field name="p_dep" controlType="UICombo" title="Филиал" type="number" mandatory="1" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_dep" />
          </listquery>
          <defaultquery>
            <query name="kr_dep_current" />
          </defaultquery>
        </field>
        <field field="asuse_adr_m_obj_dep" name="p_kod_adr_m" as="" title="Субъект Федерации" controlType="UIList" clear-on-list-change="1" type="number">
          <listquery>
            <query name="adr_m_obj_list_dep">
              <withparams>
                <useparam name="p_dep" />
              </withparams>
            </query>
          </listquery>
        </field>
        <field name="p_ym_beg" controlType="UICombo" type="number" title="Период с" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
        <field name="p_ym_end" controlType="UICombo" type="number" title="Период по" mandatory="1" timestamp="06.06.2023 15:00:45" file="sql.builder.templates\sql.builder\projects\asuse2_ipr\param_fields_asuse.xml">
          <listquery>
            <query name="kr_calc_list_tek_dep_1" />
          </listquery>
          <defaultquery>
            <query name="kr_calc_max_tek_dep" />
          </defaultquery>
        </field>
      </content>
    </form>
  </forms>
  <datatypes />
  <editors />
  <folders />
  <globalparams child-name="param" key-name="name" />
  <!--<globalconsts child-name="globalconst" key-name="name">
  </globalconsts>-->
  <expression-packages child-name="expression-package" key-name="name" />
  <dimension-packages child-name="dimension-package" key-name="name" />
  <security-packages child-name="security-package" key-name="name" />
  <color-packages child-name="color-package" key-name="name" />
  <format-packages child-name="format-package" key-name="name" />
  <button-types child-name="button-type" key-name="name" />
  <!--раздел qlikview организовать по аналогии с остальными вместо qlikview/customer/@id   дать имена   qwprojects/qwproject/@customer-->
  <qvprojects />
  <!--<images>
    <image char="" name="link" />
    <image char="" name="dlink" rotate-flip="RotateNoneFlipY"/>
    <image char="" name="call"/>
    <image char="" name="column"/>
  </images>
  <eltypes>
    <eltype  name="vcall" image="call"/>
    <eltype  name="vlink" image="link"/>
    <eltype  name="vdink" image="dlink"/>
    <eltype  name="vcolumn" image="column"/>
  </eltypes>-->
  <fields child-name="field" key-name="id">
    <field id="asuse_pwrcompany" controlType="UIList" title="ТСО" name="kodp_pwrcompany" type="number" timestamp="21.10.2022 13:12:37" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462353.xml">
      <listquery>
        <query name="pwrcompanylist_2" />
      </listquery>
    </field>
    <field id="field_use_migr" name="use_migration" title="Учитывать импортированные начисления" controlType="UICombo" timestamp="20.07.2022 15:40:11" type="string" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_rep.xml">
      <listquery>
        <query name="s_list_use_migr" />
      </listquery>
      <defaultquery>
        <query name="s_list_use_migr_def" />
      </defaultquery>
    </field>
    <field id="field_with_p" title="Формировать с учетом мощности" controlType="UICombo" timestamp="22.08.2022 12:58:00" type="string" name="with_p" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_rep.xml">
      <listquery>
        <query name="s_list_use_migr" />
      </listquery>
      <defaultquery>
        <query name="s_list_use_migr_def" />
      </defaultquery>
    </field>
    <field id="462359_ym" title="Период" name="ym" type="number" controlType="UICombo" timestamp="25.02.2022 11:29:26" parent-field-name="ym" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462359_ym.xml">
      <listquery>
        <query name="nr_account_ym_list" />
      </listquery>
      <defaultquery>
        <query name="nr_account_ym_max" />
      </defaultquery>
    </field>
    <field id="ym_3year" controlType="UICombo" name="p_ym" type="number" timestamp="03.03.2022 23:09:36" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\462361.xml">
      <listquery>
        <query name="sqlb_ym_3years_view" />
      </listquery>
      <defaultquery>
        <query name="ym_3year_max" />
      </defaultquery>
    </field>
    <field id="field_ndog_dep" name="pkod_dog" controlType="UIList" title="Договоры" type="number" timestamp="10.04.2023 10:51:01" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64224.xml">
      <listquery>
        <query name="ndog_list_dep" />
      </listquery>
      <defaultquery>
        <query name="ndog_list_dep" />
      </defaultquery>
    </field>
    <field id="field_signatory" title="Подписант" controlType="UICombo" type="number" name="kod_emp" timestamp="18.11.2022 15:22:52" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64483_1.xml">
      <listquery>
        <query name="signatory_list" />
      </listquery>
      <defaultquery>
        <query name="signatory_list_def" />
      </defaultquery>
    </field>
    <field id="field_client_dep" name="p_client" controlType="UIList" val-field-name="p_client" name-field-name="name" title="Клиенты" type="number" timestamp="10.04.2023 10:50:28" file="sql.builder.templates\sql.builder\projects\ies_garant\reports\64883.xml">
      <listquery>
        <query name="list_clients" />
      </listquery>
      <defaultquery>
        <query name="list_clients" />
      </defaultquery>
    </field>
    <field id="field_dep_org" name="p_dep" controlType="UIList" type="number" title="Отделение" comment="Отделения внутри организации" class="1" timestamp="31.07.2023 11:37:48" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_org.xml">
      <listquery>
        <query name="kr_dep(org)_def_all" />
      </listquery>
    </field>
    <field id="org_energosbyt_single" title="Энергосбыт" type="number" controlType="UICombo" name="p_org" class="1" timestamp="20.02.2023 13:20:34" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\kr_org_energosbyt.xml">
      <listquery>
        <query name="kr_org_energosbyt" />
      </listquery>
    </field>
    <field id="asuse_pwrcompany_2" controlType="UIList" title="ТСО" name="kodp_pwrcompany" type="number" class="1" timestamp="18.10.2022 15:23:15" file="sql.builder.templates\sql.builder\projects\ies_garant\scheme\extension\pwrcompany_list.xml">
      <listquery>
        <query name="pwrcompanylist_2" />
      </listquery>
    </field>
  </fields>
  <actions child-name="action" key-name="name" />
  <navigators child-name="navigator" key-name="name" />
  <projects child-name="project" key-name="name" />
</root>