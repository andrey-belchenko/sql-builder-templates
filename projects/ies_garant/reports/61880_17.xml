<?xml version="1.0" encoding="utf-8"?>
<root>
  <queries>
    <query name="61880-17-data-r1" timestamp="24.03.2022 10:49:02" title="Макет 4.41" is-report="1" nogrid="1">
      <print-templates>
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <content>
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym_beg" />
        <usefield field="asuse_adr_m_subject_dep" />
        <usefield type="number" field="cmn_check" name="no_dog" title="Выводить детализацию по договорам" />
        <fieldgroup title="Период" exclude="1">
          <usefield field="asuse_ym_tek" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="asuse_ym_tek" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
      </content>
      <procedure>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kod_dog" />
        <column table="kodp" column="name" group="max" as="namep" />
        <column table="d" column="ndog" group="max" />
        <column table="d" column="adress_region" />
        <column table="kod_razd" column="kod_razd" />
        <column table="kod_razd" column="razdel" group="max" title="раздел" />
        <column table="kod_razd" column="name" group="max" as="name_razd" />
        <column table="kod_razd" column="kod_str_ies" group="max" as="str_razd_ies" />
        <call function="get_podrazdel_ies" as="kod_podrazd">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="kod_podrazd" column="razdel" group="max" as="podrazdel" title="подраздел" />
        <column table="kod_podrazd" column="name" group="max" as="name_podrazdel" />
        <column table="kod_podrazd" column="kod_str_ies" group="max" as="str_porazdel_ies" />
        <column table="kod_okved" column="kod_okved" title="оквэд" />
        <column group="max" table="kod_okved" column="okved" />
        <column group="max" table="kod_okved" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbug" as="cust_kvt_ym_bug">
          <if>
            <call function="=">
              <column table="rc" column="kod_refcode" />
              <const>1201</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbug" as="nach_all_ym_bug" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbug" as="cust_kvt_year_bug" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbug" as="nach_all_year_bug" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbiz" as="cust_kvt_ym_biz">
          <if>
            <call function="=">
              <column table="rc" column="kod_refcode" />
              <const>1202</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbiz" as="nach_all_ym_biz" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbiz" as="cust_kvt_year_biz" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbiz" as="nach_all_year_biz" />
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp">
            <link name="kod_okved" />
          </link>
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" />
        </query>
        <query name="rr_refprop_dog_141" as="r141" join="left outer">
          <call function="=">
            <column table="r141" column="kod_dog" />
            <column table="a" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="rc" join="left outer">
          <call function="=">
            <column table="r141" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data" timestamp="22.09.2022 12:04:40">
      <print-templates exclude="1">
        <excel>
          <template name="61880_15.xlsx" title="Структура потребления электрической энергии (в разрезе ОКВЭД)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <content exclude="1">
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym_beg" />
        <usefield field="asuse_adr_m_subject_dep" />
        <fieldgroup title="Период" exclude="1">
          <usefield field="asuse_ym_tek" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="asuse_ym_tek" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
      </content>
      <procedure exclude="1">
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kod_dog" group="1" />
        <column table="kodp" column="name" as="namep" group="max" />
        <column table="d" column="ndog" group="max" />
        <column table="d" column="adress_region" group="1" />
        <column table="d" column="kod_vdog" group="1" />
        <column table="rc" column="kod_refcode" group="1" exclude="1" />
        <column table="kod_otrasl" column="kod_otrasl" group="1" />
        <column table="kod_razd" column="kod_razd" group="1" />
        <column table="kod_razd" column="razdel" title="раздел" group="max" />
        <column table="kod_razd" column="name" group="max" as="name_razd" />
        <column table="kod_razd" column="kod_str_ies" group="max" as="str_razd_ies" />
        <call function="get_podrazdel_ies" as="kod_podrazd" group="1">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="kod_podrazd" column="razdel" group="max" as="podrazdel" title="подраздел" />
        <column table="kod_podrazd" column="name" group="max" as="name_podrazdel" />
        <column table="kod_podrazd" column="kod_str_ies" group="max" as="str_porazdel_ies" />
        <column table="kod_okved" column="kod_okved" title="оквэд" group="1" />
        <column group="max" table="kod_okved" column="okved" />
        <column group="max" table="kod_okved" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbug" as="cust_kvt_ym_bug">
          <if>
            <call function="=">
              <column table="this" column="kod_otrasl" />
              <const>804</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbug" as="nach_all_ym_bug" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbug" as="cust_kvt_year_bug" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbug" as="nach_all_year_bug" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbiz" as="cust_kvt_ym_biz">
          <if>
            <call function="=">
              <column table="this" column="kod_otrasl" />
              <const>-1</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbiz" as="nach_all_ym_biz" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbiz" as="cust_kvt_year_biz" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbiz" as="nach_all_year_biz" />
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp">
            <link name="kod_okved" />
            <link name="kod_otrasl" />
          </link>
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" />
        </query>
        <query name="rr_refprop_dog_141" as="r141" join="left outer" exclude="1">
          <call function="=">
            <column table="r141" column="kod_dog" />
            <column table="a" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="rc" join="left outer" exclude="1">
          <call function="=">
            <column table="r141" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1" exclude="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1" timestamp="08.04.2022 11:00:07" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" group="max" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-title" timestamp="05.04.2022 21:36:20" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep">
          <const>20488</const>
        </param>
        <param type="number" name="p_ym_beg">
          <const>2022.01</const>
        </param>
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <call function="if" as="p_dep_text" type="string" title="Отделения">
          <call function="is not null">
            <column table="a" column="name" group="stragg_dist" />
          </call>
          <column table="a" column="sname" group="stragg_dist" />
          <const exclude="1">'по всем отделениям'</const>
        </call>
        <call as="p_ym_beg" function="ym to char">
          <useparam name="p_ym_beg" />
        </call>
        <call function="if" as="kod_adr_m_text" type="string" title="субъекты федерации">
          <call function="is not null">
            <column table="b" column="name_p" group="stragg_dist" />
          </call>
          <column table="b" column="name_p" group="stragg_dist" />
          <const exclude="1">'по всем отделениям'</const>
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
        <query name="adr_m_subject_list_dep" as="b" join="cross">
          <withparams>
            <useparam name="p_dep" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="and">
            <call function="in" optional="1">
              <column table="a" column="kodp" />
              <useparam name="p_dep" />
            </call>
            <call function="in" optional="1">
              <column table="b" column="kod_m" />
              <useparam name="kod_adr_m" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="61880-17-data-rd1a" timestamp="07.04.2022 12:13:41" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call as="kod_razd" function="()" type="number">
          <const>1</const>1</call>
        <call as="razdel" function="null" group="max" type="number">1</call>
        <column table="a" column="kod_razd" exclude="1" />
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call group="max" function="()" as="name_razd" type="string">
          <const type="string">'Полезный отпуск потребителям, всего'</const>
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <call as="str_razd_ies" function="()" group="max" type="number">
          <const type="number">10900</const>1</call>
        <column table="a" column="str_razd_ies" group="max" exclude="1" />
        <call function="if" as="kod_podrazd" type="number">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <array type="number">188,194</array>
          </call>
          <const>1</const>
          <const>2</const>
        </call>
        <column table="a" column="kod_podrazd" exclude="1" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <call function="null" group="max" as="podrazdel" type="number" />
        <column table="a" column="podrazdel" group="max" title="подраздел" exclude="1" />
        <call function="if" as="name_podrazdel" type="string" group="max">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <array type="number">188,194</array>
          </call>
          <const type="string">'по договорам энергоснабжения'</const>
          <const type="string">'по договорам купли-продажи электрической энергии'</const>
        </call>
        <column table="a" column="name_podrazdel" group="max" exclude="1" />
        <call function="if" as="str_porazdel_ies" type="number" group="max">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <array type="number">188,194</array>
          </call>
          <const type="number">10901</const>
          <const type="number">10902</const>
        </call>
        <column table="a" column="str_porazdel_ies" group="max" exclude="1" />
        <column table="a" column="kod_okved" title="оквэд" exclude="1" />
        <column group="max" table="a" column="okved" exclude="1" />
        <column group="max" table="a" column="kod_str_ies" exclude="1" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep" exclude="1">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_ls10400" timestamp="25.05.2022 15:32:07" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" group="max" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="lt">
            <column table="this" column="str_razd_ies" />
            <const>10400</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_gt10400" timestamp="25.05.2022 15:33:47" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" group="max" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="this" column="str_razd_ies" />
            <const>10400</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data_10400" timestamp="25.05.2022 23:13:18">
      <print-templates exclude="1">
        <excel>
          <template name="61880_15.xlsx" title="Структура потребления электрической энергии (в разрезе ОКВЭД)" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <content exclude="1">
        <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
        <usefield field="asuse_ym_tek_dep" name="p_ym_beg" />
        <usefield field="asuse_adr_m_subject_dep" />
        <fieldgroup title="Период" exclude="1">
          <usefield field="asuse_ym_tek" title="с" name="p_ym_beg" mandatory="1" />
          <usefield field="asuse_ym_tek" title="по" name="p_ym_end" mandatory="1" />
        </fieldgroup>
      </content>
      <procedure exclude="1">
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <select>
        <column table="a" column="kod_dog" group="1" />
        <column table="kodp" column="name" as="namep" group="max" />
        <column table="d" column="ndog" group="max" />
        <column table="d" column="adress_region" group="1" />
        <column table="d" column="kod_vdog" group="1" />
        <column table="rc" column="kod_refcode" group="1" />
        <column table="kod_razd" column="kod_razd" group="1" />
        <column table="kod_razd" column="razdel" title="раздел" group="max" />
        <column table="kod_razd" column="name" group="max" as="name_razd" />
        <column table="kod_razd" column="kod_str_ies" group="max" as="str_razd_ies" />
        <call function="get_podrazdel_ies" as="kod_podrazd" group="1">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <call function="get_podrazdel_ies2" as="kod_podrazd2" group="1">
          <column table="kod_okved" column="kod_okved" />
        </call>
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="kod_podrazd" column="razdel" group="max" as="podrazdel" title="подраздел" />
        <column table="kod_podrazd" column="name" group="max" as="name_podrazdel" />
        <column table="kod_podrazd" column="kod_str_ies" group="max" as="str_porazdel_ies" />
        <column table="kod_podrazd1" column="kod_okved" group="1" as="kod_podrazd1" title="подраздел" />
        <column table="kod_podrazd1" column="razdel" group="max" as="podrazdel1" title="подраздел" />
        <column table="kod_podrazd1" column="name" group="max" as="name_podrazdel1" />
        <column table="kod_podrazd1" column="kod_str_ies" group="max" as="str_porazdel_ies1" />
        <column table="kod_podrazd2" column="razdel" group="max" as="podrazdel2" title="подраздел" />
        <column table="kod_podrazd2" column="name" group="max" as="name_podrazdel2" />
        <column table="kod_podrazd2" column="kod_str_ies" group="max" as="str_porazdel_ies2" />
        <column table="kod_okved" column="kod_okved" title="оквэд" group="1" />
        <column group="max" table="kod_okved" column="okved" />
        <column group="max" table="kod_okved" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbug" as="cust_kvt_ym_bug">
          <if>
            <call function="=">
              <column table="this" column="kod_refcode" />
              <const>1201</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbug" as="nach_all_ym_bug" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbug" as="cust_kvt_year_bug" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbug" as="nach_all_year_bug" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbiz" as="cust_kvt_ym_biz">
          <if>
            <call function="=">
              <column table="this" column="kod_refcode" />
              <const>1202</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbiz" as="nach_all_ym_biz" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbiz" as="cust_kvt_year_biz" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbiz" as="nach_all_year_biz" />
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp">
            <link name="kod_okved" />
          </link>
        </query>
        <query name="ks_okved_podrazdel_2" as="kod_podrazd2" join="left outer">
          <call function="=">
            <column table="this" column="kod_podrazd2" />
            <column table="kod_podrazd2" column="kod_okved" />
          </call>
          <link name="kod_podrazdel_1" as="kod_podrazd1">
            <link name="kod_podrazdel" as="kod_podrazd" exclude="1">
              <link name="kod_razd" />
            </link>
          </link>
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" />
        </query>
        <query name="rr_refprop_dog_141" as="r141" join="left outer">
          <call function="=">
            <column table="r141" column="kod_dog" />
            <column table="a" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="rc" join="left outer">
          <call function="=">
            <column table="r141" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="=" exclude="1">
            <column table="kod_razd" column="kod_str_ies" />
            <const>10400</const>
          </call>
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_10400" timestamp="25.05.2022 23:19:38" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="name_podrazdel1" group="max" />
        <column table="a" column="name_podrazdel2" group="max" />
        <column table="a" column="str_porazdel_ies1" group="max" />
        <column table="a" column="str_porazdel_ies2" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="a" column="kod_podrazd1" />
        <column table="a" column="kod_podrazd2" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_razd_ies" />
            <const>10400</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_351" timestamp="25.05.2022 23:35:23" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="name_podrazdel1" group="max" />
        <column table="a" column="name_podrazdel2" group="max" />
        <column table="a" column="str_porazdel_ies1" group="max" />
        <column table="a" column="str_porazdel_ies2" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="a" column="kod_podrazd1" />
        <column table="a" column="kod_podrazd2" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies1" />
            <const>10401</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_3511" timestamp="25.05.2022 23:47:02" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="name_podrazdel1" group="max" />
        <column table="a" column="name_podrazdel2" group="max" />
        <column table="a" column="str_porazdel_ies1" group="max" />
        <column table="a" column="str_porazdel_ies2" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="a" column="kod_podrazd1" />
        <column table="a" column="kod_podrazd2" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies2" />
            <const>10411</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_3512" timestamp="25.05.2022 23:56:00" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="name_podrazdel1" group="max" />
        <column table="a" column="name_podrazdel2" group="max" />
        <column table="a" column="str_porazdel_ies1" group="max" />
        <column table="a" column="str_porazdel_ies2" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="a" column="kod_podrazd1" />
        <column table="a" column="kod_podrazd2" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies2" />
            <const>10412</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_3514" timestamp="26.05.2022 00:01:53" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="name_podrazdel1" group="max" />
        <column table="a" column="name_podrazdel2" group="max" />
        <column table="a" column="str_porazdel_ies1" group="max" />
        <column table="a" column="str_porazdel_ies2" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="a" column="kod_podrazd1" />
        <column table="a" column="kod_podrazd2" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies2" />
            <const>10414</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_352" timestamp="26.05.2022 00:08:13" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="name_podrazdel1" group="max" />
        <column table="a" column="name_podrazdel2" group="max" />
        <column table="a" column="str_porazdel_ies1" group="max" />
        <column table="a" column="str_porazdel_ies2" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="a" column="kod_podrazd1" />
        <column table="a" column="kod_podrazd2" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies1" />
            <const>10420</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1_353" timestamp="26.05.2022 00:08:37" nogrid="1">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="d" column="adress_region" exclude="1" />
        <call function="if" as="kod_razd">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>99999</const>
          <column table="a" column="kod_razd" />
        </call>
        <column table="a" column="kod_razd" exclude="1" />
        <call function="if" as="razdel" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'I,L,M,R'</const>
          <column table="a" column="razdel" />
        </call>
        <column table="a" column="razdel" title="раздел" group="max" exclude="1" />
        <call function="if" as="name_razd" group="max">
          <call function="=">
            <column table="a" column="str_razd_ies" />
            <const type="number">10700</const>
          </call>
          <const>'Прочие виды экономической деятельности, не вошедшие в вышеперечисленные группировки'</const>
          <column table="a" column="name_razd" />
        </call>
        <column table="a" column="name_razd" group="max" exclude="1" />
        <column table="a" column="str_razd_ies" group="max" />
        <column table="a" column="name_podrazdel1" group="max" />
        <column table="a" column="name_podrazdel2" group="max" />
        <column table="a" column="str_porazdel_ies1" group="max" />
        <column table="a" column="str_porazdel_ies2" group="max" />
        <column table="a" column="kod_podrazd" />
        <column table="a" column="kod_podrazd1" />
        <column table="a" column="kod_podrazd2" />
        <column table="kod_podrazd" column="kod_okved" as="kod_podrazd" exclude="1" />
        <column table="a" column="podrazdel" group="max" title="подраздел" />
        <column table="a" column="name_podrazdel" group="max" />
        <column table="a" column="str_porazdel_ies" />
        <column table="a" column="kod_okved" title="оквэд" />
        <column group="max" table="a" column="okved" />
        <column group="max" table="a" column="kod_str_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_10400" as="a">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="this" column="str_porazdel_ies1" />
            <const>10430</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data_new" timestamp="07.03.2025 17:17:37">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" />
        <column table="a" column="pr_nasel" group="1" />
        <column table="kodp" column="name" as="namep" group="max" />
        <column table="kodp" column="kodp" as="kodp" group="max" />
        <column table="d" column="ndog" group="max" />
        <column table="d" column="adress_region" group="1" exclude="1" />
        <call function="if" as="adress_region" group="1" exclude="1">
          <call function="=">
            <column table="kod_obj" column="kodd" />
            <const>-1</const>
          </call>
          <column table="d" column="adress_region" />
          <call function="adress_region">
            <column table="kod_obj" column="kodd" />
          </call>
        </call>
        <column table="kod_vdog" column="kod_vdoc" group="1" />
        <call group="1" function="case" as="gr_10920">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="kod_vdog" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="=">
                <column table="kodp" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const>1</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="kod_vdog" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="!=">
                <column table="kodp" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const>2</const>
          </call>
          <call function="else">
            <const>3</const>
          </call>
        </call>
        <column table="rc" column="kod_refcode" group="1" exclude="1" />
        <column table="kod_otrasl" column="kod_otrasl" group="1" />
        <column table="res" column="id" group="1" />
        <column table="res" column="gr1" group="1" />
        <column table="res" column="gr2" group="1" />
        <column table="res" column="gr3" group="1" />
        <column table="res" column="name" group="max" as="name_razd" />
        <column table="res" column="name" group="max" as="name_razd1">
          <if>
            <call function="is null">
              <column table="res" column="gr2" />
            </call>
          </if>
        </column>
        <column table="res" column="name" group="max" as="name_razd2">
          <if>
            <call function="and">
              <call function="is not null">
                <column table="res" column="gr2" />
              </call>
              <call function="is null">
                <column table="res" column="gr3" />
              </call>
            </call>
          </if>
        </column>
        <column table="res" column="name" group="max" as="name_razd3">
          <if>
            <call function="is not null">
              <column table="res" column="gr3" />
            </call>
          </if>
        </column>
        <column table="res" column="kod_str" group="max" as="kod_str_razd" />
        <column table="res" column="kod_str" group="max" as="kod_str_razd1">
          <if>
            <call function="is null">
              <column table="res" column="gr2" />
            </call>
          </if>
        </column>
        <column table="res" column="kod_str" group="max" as="kod_str_razd2">
          <if>
            <call function="and">
              <call function="is not null">
                <column table="res" column="gr2" />
              </call>
              <call function="is null">
                <column table="res" column="gr3" />
              </call>
            </call>
          </if>
        </column>
        <column table="res" column="kod_str" group="max" as="kod_str_razd3">
          <if>
            <call function="is not null">
              <column table="res" column="gr3" />
            </call>
          </if>
        </column>
        <column table="res" column="v_dog" group="max" as="v_dog" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbug" as="cust_kvt_ym_bug">
          <if>
            <call function="=">
              <column table="this" column="kod_otrasl" />
              <const>804</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbug" as="nach_all_ym_bug" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbug" as="cust_kvt_year_bug" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbug" as="nach_all_year_bug" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbiz" as="cust_kvt_ym_biz">
          <if>
            <call function="=">
              <column table="this" column="kod_otrasl" />
              <const>-1</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbiz" as="nach_all_ym_biz" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbiz" as="cust_kvt_year_biz" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbiz" as="nach_all_year_biz" />
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp">
            <link name="kod_otrasl" />
          </link>
          <link name="kod_vdog" />
          <elink name="kr_numobj" exclude="1">
            <link name="kod_obj" />
          </elink>
        </query>
        <query name="sqlb_61880_17_tbl" as="res" join="full outer">
          <call function="or">
            <call function="and">
              <call function="=">
                <column table="a" column="pr_nasel" nvl="0" />
                <column table="res" column="pr_nasel" nvl="0" />
              </call>
              <call table="kodp" column="kod_okved" function="=">
                <column table="kodp" column="kod_okved" />
                <column table="res" column="kodokved" />
              </call>
            </call>
            <call function="=" exclude="1">
              <call function="if">
                <call function="=1">
                  <column table="a" column="pr_nasel" />
                </call>
                <const type="number">-9999</const>
              </call>
              <column table="res" column="kodokved" />
            </call>
            <call function="=">
              <call function="if">
                <call function="=1">
                  <column table="a" column="pr_nasel" />
                </call>
                <const type="number">-9998</const>
              </call>
              <column table="res" column="kodokved" />
            </call>
          </call>
          <call function="=" exclude="1">
            <call function="if">
              <call table="a" function="=0">
                <column table="a" column="pr_nasel" />
              </call>
              <column table="kodp" column="kod_okved" />
              <const type="number">-9999</const>
            </call>
            <column table="res" column="kodokved" />
          </call>
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer" exclude="1">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" />
        </query>
        <query name="rr_refprop_dog_141" as="r141" join="left outer" exclude="1">
          <call function="=">
            <column table="r141" column="kod_dog" />
            <column table="a" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="rc" join="left outer" exclude="1">
          <call function="=">
            <column table="r141" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1" exclude="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-res" nogrid="1" timestamp="05.04.2024 11:26:24">
      <print-templates exclude="1">
        <excel>
          <template name="61880_17_r1.xlsx" title="Макет 4.41 Раздел 1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <params>
        <param type="array" name="p_dep" />
        <param type="number" name="p_ym_beg" />
        <param name="kod_adr_m" type="array" />
        <param name="no_dog" type="number" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <column table="a" column="id" group="min" />
        <column table="a" column="gr1" />
        <column table="a" column="gr2" />
        <column table="a" column="gr3" />
        <column table="a" column="name_razd" />
        <column table="a" column="name_razd1" group="max" />
        <column table="a" column="name_razd2" group="max" />
        <column table="a" column="name_razd3" group="max" />
        <column table="a" column="kod_str_razd" group="min" />
        <column table="a" column="kod_str_razd1" group="max" />
        <column table="a" column="kod_str_razd2" group="max" />
        <column table="a" column="kod_str_razd3" group="max" />
        <column table="a" column="v_dog" group="max" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_new" as="a">
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where exclude="1">
        <call function="and">
          <call function="lt">
            <column table="this" column="str_razd_ies" />
            <const>10400</const>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog" exclude="1">
          <grset as="rd1" order="id,gr1">
            <group>
              <column table="this" column="id" />
              <column table="this" column="gr1" />
              <column table="this" column="gr2" exclude="1" />
              <column table="this" column="gr3" exclude="1" />
            </group>
            <where exclude="1">
              <call function="and">
                <call function="is null">
                  <column table="this" column="gr2" />
                  <column table="this" column="gr3" />
                </call>
                <call function="is not null">
                  <column table="this" column="gr1" />
                </call>
              </call>
            </where>
            <grset as="kodp1" order="namep">
              <group>
                <column table="this" column="kod_dog" />
              </group>
              <where>
                <call function="and">
                  <call function="=">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                    <call function="nvl">
                      <column table="this" column="v_dog" />
                      <const>0</const>
                    </call>
                  </call>
                  <call function="=">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                    <const>1</const>
                  </call>
                </call>
              </where>
            </grset>
            <grset as="rd2" order="id,gr1,gr2">
              <group>
                <column table="this" column="id" exclude="1" />
                <column table="this" column="gr1" />
                <column table="this" column="gr2" />
              </group>
              <where>
                <call function="and">
                  <call function="is not null">
                    <column table="this" column="gr2" />
                  </call>
                </call>
              </where>
              <grset as="kodp2" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <call function="nvl">
                        <column table="this" column="v_dog" />
                        <const>0</const>
                      </call>
                    </call>
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
              <grset as="rd3" order="id,gr1,gr2,gr3">
                <group>
                  <column table="this" column="gr3" />
                </group>
                <where>
                  <call function="and">
                    <call function="is not null">
                      <column table="this" column="gr1" />
                      <column table="this" column="gr2" />
                      <column table="this" column="gr3" />
                    </call>
                  </call>
                </where>
                <grset as="kodp3" order="namep">
                  <group>
                    <column table="this" column="kod_dog" />
                  </group>
                  <where>
                    <call function="and">
                      <call function="=">
                        <call function="nvlu">
                          <useparam name="no_dog" />
                          <const>0</const>
                        </call>
                        <call function="nvl">
                          <column table="this" column="v_dog" />
                          <const>0</const>
                        </call>
                      </call>
                      <call function="=">
                        <call function="nvlu">
                          <useparam name="no_dog" />
                          <const>0</const>
                        </call>
                        <const>1</const>
                      </call>
                    </call>
                  </where>
                </grset>
              </grset>
            </grset>
          </grset>
        </grset>
        <grset as="rd1" order="id,gr1">
          <group>
            <column table="this" column="id" exclude="1" />
            <column table="this" column="gr1" />
            <column table="this" column="name_razd" exclude="1" />
            <column table="this" column="gr2" exclude="1" />
            <column table="this" column="gr3" exclude="1" />
          </group>
          <where>
            <call function="and">
              <call function="is null" exclude="1">
                <column table="this" column="gr2" exclude="1" />
                <column table="this" column="gr3" />
              </call>
              <call function="is not null">
                <column table="this" column="gr1" />
              </call>
              <call function="is null" exclude="1">
                <column table="this" column="gr2" />
                <column table="this" column="gr3" exclude="1" />
              </call>
            </call>
          </where>
          <grset as="kodp1" order="namep">
            <group>
              <column table="this" column="kod_dog" />
            </group>
            <where>
              <call function="and">
                <call function="=">
                  <call function="nvlu">
                    <useparam name="no_dog" />
                    <const>0</const>
                  </call>
                  <call function="nvl">
                    <column table="this" column="v_dog" />
                    <const>0</const>
                  </call>
                </call>
                <call function="=">
                  <call function="nvlu">
                    <useparam name="no_dog" />
                    <const>0</const>
                  </call>
                  <const>1</const>
                </call>
              </call>
            </where>
          </grset>
          <grset as="rd2" order="id,gr1,gr2">
            <group>
              <column table="this" column="id" exclude="1" />
              <column table="this" column="gr1" exclude="1" />
              <column table="this" column="gr2" />
            </group>
            <where>
              <call function="and">
                <call function="is not null">
                  <column table="this" column="gr2" />
                </call>
                <call function="is null" exclude="1">
                  <column table="this" column="gr2" exclude="1" />
                  <column table="this" column="gr3" />
                </call>
              </call>
            </where>
            <grset as="kodp2" order="namep">
              <group>
                <column table="this" column="kod_dog" />
              </group>
              <where>
                <call function="and">
                  <call function="=">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                    <call function="nvl">
                      <column table="this" column="v_dog" />
                      <const>0</const>
                    </call>
                  </call>
                  <call function="=">
                    <call function="nvlu">
                      <useparam name="no_dog" />
                      <const>0</const>
                    </call>
                    <const>1</const>
                  </call>
                </call>
              </where>
            </grset>
            <grset as="rd3" order="id,gr1,gr2,gr3">
              <group>
                <column table="this" column="id" exclude="1" />
                <column table="this" column="gr1" exclude="1" />
                <column table="this" column="gr2" exclude="1" />
                <column table="this" column="gr3" />
              </group>
              <where>
                <call function="and">
                  <call function="is not null all" exclude="1">
                    <column table="this" column="gr1" />
                    <column table="this" column="gr2" />
                    <column table="this" column="gr3" />
                  </call>
                  <call function="is not null">
                    <column table="this" column="gr3" />
                  </call>
                </call>
              </where>
              <grset as="kodp3" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <call function="nvl">
                        <column table="this" column="v_dog" />
                        <const>0</const>
                      </call>
                    </call>
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data_new_1" timestamp="07.07.2022 23:48:57">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" group="1" />
        <column table="kodp" column="name" as="namep" group="max" />
        <column table="d" column="ndog" group="max" />
        <column table="d" column="adress_region" group="1" />
        <column table="d" column="kod_vdog" group="1" />
        <column table="rc" column="kod_refcode" group="1" exclude="1" />
        <column table="res" column="id" group="1" />
        <column table="res" column="gr1" group="1" />
        <column table="res" column="gr2" group="1" />
        <column table="res" column="gr3" group="1" />
        <column table="res" column="name" group="max" as="name_razd" />
        <column table="res" column="kod_str" group="max" as="kod_str_razd" />
        <column table="res" column="v_dog" group="max" as="v_dog" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" />
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbug" as="cust_kvt_ym_bug" exclude="1">
          <if>
            <call function="=">
              <column table="this" column="kod_refcode" />
              <const>1201</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbug" as="nach_all_ym_bug" exclude="1" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbug" as="cust_kvt_year_bug" exclude="1" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbug" as="nach_all_year_bug" exclude="1" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" mp="-3" if="isbiz" as="cust_kvt_ym_biz" exclude="1">
          <if>
            <call function="=">
              <column table="this" column="kod_refcode" />
              <const>1202</const>
            </call>
          </if>
        </column>
        <column table="a" column="nach_all_ym" group="sum" mp="-3" title="начислено за месяц" if="isbiz" as="nach_all_ym_biz" exclude="1" />
        <column table="a" column="cust_kvt_year" group="sum" mp="-3" title="объем электроэнергии с начала года" if="isbiz" as="cust_kvt_year_biz" exclude="1" />
        <column table="a" column="nach_all_year" group="sum" mp="-3" title="начислено с начала года" if="isbiz" as="nach_all_year_biz" exclude="1" />
        <column group="sum" table="a" column="saldo_year_beg" mp="-3" />
        <column group="sum" table="a" column="saldo_ym" mp="-3" />
        <column group="sum" table="a" column="saldo_ym_tek" mp="-3" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="sqlb_rep_61880_17_tbl" as="a" />
        <query name="kr_dogovor" as="d" join="left outer">
          <call function="=">
            <column table="a" column="kod_dog" />
            <column table="d" column="kod_dog" />
          </call>
          <link name="kodp">
            <link name="kod_okved" exclude="1" />
          </link>
        </query>
        <query name="sqlb_61880_17_tbl" as="res" join="right outer">
          <call function="=">
            <column table="kodp" column="kod_okved" />
            <column table="res" column="kodokved" />
          </call>
        </query>
        <query name="ks_okved_podrazdel" as="kod_podrazd" join="left outer" exclude="1">
          <call function="=">
            <column table="this" column="kod_podrazd" />
            <column table="kod_podrazd" column="kod_okved" />
          </call>
          <link name="kod_razd" />
        </query>
        <query name="rr_refprop_dog_141" as="r141" join="left outer" exclude="1">
          <call function="=">
            <column table="r141" column="kod_dog" />
            <column table="a" column="kod_dog" />
          </call>
        </query>
        <query name="rs_refcode" as="rc" join="left outer" exclude="1">
          <call function="=">
            <column table="r141" column="kod_refcode" />
            <column table="rc" column="kod_refcode" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
          <call function="in" optional="1">
            <column table="this" column="adress_region" />
            <useparam name="kod_adr_m" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
              <grset as="kodp" order="namep">
                <group>
                  <column table="this" column="kod_dog" />
                </group>
                <where>
                  <call function="and">
                    <call function="=">
                      <call function="nvlu">
                        <useparam name="no_dog" />
                        <const>0</const>
                      </call>
                      <const>1</const>
                    </call>
                  </call>
                </where>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd1a_new" timestamp="24.08.2022 16:27:18" nogrid="1">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <call as="kod_razd" function="()" type="number">
          <const>1</const>1</call>
        <call as="razdel" function="null" group="max" type="number">1</call>
        <call group="max" function="()" as="name_razd" type="string">
          <const type="string">'Полезный отпуск потребителям, всего'</const>
        </call>
        <call as="str_razd_ies" function="()" group="max" type="number">
          <const type="number">10900</const>1</call>
        <call function="if" as="kod_podrazd" type="number">
          <call function="in">
            <column table="a" column="kod_vdoc" />
            <array type="number">1</array>
          </call>
          <const>1</const>
          <const>2</const>
        </call>
        <call function="null" group="max" as="podrazdel" type="number" />
        <call function="if" as="name_podrazdel" type="string" group="max">
          <call function="in">
            <column table="a" column="kod_vdoc" />
            <array type="number">1</array>
          </call>
          <const type="string">'по договорам энергоснабжения'</const>
          <const type="string">'по договорам купли-продажи электрической энергии'</const>
        </call>
        <call function="if" as="str_porazdel_ies" type="number" group="max">
          <call function="in">
            <column table="a" column="kod_vdoc" />
            <array type="number">1</array>
          </call>
          <const type="number">10901</const>
          <const type="number">10902</const>
        </call>
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_new" as="a">
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-10910" nogrid="1" timestamp="14.02.2024 16:28:07">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kodp" />
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <call as="kod_razd" function="()" type="number" exclude="1">
          <const>1</const>1</call>
        <call as="razdel" function="null" group="max" type="number" exclude="1">1</call>
        <call group="max" function="()" as="name_razd" type="string" exclude="1">
          <const type="string">'Полезный отпуск потребителям, всего'</const>
        </call>
        <call as="str_razd_ies" function="()" group="max" type="number" exclude="1">
          <const type="number">10900</const>1</call>
        <call function="if" as="kod_podrazd" type="number" exclude="1">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <array type="number">188,194</array>
          </call>
          <const>1</const>
          <const>2</const>
        </call>
        <call function="null" group="max" as="podrazdel" type="number" exclude="1" />
        <call function="if" as="name_podrazdel" type="string" group="max" exclude="1">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <array type="number">188,194</array>
          </call>
          <const type="string">'по договорам энергоснабжения'</const>
          <const type="string">'по договорам купли-продажи электрической энергии'</const>
        </call>
        <call function="if" as="str_porazdel_ies" type="number" group="max" exclude="1">
          <call function="in">
            <column table="a" column="kod_vdog" />
            <array type="number">188,194</array>
          </call>
          <const type="number">10901</const>
          <const type="number">10902</const>
        </call>
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880-17-data_new" as="a">
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="=">
          <column table="a" column="kod_str_razd" />
          <const>10414</const>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="kodp" order="namep">
            <group>
              <column table="this" column="kod_dog" exclude="1" />
              <column table="this" column="kodp" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880-17-data-rd10920_new" nogrid="1" timestamp="27.09.2022 14:01:00">
      <params>
        <param name="kod_adr_m" type="array" />
      </params>
      <select>
        <column table="a" column="kod_dog" />
        <column table="a" column="namep" group="max" />
        <column table="a" column="ndog" group="max" />
        <call as="kod_razd" function="()" type="number" exclude="1">
          <const>1</const>1</call>
        <column table="gr" column="kod_razd" />
        <call as="razdel" function="null" group="max" type="number">1</call>
        <call group="max" function="()" as="name_razd" type="string" exclude="1">
          <const type="string">'Отпуск территориальным сетевым организациям (ТСО) на компенсацию потерь в электрических сетях, всего'</const>
        </call>
        <column group="max" table="gr" column="name_razd" />
        <call as="str_razd_ies" function="()" group="max" type="number" exclude="1">
          <const type="number">10920</const>1</call>
        <column table="gr" column="str_razd_ies" group="max" />
        <call function="case" as="kod_podrazd" type="number" exclude="1">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="=">
                <column table="a" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const>1</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const>2</const>
          </call>
          <call function="else">
            <const>3</const>
          </call>
        </call>
        <column table="gr" column="kod_podrazd" />
        <call function="null" group="max" as="podrazdel" type="number" />
        <call function="case" as="name_podrazdel" type="string" group="max" exclude="1">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="=">
                <column table="a" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const type="string">'межрегиональным распределительным сетевым компаниям (ДО ПАО "Россети")'</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const type="string">'иным ТСО'</const>
          </call>
          <call function="else">
            <const>''</const>
          </call>
        </call>
        <column group="max" table="gr" column="name_podrazdel" />
        <call function="case" as="str_porazdel_ies" type="number" group="max" exclude="1">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="=">
                <column table="a" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const type="number">10921</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_tipdog" />
                <const>4</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_ecls" />
                <const>2</const>
              </call>
            </call>
            <const type="number">10922</const>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
        <column group="max" table="gr" column="str_porazdel_ies" />
        <column table="a" column="cust_kvt_ym" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_bug" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_bug" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_bug" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_bug" group="sum" title="начислено с начала года" />
        <column table="a" column="cust_kvt_ym_biz" group="sum" title="Объем электрической энергии потребителям всего за отчетный месяц" />
        <column table="a" column="nach_all_ym_biz" group="sum" title="начислено за месяц" />
        <column table="a" column="cust_kvt_year_biz" group="sum" title="объем электроэнергии с начала года" />
        <column table="a" column="nach_all_year_biz" group="sum" title="начислено с начала года" />
        <column group="sum" table="a" column="saldo_year_beg" />
        <column group="sum" table="a" column="saldo_ym" />
        <column group="sum" table="a" column="saldo_ym_tek" />
        <column table="a" column="sdat_beg" group="max" />
        <column table="a" column="sdat_end" group="max" />
      </select>
      <from>
        <query name="61880_17-10920-gr" as="gr" />
        <query name="61880-17-data_new" as="a" join="left outer">
          <call function="=">
            <column table="gr" column="kod_podrazd" />
            <column table="a" column="gr_10920" />
          </call>
          <withparams>
            <useparam name="kod_adr_m" />
          </withparams>
        </query>
      </from>
      <where exclude="1">
        <call function="and">
          <call function="in">
            <column table="this" column="kod_podrazd" />
            <array>1,2</array>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="itog">
          <grset as="rd" order="kod_razd">
            <group>
              <column table="this" column="kod_razd" />
            </group>
            <grset as="prd" order="kod_podrazd">
              <group>
                <column table="this" column="kod_podrazd" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="61880_17-10920-gr" class="1" timestamp="27.09.2022 13:51:48">
      <select>
        <column table="a" column="kod_razd" type="number" />
        <column table="a" column="name_razd" type="string" />
        <column table="a" column="str_razd_ies" type="number" />
        <column table="a" column="kod_podrazd" type="number" />
        <column table="a" column="name_podrazdel" type="string" />
        <column table="a" column="str_porazdel_ies" type="number" />
      </select>
      <from>
        <table name="61880_17-10920-gr" as="a" view="1" />
      </from>
    </query>
  </queries>
  <reports>
    <report name="61880_17" nogrid="1" form="61880_17" title="Макет 4.41 Раздел 1" timestamp="27.09.2023 16:13:48">
      <params>
        <usepart part="61880_17-params" />
      </params>
      <procedure>
        <text exclude="1">
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        
        for rec in (select * from adr_m where kod_m in :p_kod_adr_m)
        loop
        insert into vr_number_array (array_id,val) values ('adr_m',rec.kod_m);
        end loop;
       sqlb_rep_61880_17.fill_table_res;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_17_r1.xlsx" print-proc="2" print-xlsx="1" title="Макет 4.41 Раздел 1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880-17-data-rd1" as="a" exclude="1">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1_ls10400" as="ls">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1_gt10400" as="gt">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1_10400" as="i10400">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <const name="no_dog">0</const>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_351" as="i351">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <const name="no_dog">0</const>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_352" as="i352">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <const name="no_dog">0</const>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_353" as="i353">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1_3511" as="i3511">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog">0</useparam>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_3512" as="i3512">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog">0</useparam>
          </withparams>
        </query>
        <query name="61880-17-data-rd1_3514" as="i3514">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog">0</useparam>
          </withparams>
        </query>
        <query name="61880-17-data-rd1a" as="a1">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-title" as="pars">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="61880_17_new" nogrid="1" form="61880_17_new" title="Макет 4.41 Раздел 1 (новый)" timestamp="27.09.2022 12:17:13">
      <params>
        <usepart part="61880_17-params" />
      </params>
      <procedure>
        <text exclude="1">
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;

       sqlb_rep_61880_17.fill_table_res;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
        <text>
        begin
        delete vr_number_array;
        for rec in (select * from kr_org where kodp in :p_dep)
        loop
        insert into vr_number_array (array_id,val) values ('p_dep',rec.kodp);
        end loop;
        
        for rec in (select * from adr_m where kod_m in :p_kod_adr_m)
        loop
        insert into vr_number_array (array_id,val) values ('adr_m',rec.kod_m);
        end loop;
       sqlb_rep_61880_17.fill_table_res;
        sqlb_rep_61880_17.fill_table(:p_ym_beg);
        end;
      </text>
      </procedure>
      <print-templates>
        <excel>
          <template name="61880_17_r1_new.xlsx" print-proc="2" print-xlsx="1" title="Макет 4.41 Раздел 1" />
        </excel>
      </print-templates>
      <queries>
        <query name="61880-17-data-res" as="res">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
        <query name="61880-17-data-rd1a_new" as="a1">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-data-rd10920_new" as="a10920">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-data-10910" as="a10910">
          <withparams>
            <useparam name="p_kod_adr_m" />
          </withparams>
        </query>
        <query name="61880-17-title" as="pars">
          <withparams>
            <useparam name="p_dep" />
            <useparam name="p_ym_beg" />
            <useparam name="p_kod_adr_m" />
            <useparam name="no_dog" />
          </withparams>
        </query>
      </queries>
    </report>
  </reports>
  <forms>
    <form name="61880_17" timestamp="26.08.2022 11:20:29">
      <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
      <usefield field="asuse_ym_tek_dep" name="p_ym_beg" mandatory="1" title="Период" />
      <usefield field="asuse_adr_m_obj_dep" name="p_kod_adr_m" />
      <usefield type="number" field="cmn_check" name="no_dog" title="Выводить детализацию по договорам" />
    </form>
    <form name="61880_17_new" timestamp="25.08.2022 12:31:32">
      <usefield field="asuse_dep_single" name="p_dep" mandatory="1" />
      <usefield field="asuse_ym_tek_dep" name="p_ym_beg" mandatory="1" title="Период" />
      <usefield field="asuse_adr_m_obj_dep" name="p_kod_adr_m" />
      <usefield type="number" field="cmn_check" name="no_dog" title="Выводить детализацию по договорам" exclude="1" />
    </form>
  </forms>
  <parts>
    <part id="61880_17-params" timestamp="05.04.2022 14:06:03">
      <param type="array" name="p_dep">
        <const exclude="1">1172</const>
      </param>
      <param type="number" name="p_ym_beg">
        <const exclude="1">2021.08</const>
      </param>
      <param type="array" name="p_kod_adr_m">
        <const exclude="1">1172</const>
      </param>
      <param name="no_dog" type="number" />
    </part>
  </parts>
  <views>
    <view name="61880_17-10920-gr" timestamp="19.08.2022 09:34:13">
        select 1 as kod_razd,'Отпуск территориальным сетевым организациям (ТСО) на компенсацию потерь в электрических сетях, всего' as name_razd, 10920 as str_razd_ies, 1 as kod_podrazd , 'межрегиональным распределительным сетевым компаниям (ДО ПАО "Россети")' as name_podrazdel, 10921 as str_porazdel_ies from  dual  union
        select 1,'Отпуск территориальным сетевым организациям (ТСО) на компенсацию потерь в электрических сетях, всего', 10920, 2, 'иным ТСО' ,10922  from  dual
      </view>
  </views>
</root>