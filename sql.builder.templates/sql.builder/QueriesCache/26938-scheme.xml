<?xml version="1.0" encoding="utf-8"?>
<root timestamp="04.09.2023 04:57:17">
  <scheme>
    <table name="26938-gr-1" as="a" title="По договорам">
      <columns>
        <column name="kod_dog" type="number" agg="max" c-master-key="kod_dog" into="n1" key="1" />
        <column name="payer_name" title="Наименование абонента" type="string" agg="list" c-master-key="payer_name" into="s1" key="1" />
        <column name="ndog" title="Номер договора" type="string" agg="stragg_dist" c-master-key="ndog" into="s2" key="1" />
        <column name="numer" title="№ соглашения о задатке" type="string" into="s3" key="0" />
        <column name="dat_doc" title="Дата подписания соглашения о задатке" type="date" into="d1" key="0" />
        <column name="dat_s" title="Начало срока действия соглашения о задатке" type="date" into="d2" key="0" />
        <column name="dat_po" title="Окончание срока действия соглашения о задатке" type="date" into="d3" key="0" />
        <column name="perc" title="% задатка по соглашению" type="number" into="n2" key="0" />
        <column name="money" title="Сумма задатка по соглашению" type="number" into="n3" key="0" />
        <column name="kredit_zadat_beg" title="Cальдо на начало [:ym1]" type="number" agg="sum" into="n4" key="0" class-title="Сальдо на начало периода" />
        <column name="opl_zadat" title="Поступило за период" type="number" agg="sum" into="n5" key="0" />
        <column name="opl_storno_zadat" title="Сторно за период" type="number" agg="sum" into="n6" key="0" />
        <column name="opl_spisanie_zadat" title="Списано задатка" type="number" agg="sum" into="n7" key="0" />
        <column name="opl_zadat_2" title="на основную реализацию" type="number" agg="sum" into="n8" key="0" class-title="Направлено с суммы задатка на погашение задолжнности" />
        <column name="opl_zadat_0" title="на погашение аванса" type="number" agg="sum" into="n9" key="0" class-title="Направлено с суммы задатка на погашение задолжнности" />
        <column name="opl_zadat_other" title="на прочее" type="number" agg="sum" into="n10" key="0" class-title="Направлено с суммы задатка на погашение задолжнности" />
        <column name="kredit_zadat_end" title="Cальдо на конец [:ym2]" type="number" agg="sum" into="n11" key="0" class-title="Сальдо на начало периода" />
        <column name="sid" type="string" into="sid" key="0" />
        <column name="sparentid" type="string" into="sparentid" key="0" />
      </columns>
      <childs>
        <table name="26938-gr-2" as="b" title="По оплатам">
          <joinon>
            <call function="=">
              <column table="a" column="kod_dog" />
              <column table="b" column="kod_dog" />
            </call>
          </joinon>
          <columns>
            <column name="kod_opl_master" type="number" c-master-key="kod_opl_master" into="n1" key="1" />
            <column name="kod_dog" type="number" agg="max" c-master-key="kod_dog" into="n2" key="1" />
            <column name="payer_name" title="Наименование абонента" type="string" agg="list" c-master-key="payer_name" into="s1" key="1" />
            <column name="ndog" title="Номер договора" type="string" agg="stragg_dist" c-master-key="ndog" into="s2" key="1" />
            <column name="numer" title="№ соглашения о задатке" type="string" into="s3" key="0" />
            <column name="dat_doc" title="Дата подписания соглашения о задатке" type="date" into="d1" key="0" />
            <column name="dat_s" title="Начало срока действия соглашения о задатке" type="date" into="d2" key="0" />
            <column name="dat_po" title="Окончание срока действия соглашения о задатке" type="date" into="d3" key="0" />
            <column name="perc" title="% задатка по соглашению" type="number" into="n3" key="0" />
            <column name="money" title="Сумма задатка по соглашению" type="number" into="n4" key="0" />
            <column name="kredit_zadat_beg" title="Cальдо на начало [:ym1]" type="number" agg="sum" into="n5" key="0" class-title="Сальдо на начало периода" />
            <column name="opl_zadat" title="Поступило за период" type="number" agg="sum" into="n6" key="0" />
            <column name="opl_storno_zadat" title="Сторно за период" type="number" agg="sum" into="n7" key="0" />
            <column name="opl_spisanie_zadat" title="Списано задатка" type="number" agg="sum" into="n8" key="0" />
            <column name="num_opl" title="Номер платежного документа" type="string" c-master="kod_opl_master" into="s4" key="0" class-title="Реквизиты п/п по которому поступил задаток" />
            <column name="dat_opl" title="Дата платежного документа" type="date" c-master="kod_opl_master" into="d4" key="0" class-title="Реквизиты п/п по которому поступил задаток" />
            <column name="num_sf" title="Номер СФ" type="number" c-master="kod_opl_master" into="n9" key="0" class-title="Реквизиты СФ созданной на поступление задатка" />
            <column name="dat_sf" title="Дата СФ" type="date" c-master="kod_opl_master" into="d5" key="0" class-title="Реквизиты СФ созданной на поступление задатка" />
            <column name="opl_zadat_2" title="на основную реализацию" type="number" agg="sum" into="n10" key="0" class-title="Направлено с суммы задатка на погашение задолжнности" />
            <column name="opl_zadat_0" title="на погашение аванса" type="number" agg="sum" into="n11" key="0" class-title="Направлено с суммы задатка на погашение задолжнности" />
            <column name="opl_zadat_other" title="на прочее" type="number" agg="sum" into="n12" key="0" class-title="Направлено с суммы задатка на погашение задолжнности" />
            <column name="kredit_zadat_end" title="Cальдо на конец [:ym2]" type="number" agg="sum" into="n13" key="0" class-title="Сальдо на начало периода" />
            <column name="sparentid" type="string" into="sparentid" key="0" />
            <column name="sid" type="string" into="sid" key="0" />
          </columns>
          <viewcolumns>
            <column table="b" name="kod_opl_master" c-master-key="kod_opl_master" type="number" into="n1" assigned="1" visible="0" />
            <column table="b" name="kod_dog" agg="max" c-master-key="kod_dog" type="number" into="n2" assigned="1" visible="0" />
            <column table="b" name="payer_name" agg="list" c-master-key="payer_name" title="Наименование абонента" type="string" into="s1" assigned="1" />
            <column table="b" name="ndog" agg="stragg_dist" c-master-key="ndog" title="Номер договора" type="string" into="s2" assigned="1" />
            <column table="b" name="numer" title="№ соглашения о задатке" type="string" into="s3" assigned="1" />
            <column table="b" name="dat_doc" title="Дата подписания соглашения о задатке" type="date" into="d1" assigned="1" />
            <column table="b" name="dat_s" title="Начало срока действия соглашения о задатке" type="date" into="d2" assigned="1" />
            <column table="b" name="dat_po" title="Окончание срока действия соглашения о задатке" type="date" into="d3" assigned="1" />
            <column table="b" name="perc" title="% задатка по соглашению" type="number" into="n3" assigned="1" />
            <column table="b" name="money" title="Сумма задатка по соглашению" type="number" into="n4" assigned="1" />
            <band title="Сальдо на начало периода">
              <column table="b" name="kredit_zadat_beg" agg="sum" class-title="Сальдо на начало периода" title="Cальдо на начало [:ym1]" type="number" into="n5" assigned="1" />
            </band>
            <column table="b" name="opl_zadat" agg="sum" title="Поступило за период" type="number" into="n6" assigned="1" />
            <column table="b" name="opl_storno_zadat" agg="sum" title="Сторно за период" type="number" into="n7" assigned="1" />
            <column table="b" name="opl_spisanie_zadat" agg="sum" title="Списано задатка" type="number" into="n8" assigned="1" />
            <band title="Реквизиты п/п по которому поступил задаток">
              <column table="b" name="num_opl" c-master="kod_opl_master" class-title="Реквизиты п/п по которому поступил задаток" title="Номер платежного документа" type="string" into="s4" assigned="1" />
              <column table="b" name="dat_opl" c-master="kod_opl_master" class-title="Реквизиты п/п по которому поступил задаток" title="Дата платежного документа" type="date" into="d4" assigned="1" />
            </band>
            <band title="Реквизиты СФ созданной на поступление задатка">
              <column table="b" name="num_sf" c-master="kod_opl_master" class-title="Реквизиты СФ созданной на поступление задатка" title="Номер СФ" type="number" into="n9" assigned="1" />
              <column table="b" name="dat_sf" c-master="kod_opl_master" class-title="Реквизиты СФ созданной на поступление задатка" title="Дата СФ" type="date" into="d5" assigned="1" />
            </band>
            <band title="Направлено с суммы задатка на погашение задолжнности">
              <column table="b" name="opl_zadat_2" agg="sum" class-title="Направлено с суммы задатка на погашение задолжнности" title="на основную реализацию" type="number" into="n10" assigned="1" />
              <column table="b" name="opl_zadat_0" agg="sum" class-title="Направлено с суммы задатка на погашение задолжнности" title="на погашение аванса" type="number" into="n11" assigned="1" />
              <column table="b" name="opl_zadat_other" agg="sum" class-title="Направлено с суммы задатка на погашение задолжнности" title="на прочее" type="number" into="n12" assigned="1" />
            </band>
            <band title="Сальдо на начало периода">
              <column table="b" name="kredit_zadat_end" agg="sum" class-title="Сальдо на начало периода" title="Cальдо на конец [:ym2]" type="number" into="n13" assigned="1" />
            </band>
            <column table="b" name="sparentid" type="string" into="sparentid" assigned="1" visible="0" />
            <column table="b" name="sid" type="string" into="sid" assigned="1" visible="0" />
          </viewcolumns>
        </table>
      </childs>
      <viewcolumns>
        <column table="a" name="kod_dog" agg="max" c-master-key="kod_dog" type="number" into="n1" assigned="1" visible="0" />
        <column table="a" name="payer_name" agg="list" c-master-key="payer_name" title="Наименование абонента" type="string" into="s1" assigned="1" />
        <column table="a" name="ndog" agg="stragg_dist" c-master-key="ndog" title="Номер договора" type="string" into="s2" assigned="1" />
        <column table="a" name="numer" title="№ соглашения о задатке" type="string" into="s3" assigned="1" />
        <column table="a" name="dat_doc" title="Дата подписания соглашения о задатке" type="date" into="d1" assigned="1" />
        <column table="a" name="dat_s" title="Начало срока действия соглашения о задатке" type="date" into="d2" assigned="1" />
        <column table="a" name="dat_po" title="Окончание срока действия соглашения о задатке" type="date" into="d3" assigned="1" />
        <column table="a" name="perc" title="% задатка по соглашению" type="number" into="n2" assigned="1" />
        <column table="a" name="money" title="Сумма задатка по соглашению" type="number" into="n3" assigned="1" />
        <band title="Сальдо на начало периода">
          <column table="a" name="kredit_zadat_beg" agg="sum" class-title="Сальдо на начало периода" title="Cальдо на начало [:ym1]" type="number" into="n4" assigned="1" />
        </band>
        <column table="a" name="opl_zadat" agg="sum" title="Поступило за период" type="number" into="n5" assigned="1" />
        <column table="a" name="opl_storno_zadat" agg="sum" title="Сторно за период" type="number" into="n6" assigned="1" />
        <column table="a" name="opl_spisanie_zadat" agg="sum" title="Списано задатка" type="number" into="n7" assigned="1" />
        <band title="Направлено с суммы задатка на погашение задолжнности">
          <column table="a" name="opl_zadat_2" agg="sum" class-title="Направлено с суммы задатка на погашение задолжнности" title="на основную реализацию" type="number" into="n8" assigned="1" />
          <column table="a" name="opl_zadat_0" agg="sum" class-title="Направлено с суммы задатка на погашение задолжнности" title="на погашение аванса" type="number" into="n9" assigned="1" />
          <column table="a" name="opl_zadat_other" agg="sum" class-title="Направлено с суммы задатка на погашение задолжнности" title="на прочее" type="number" into="n10" assigned="1" />
        </band>
        <band title="Сальдо на начало периода">
          <column table="a" name="kredit_zadat_end" agg="sum" class-title="Сальдо на начало периода" title="Cальдо на конец [:ym2]" type="number" into="n11" assigned="1" />
        </band>
        <column table="a" name="sid" type="string" into="sid" assigned="1" visible="0" />
        <column table="a" name="sparentid" type="string" into="sparentid" assigned="1" visible="0" />
      </viewcolumns>
    </table>
  </scheme>
</root>