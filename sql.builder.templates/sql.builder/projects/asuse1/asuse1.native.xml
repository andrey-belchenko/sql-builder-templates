<?xml version="1.0" encoding="utf-8"?>
<root timestamp="2025-06-29T01:40:55.935412+03:00">
  <customers child-name="customer" key-name="id" />
  <queries child-name="query" key-name="name">
    <query name="23479-title" pushpred="1" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym">
          <const>2014.06</const>
        </param>
        <param name="years" />
      </params>
      <select>
        <usepart part="23479-min-year" as="min_year" />
      </select>
      <from>
        <table name="dual" as="a" />
      </from>
    </query>
    <query name="23479" pushpred="1" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym">
          <const>2014.11</const>
        </param>
        <param name="years">
          <array>2010,2011</array>
        </param>
      </params>
      <select>
        <column table="d_payer" column="kodp" />
        <!--<column table="s_facvip" column="*"/>-->
        <!--<column table="kod_deb" column="date_spis"/>-->
        <column table="voda_par" column="name" as="vod_par_name" />
        <column table="d_payer" column="dat_udal" as="payer_dat_udal" />
        <column table="d_payer" column="inn" />
        <column table="d_payer" column="name" as="payer_name" />
        <column table="kod_ist" column="name" as="ist_name" />
        <column table="kod_otrasl" column="full_name" as="otrasl_full_name" />
        <call function="-nvl" as="ostatok_beg" title="Задолженность (руб.)" class-title="Сальдо на начало периода">
          <column table="this" column="ostatok_deb_beg" />
          <column table="this" column="ostatok_kred_beg" />
        </call>
        <call function="-nvl" as="ostatok_deb_beg" title="Дебеторская задолженность (руб.)" class-title="Сальдо на начало периода">
          <column table="this" column="ostatok_deb_end" />
          <call function="-nvl">
            <column table="this" column="nachislf" />
            <call function="+nvl">
              <column table="this" column="opl_t0" />
              <column table="this" column="opl_t3t4pr" />
              <column table="this" column="opl_t3t4tek" />
              <column table="this" column="spis" />
            </call>
          </call>
        </call>
        <call function="-nvl" as="ostatok_kred_beg" title="Кредиторская задолженность (руб.)" class-title="Сальдо на начало периода">
          <column table="this" column="ostatok_kred_end" />
          <call function="-nvl">
            <column table="this" column="opl_t1t2" />
            <call function="+nvl">
              <column table="this" column="opl_t3t4pr" />
              <column table="this" column="opl_t3t4tek" />
            </call>
          </call>
        </call>
        <call function="-nvl" as="spis_beg" title="Списано (руб.)" class-title="Сальдо на начало периода">
          <column table="this" column="spis_end" />
          <column table="this" column="spis" />
        </call>
        <column table="a" column="nachislf" nvl="0" />
        <column table="a" column="nachislf_by_tgr" nvl="0" />
        <column table="a" column="cust_by_tgr" nvl="0" />
        <column table="a" column="cust_by_edizm" nvl="0" />
        <column table="a" column="spis" nvl="0" />
        <column table="a" column="oplf" nvl="0" />
        <column table="a" column="opl_not_ap" nvl="0" />
        <column table="a" column="opl_ap" nvl="0" />
        <column table="a" column="opl_t0" nvl="0" />
        <column table="a" column="opl_t3t4pr" nvl="0" />
        <column table="a" column="opl_t3t4tek" nvl="0" />
        <column table="a" column="opl_t1t2" nvl="0" />
        <call function="-nvl" as="ostatok_end" title="Задолженность (руб.)">
          <column table="a" column="ostatok_deb_end" />
          <column table="a" column="ostatok_kred_end" />
        </call>
        <column table="a" column="ostatok_deb_end" nvl="0" />
        <column table="a" column="ostatok_kred_end" nvl="0" />
        <column table="a" column="ostatok_last" nvl="0" />
        <column table="a" column="ostatok_last_year" nvl="0" />
        <column table="a" column="ostatok_deb_end_by_god" nvl="0" />
        <column table="a" column="ostatok_do" title="Задолженность за [b.min_year] и ранее" nvl="0" />
        <column table="a" column="ostatok_past" nvl="0" />
        <call function="+nvl" as="ostatok_no_last" title="Задолженность всего без последнего счета (руб.)" class-title="Сальдо на конец периода">
          <column table="this" column="ostatok_past" />
          <column table="this" column="ostatok_last_year" />
        </call>
        <column table="a" column="ostatok_dead" nvl="0" />
        <call function="-nvl" as="ostatok_no_dead" title="Задолженность без учета мертвой (руб.)" class-title="Сальдо на конец периода">
          <column table="this" column="ostatok_deb_end" />
          <column table="this" column="ostatok_dead" />
        </call>
        <column table="a" column="spis_end" nvl="0" />
        <column table="a" column="dolg_deb_end" nvl="0" />
        <column table="a" column="dolg_last_year" nvl="0" />
        <column table="a" column="dolg_isk" nvl="0" />
        <!--<column table="a" column="dolg_isk_by_god" nvl="0" />-->
      </select>
      <from>
        <query name="23479-dim" as="a">
          <withparams>
            <useparam name="ym" />
            <useparam name="years" />
          </withparams>
        </query>
        <query name="d_payer" as="d_payer" join="left outer">
          <link name="kod_ist" />
          <link name="kod_otrasl" />
          <link name="voda_par" />
          <call function="=">
            <column table="d_payer" column="kodp" />
            <column table="a" column="kodp" />
          </call>
        </query>
        <query name="k_vid_real" as="k_vid_real" join="left outer">
          <call function="=">
            <column table="k_vid_real" column="vid_real" />
            <column table="a" column="vid_real" />
          </call>
        </query>
        <query name="s_nachisl" as="s_nachisl" join="left outer">
          <call function="=">
            <column table="a" column="vid_t" />
            <column table="s_nachisl" column="k_vid" />
          </call>
        </query>
        <query name="s_facvip" as="s_facvip" join="left outer">
          <link name="kod_deb" />
          <call function="=">
            <column table="s_facvip" column="kod_sf" />
            <column table="a" column="kod_sf" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <!--<call function="in">
            <column table="a" column="vid_real"/>
            <array>2,8</array>
          </call>-->
          <call function="ge">
            <call function="nvl">
              <column table="d_payer" column="dat_udal" />
              <call function="doomsday" />
            </call>
            <call function="ym begin time">
              <useparam name="ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="23479-dim" pushpred="1" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym">
          <const>2014.06</const>
        </param>
        <param name="years" />
      </params>
      <select>
        <column table="*" column="vid_real" group="1" />
        <column table="*" column="kodp" group="1" />
        <column table="*" column="vid_t" group="1" />
        <column table="*" column="kod_sf" group="1" />
        <!--<column table="c" column="ostatok" as="ostatok_deb_beg" group="sum"/>
        <column table="d" column="ostatok" as="ostatok_kred_beg" group="sum"/>-->
        <column table="a" column="nachislf" group="sum" />
        <column table="a" column="nachislf_by_tgr" group="sum" />
        <column table="a" column="cust_by_tgr" group="sum" />
        <column table="a" column="cust_by_edizm" group="sum" />
        <column table="a1" column="nachislf" as="spis" group="sum" />
        <column table="b" column="oplf" group="sum" />
        <column table="b" column="opl_not_ap" group="sum" />
        <column table="b" column="opl_ap" group="sum" />
        <column table="b" column="opl_t0" group="sum" />
        <column table="b" column="opl_t3t4pr" group="sum" />
        <column table="b" column="opl_t3t4tek" group="sum" />
        <column table="b" column="opl_t1t2" group="sum" />
        <!--<column table="c" column="ostatok_by_ym" group="sum"/>-->
        <column table="e" column="ostatok_do" group="sum" />
        <column table="e" column="spis" as="spis_end" group="sum" />
        <column table="e" column="ostatok_last" group="sum" />
        <column table="e" column="ostatok_past" group="sum" />
        <column table="e" column="ostatok_last_year" group="sum" />
        <column table="e" column="dolg_last_year" group="sum" />
        <column table="g" column="dolg_isk" group="sum" />
        <!--<column table="g" column="dolg_isk_by_god" group="sum"/>-->
        <column table="e" column="ostatok" as="ostatok_deb_end" group="sum" />
        <column table="e" column="dolg" as="dolg_deb_end" group="sum" />
        <column table="e" column="ostatok_by_god" as="ostatok_deb_end_by_god" group="sum" />
        <column table="f" column="ostatok" as="ostatok_kred_end" group="sum" />
        <column table="e" column="ostatok_dead" group="sum" />
      </select>
      <from>
        <query name="23479-nachisl" as="a">
          <withparams>
            <useparam name="ym" />
          </withparams>
        </query>
        <query name="23479-spis" as="a1">
          <withparams>
            <useparam name="ym" />
          </withparams>
        </query>
        <query name="23479-opl" as="b">
          <withparams>
            <useparam name="ym" />
          </withparams>
        </query>
        <!--<query name="23479-saldo-deb-beg" as="c">
          <withparams>
            <useparam name="ym"/>
          </withparams>
        </query>
        <query name="23479-saldo-kred-beg" as="d">
          <withparams>
            <useparam name="ym"/>
          </withparams>
        </query>-->
        <query name="23479-saldo-deb-end" as="e">
          <withparams>
            <useparam name="ym" />
            <useparam name="years" />
          </withparams>
        </query>
        <query name="23479-saldo-kred-end" as="f">
          <withparams>
            <useparam name="ym" />
          </withparams>
        </query>
        <query name="23479-saldo-isk-end" as="g">
          <withparams>
            <useparam name="ym" />
            <useparam name="years" />
          </withparams>
        </query>
        <!--<where>
          <call function="in">
            <column table="*" column="kodp"/>
            <array>
              '601700082',
              '601700164',
              '602701060',
              '107700018',
              '602700975',
              '322601736',
              '602102604',
              '515101608',
              '602105408',
              '602300600',
              '514100300',
              '322302207',
              '602600475',
              '601100905'

            </array>
          </call>
        </where>-->
        <!--<where>
          <call function="in">
            <column table="*" column="kodp"/>
            <array>
              '630601182'
            </array>
          </call>
        </where>-->
      </from>
    </query>
    <query name="23479-nachisl" pushpred="1" title="Начисления" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym" />
      </params>
      <select>
        <column table="a" column="kod_ras" />
        <column table="kod_sf" column="kod_sf" />
        <column table="kod_sf" column="kodp" />
        <column table="kod_sf" column="vid_real" />
        <column table="a" column="vid_t" />
        <column table="a" column="nachislf" />
        <!--<call function="if" as="dolg_last_year" type="number" title="Просроченная задолженность задолженность текущего года (руб.)">
          <call function="=">
              <column table="kod_sf" column="god"/>
              <call function="trunc">
                <useparam name="ym"/>
              </call>
          </call>
          <column table="this" column="dolg"/>
        </call>-->
        <column table="a" column="nachislf" as="nachislf_by_tgr" dimname="tgr">
          <pivot title=" по видам товара">
            <column table="vid_t" column="grup" />
            <query order="grup">
              <select>
                <column table="a" column="grup" />
                <column table="a" column="name" />
              </select>
              <from>
                <query name="s_nachisl_gr" as="a" />
              </from>
            </query>
          </pivot>
        </column>
        <column table="a" column="cust" as="cust_by_tgr" dimname="tgr" />
        <column table="a" column="cust2" as="cust_by_edizm" dimname="edizm">
          <pivot title=" по единицам измерения">
            <column table="edizm2" column="kod" />
            <query order="name">
              <select>
                <column table="a" column="kod" />
                <column table="a" column="name" />
              </select>
              <from>
                <query name="s_edizm_used2" as="a"></query>
              </from>
            </query>
          </pivot>
        </column>
      </select>
      <from>
        <query name="s_facras" as="a">
          <link name="kod_sf" usenl="2" />
          <link name="vid_t" />
          <link name="edizm2" />
        </query>
      </from>
      <where>
        <call function="and">
          <usepart part="23479-osn-and-dpp" />
          <call function="=">
            <column table="kod_sf" column="ym" />
            <useparam name="ym" />
          </call>
        </call>
      </where>
    </query>
    <query name="23479-spis" pushpred="1" title="Начисления" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym" />
      </params>
      <select>
        <column table="a" column="kod_ras" />
        <column table="kod_sf" column="kod_sf" />
        <column table="kod_sf" column="kodp" />
        <column table="kod_sf" column="vid_real" />
        <column table="a" column="vid_t" />
        <column table="a" column="nachislf" title="Списано (руб.)" />
      </select>
      <from>
        <query name="s_facras" as="a">
          <link name="kod_sf" usenl="2">
            <link name="kod_deb" usenl="2" />
          </link>
          <link name="vid_t" />
          <link name="edizm" />
        </query>
      </from>
      <where>
        <call function="and">
          <usepart part="23479-osn-and-dpp" />
          <call function="=">
            <call function="date to ym">
              <column table="kod_deb" column="date_spis" />
            </call>
            <useparam name="ym" />
          </call>
        </call>
      </where>
    </query>
    <query name="23479-opl" title="Оплата" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym" />
      </params>
      <select>
        <column table="s_opl" column="kod_opl" />
        <column table="s_opl" column="kodp" />
        <column table="s_opl" column="vid_pl" as="vid_real" />
        <column table="s_opl" column="oplf" />
        <column table="s_opl" column="opl_t0" />
        <column table="s_opl" column="opl_t3t4pr" />
        <column table="s_opl" column="opl_t3t4tek" />
        <column table="s_opl" column="opl_t1t2" />
        <call function="+nvl" as="opl_not_ap" title="Оплачено (без перепл. и ав.)">
          <column table="this" column="opl_t0" />
          <column table="s_opl" column="opl_t3t4" />
        </call>
        <call function="-nvl" as="opl_ap" title="Переп. и аванс">
          <column table="this" column="opl_t1t2" />
          <column table="s_opl" column="opl_t3t4" />
        </call>
      </select>
      <from>
        <query name="s_opl" as="s_opl">
          <link name="kod_sf" usenl="2">
            <link name="kod_deb" usenl="2" />
          </link>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="s_opl" column="ym" />
            <useparam name="ym" />
          </call>
          <call function="gt">
            <call function="date to ym">
              <call function="nvl">
                <column table="kod_deb" column="date_spis" />
                <call function="doomsday" />
              </call>
            </call>
            <useparam name="ym" />
          </call>
          <call function="or">
            <usepart part="23479-osn-and-dpp" />
            <call function="in">
              <column table="this" column="vid_real" />
              <array>2,0</array>
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="23479-saldo-deb-end" title="Сальдо на конец периода" timestamp="23.03.2016 11:30:51" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym">
          <const>2014.07</const>
        </param>
        <param name="years" />
      </params>
      <select>
        <column table="a" column="kod_ras" />
        <column table="kod_sf" column="kod_sf" />
        <column table="kod_sf" column="dat_sf" />
        <column table="kod_sf" column="ym" />
        <column table="kod_sf" column="kodp" />
        <column table="kod_sf" column="vid_real" />
        <column table="a" column="vid_t" />
        <column table="a" column="ostatok_s" as="ostatok" />
        <column table="a" column="dolg" />
        <call function="if" as="dolg_last_year" type="number" title="Просроченная задолженность текущего года (руб.)">
          <call function="=">
            <column table="kod_sf" column="god" />
            <call function="trunc">
              <useparam name="ym" />
            </call>
          </call>
          <column table="this" column="dolg" />
        </call>
        <column table="a" column="spis" />
        <call function="if" as="ostatok_do" type="number">
          <call function="le">
            <column table="kod_sf" column="god" />
            <usepart part="23479-min-year" />
          </call>
          <column table="this" column="ostatok" />
        </call>
        <call function="if" as="ostatok_last" type="number" title="Задолженность последнего месяца (руб.)">
          <call function="=">
            <column table="kod_sf" column="ym" />
            <!--<call function="date to ym">
              <column table="kod_sf" column="dat_sf"/>
            </call>-->
            <useparam name="ym" />
          </call>
          <column table="this" column="ostatok" />
        </call>
        <call function="if" as="ostatok_last_year" type="number" title="Задолженность текущего года без последнего счета (руб.)">
          <call function="and">
            <call function="=">
              <column table="kod_sf" column="god" />
              <call function="trunc">
                <useparam name="ym" />
              </call>
            </call>
            <call function="!=">
              <column table="kod_sf" column="ym" />
              <useparam name="ym" />
            </call>
          </call>
          <column table="this" column="ostatok" />
        </call>
        <call function="if" as="ostatok_past" type="number" title="Задолженность прошлых лет всего (руб.)">
          <call function="lt">
            <column table="kod_sf" column="god" />
            <call function="trunc">
              <useparam name="ym" />
            </call>
          </call>
          <column table="this" column="ostatok" />
        </call>
        <column table="a" column="ostatok_s" as="ostatok_by_god" dimname="god">
          <pivot title=" по годам">
            <column table="kod_sf" column="god" />
            <query>
              <select>
                <column table="a" column="*" />
              </select>
              <from>
                <query name="n_year" as="a" />
              </from>
              <where>
                <call function="or">
                  <call function="false" />
                  <call function="in" optional="1">
                    <column table="a" column="year" />
                    <useparam name="years" />
                  </call>
                </call>
              </where>
            </query>
          </pivot>
        </column>
        <call function="if" as="ostatok_dead" type="number" title="Мертвая задолженность (руб.)">
          <call function="lt">
            <column table="kod_deb" column="date_dead" />
            <call function="ym end time">
              <useparam name="ym" />
            </call>
          </call>
          <column table="this" column="ostatok_s" />
        </call>
      </select>
      <from>
        <query name="s_facras(date)" as="a">
          <withparams>
            <call function="ym end time">
              <useparam name="ym" />
            </call>
          </withparams>
          <link name="kod_sf" usenl="2">
            <link name="kod_deb" usenl="2" />
          </link>
        </query>
      </from>
      <where>
        <call function="or">
          <usepart part="23479-osn-and-dpp" />
        </call>
      </where>
    </query>
    <query name="23479-saldo-isk-end" title="Сальдо на конец периода" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym">
          <const>2014.07</const>
        </param>
        <param name="years" />
      </params>
      <select>
        <column table="a" column="kod_ras" />
        <column table="kod_sf" column="kod_sf" />
        <column table="kod_sf" column="dat_sf" />
        <column table="kod_sf" column="ym" />
        <column table="kod_sf" column="kodp" />
        <column table="kod_sf" column="vid_real" />
        <column table="a" column="vid_t" />
        <column table="a" column="ostatok_s" />
        <call function="if" as="dolg_isk" type="number" title="Исковая задолженность (руб.)">
          <call function="le">
            <column table="kod_sf" column="dat_cr_isp" />
            <call function="ym end time">
              <useparam name="ym" />
            </call>
          </call>
          <column table="a" column="ostatok_s" />
        </call>
        <!--<call function="if" as="dolg_isk_by_god" type="number" title="Исковая задолженность (руб.)">
          <call function="le">
            <column table="kod_sf" column="dat_cr_isp"/>
            <call function="ym end time">
              <useparam name="ym"/>
            </call>
          </call>
          <column table="a" column="ostatok_s">
            <pivot title=" по годам">
              <column table="kod_sf" column="god"/>
              <query>
                <select>
                  <column table="a" column="*"/>
                </select>
                <from>
                  <query name="n_year" as="a"/>
                </from>
                <where>
                  <call function="or">
                    <call function="false"/>
                    <call function="in" optional="1">
                      <column table="a" column="year"/>
                      <useparam name="years"/>
                    </call>
                  </call>
                </where>
              </query>
            </pivot>
          </column>>
        </call>-->
        <!--<call function="if"  type="number" title="Исковая задолженность (руб.)" as="dolg_isk_by_god">
          <call function="le">
            <column table="kod_sf" column="dat_cr_isp"/>
            <call function="ym end time">
              <useparam name="ym"/>
            </call>
          </call>
          <column table="a" column="ostatok_s"/>
         
        </call>-->
      </select>
      <from>
        <query name="s_facras(date)" as="a">
          <withparams>
            <call function="ym end time">
              <useparam name="ym" />
            </call>
          </withparams>
          <link name="kod_sf" usenl="2">
            <link name="kod_deb" usenl="2" />
          </link>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="not 0">
            <column table="this" column="dolg_isk" />
          </call>
          <call function="!=">
            <column table="kod_sf" column="vid_real" />
            <const>0</const>
          </call>
        </call>
      </where>
    </query>
    <query name="23479-saldo-kred-end" title="Сальдо на конец периода" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym" />
      </params>
      <select>
        <column table="a" column="kod_opl" />
        <column table="a" column="kodp" />
        <const as="kod_sf">null</const>
        <column table="a" column="vid_pl" as="vid_real" />
        <column table="a" column="ostatok" />
      </select>
      <from>
        <query name="s_opl_kred(date)" as="a">
          <withparams>
            <call function="ym end time">
              <useparam name="ym" />
            </call>
          </withparams>
        </query>
      </from>
      <!--<where>
        <call function="not 0">
          <column table="a" column="ostatok"/>
        </call>
      </where>-->
    </query>
    <query name="d_payer%tbl" timestamp="10.10.2017 16:09:32" file="sql.builder.templates\sql.builder\projects\asuse1\reports\34759.xml">
      <select>
        <column table="a" column="kodp" />
        <column table="a" column="kodp" as="nump" />
        <column table="a" column="inn" />
        <column table="a" column="name" />
        <column table="a" column="dat_udal" />
      </select>
      <from>
        <query name="d_payer" as="a" />
      </from>
    </query>
    <query name="34759-data" title="Оборотная ведомость по видам товара (детализация по СФ)" timestamp="16.12.2016 00:05:50" folder="oborot" is-report="1" form="34759" edit-columns="1" allow-save="1" with-behavior="0" file="sql.builder.templates\sql.builder\projects\asuse1\reports\34759.xml">
      <params>
        <usepart part="34759-params" />
      </params>
      <customers>
        <customer id="2" />
      </customers>
      <columns>
        <column name="id" />
        <band title="Абонент">
          <column name="voda_par" title="Вода/Пар" />
          <column name="kodp" title="Код" />
          <column name="names" title="Наименование" />
          <column name="dat_udal" title="Дата удаления" />
        </band>
        <band title="Счет-фактура">
          <column name="num_sf" />
          <column name="dat_sf" />
          <column name="ym" />
          <column name="kod_ras" exclude="1" />
        </band>
        <band title="Вид товара">
          <column name="name" title="Группа" />
          <column name="k_vid" title="Код" />
          <column name="vid_t_name" title="Наименование" />
          <column name="edizm_name" />
        </band>
        <band title="На начало периода">
          <column name="oborot_beg" title="Деб. задолженность" />
          <column name="spis_beg" title="В т.ч. списанная" />
        </band>
        <band title="За период">
          <column name="s_facras_nachisl_nds_ym" title="Начислено " />
          <column name="s_facras_cust_ym" title="Начислено (нат. показат.)" />
          <column name="s_facopl_opl_nds_ym" title="Оплачено" />
          <column name="s_facras_spis_nachislf_ym" title="Списано" />
        </band>
        <band title="На конец периода">
          <column name="oborot_end" title="Деб. задолженность" />
          <column name="spis_end" title="В т.ч. списанная" />
        </band>
      </columns>
      <select>
        <call function="rownum" as="id" key="1" />
        <column table="voda_par" column="name" as="voda_par" />
        <column table="kodp" column="kodp" />
        <column table="kodp" column="dat_udal" title="Дата удаления абонента" />
        <column table="kodp" column="names" title="Наименование абонента" />
        <column table="kod_sf" column="num_sf" />
        <column table="kod_sf" column="dat_sf" />
        <call function="||" as="num_sf" title="Дата и номер счета/СФ" exclude="1">
          <const>'№ '</const>
          <column table="kod_sf" column="nom_sf" />
          <const>' от '</const>
          <call function="date to char">
            <column table="kod_sf" column="dat_sf" />
          </call>
        </call>
        <column table="kod_sf" column="ym" title="Отчетный период начисления" agg="no" />
        <column table="kod_ras" column="kod_ras" exclude="1" />
        <column table="kod_edizm" column="kod" exclude="1" />
        <column table="kod_edizm" column="name" title="Наименование нат. показат." as="edizm_name" />
        <column table="vid_t_gr" column="name" title="Вид товара (группа)" />
        <column table="vid_t" column="k_vid" title="Вид товара (код)" agg="no" />
        <column table="vid_t" column="name" title="Вид товара (наименование)" as="vid_t_name" />
        <fact column="oborot_beg" title="Деб. задолженность на начало периода" />
        <fact column="spis_beg" title="В т.ч. списанная задолженность на начало периода" />
        <fact column="s_facras_nachisl_nds_ym" title="Начислено за период" />
        <fact column="s_facras_cust_ym" title="Начислено за период (нат. показат.)" />
        <fact column="s_facopl_opl_nds_ym" title="Оплачено за период" />
        <fact column="s_facras_spis_nachislf_ym" title="Списано за период" />
        <fact column="oborot_end" title="Деб. задолженность на конец периода" />
        <fact column="spis_end" title="В т.ч. списанная задолженность на конец периода" />
      </select>
      <expressions>
        <call function="between" as="cond1" exclude="1">
          <column table="ym" column="val" />
          <useparam name="ym1" />
          <useparam name="ym2" />
        </call>
        <call function="and" as="cond2" exclude="1">
          <call function="lt">
            <column table="ym" column="val" />
            <useparam name="ym1" />
          </call>
        </call>
        <call function="and" as="cond3" exclude="1">
          <call function="le">
            <column table="ym" column="val" />
            <useparam name="ym2" />
          </call>
        </call>
        <call function="if" as="s_facopl_opl_nds_ym" group="sum">
          <call function="between" as="cond1">
            <column table="ym" column="val" />
            <useparam name="ym1" />
            <useparam name="ym2" />
          </call>
          <fact column="s_facopl_opl_nds" />
        </call>
        <call function="if" as="s_facras_nachisl_nds_ym" group="sum">
          <call function="between" as="cond1">
            <column table="ym" column="val" />
            <useparam name="ym1" />
            <useparam name="ym2" />
          </call>
          <fact column="s_facras_nachisl_nds" />
        </call>
        <call function="if" as="s_facras_cust_ym" group="sum">
          <call function="between" as="cond1">
            <column table="ym" column="val" />
            <useparam name="ym1" />
            <useparam name="ym2" />
          </call>
          <fact column="s_facras_cust" />
        </call>
        <call function="if" as="s_facras_spis_nachislf_ym" group="sum">
          <call function="between" as="cond1">
            <column table="ym" column="val" />
            <useparam name="ym1" />
            <useparam name="ym2" />
          </call>
          <!--<fact column="s_facras_spis_nachislf" />-->
          <fact column="oborot_spis" />
        </call>
        <call function="if" as="oborot_beg" group="sum">
          <call function="and" as="cond2">
            <call function="lt">
              <column table="ym" column="val" />
              <useparam name="ym1" />
            </call>
          </call>
          <fact column="oborot" />
        </call>
        <call function="if" as="spis_beg" group="sum">
          <call function="and" as="cond2">
            <call function="lt">
              <column table="ym" column="val" />
              <useparam name="ym1" />
            </call>
          </call>
          <fact column="oborot_spis" />
        </call>
        <call function="if" as="oborot_end" group="sum">
          <call function="and" as="cond3">
            <call function="le">
              <column table="ym" column="val" />
              <useparam name="ym2" />
            </call>
          </call>
          <fact column="oborot" />
        </call>
        <call function="if" as="spis_end" group="sum">
          <call function="and" as="cond3">
            <call function="le">
              <column table="ym" column="val" />
              <useparam name="ym2" />
            </call>
          </call>
          <fact column="oborot_spis" />
        </call>
      </expressions>
      <from>
        <qube>
          <link name="kod_sf">
            <link name="dpp_kod_sf" />
          </link>
          <link name="kod_ras" />
          <link name="kodp">
            <link name="voda_par" />
          </link>
          <link name="kod_edizm" />
          <link name="vid_t" />
          <link name="vid_t_gr" />
          <where>
            <call function="and">
              <call function="or">
                <call function="in">
                  <column table="kod_sf" column="vid_real" />
                  <array>2</array>
                </call>
                <call function="=1">
                  <column table="dpp_kod_sf" column="pr_osn2" />
                </call>
              </call>
              <call function="in" exclude="1">
                <column table="kod_edizm" column="kod" />
                <array>-2,1,2</array>
              </call>
              <call function="in" optional="1">
                <column table="kodp" column="kodp" />
                <useparam name="kodp" />
                <!--<array>322603183</array>
                <const exclude="1">514600426</const>-->
              </call>
              <call function="in" optional="1">
                <column table="kodp" column="voda_par" />
                <useparam name="voda_par" />
              </call>
            </call>
          </where>
        </qube>
      </from>
      <where>
        <call function="!=0">
          <const>0</const>
          <column column="oborot_beg" title="Деб. задолженность на начало периода" table="this" />
          <column column="spis_beg" title="В т.ч. списанная задолженность на начало периода" table="this" />
          <column column="s_facras_nachisl_nds_ym" title="Начислено за период" table="this" />
          <column column="s_facopl_opl_nds_ym" title="Оплачено за период" table="this" />
          <column column="s_facras_spis_nachislf_ym" title="Списано за период" table="this" />
          <column column="oborot_end" title="Деб. задолженность на конец периода" table="this" />
          <column column="spis_end" title="В т.ч. списанная задолженность на конец периода" table="this" />
        </call>
      </where>
      <grouping exclude="1">
        <grset as="all" title="Итого">
          <grset as="edizm" title="По видам товара" order="name">
            <group>
              <sourcelink table="kod_edizm" />
            </group>
            <grset as="kodp" title="Абоненты">
              <group>
                <sourcelink table="kodp" />
              </group>
              <where>
                <call function="or">
                  <call function="!=0">
                    <column table="this" column="oborot_beg" />
                  </call>
                  <call function="!=0">
                    <column table="this" column="s_facras_nachisl_nds_ym" />
                  </call>
                  <call function="!=0">
                    <column table="this" column="s_facopl_opl_nds_ym" />
                  </call>
                  <call function="!=0">
                    <column table="this" column="oborot_end" />
                  </call>
                </call>
              </where>
              <grset as="sf" title="По СФ">
                <group>
                  <sourcelink table="kod_sf" />
                </group>
              </grset>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="36927" timestamp="22.09.2016 21:48:42" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <params>
        <usepart part="36927-params" />
      </params>
      <expressions>
        <call function="if" as="opl_spis" group="sum" type="number">
          <call function="=1">
            <call function="nvlu">
              <useparam name="use_spis" />
              <const>0</const>
            </call>
          </call>
          <fact column="s_opl_spis_oplf" />
        </call>
        <call function="if" as="nachl_spis" group="sum" type="number">
          <call function="=1">
            <call function="nvlu">
              <useparam name="use_spis" />
              <const>0</const>
            </call>
          </call>
          <fact column="s_facras_spis_nachislf" />
        </call>
        <call function="-nvl" as="opl_pr" group="sum">
          <fact column="s_opl_oplf" />
          <fact column="opl_spis" />
        </call>
        <call function="-nvl" as="nach_pr" group="sum">
          <fact column="s_facras_nachisl_nds" />
          <fact column="nachl_spis" />
        </call>
        <call function="if" as="opl_do" group="sum" type="number">
          <call function="and">
            <call function="lt">
              <column table="dat" column="val" />
              <column table="dat_ur" column="val" />
            </call>
          </call>
          <fact column="opl_pr" />
        </call>
        <call function="if" as="opl_posle" group="sum" type="number">
          <call function="and">
            <call function="ge">
              <column table="dat" column="val" />
              <column table="dat_ur" column="val" />
            </call>
          </call>
          <fact column="opl_pr" />
        </call>
        <call function="-nvl" as="oborot_do" group="sum" title="Задолженность с НДС (руб)" type="number">
          <fact column="nach_pr" />
          <fact column="opl_do" />
        </call>
        <call function="-nvl" as="oborot_ur" group="sum" title="Задолженность с НДС (руб)" type="number">
          <fact column="oborot_do" />
          <fact column="opl_posle" />
        </call>
        <call function="if" as="dolg_beg" group="sum" type="number">
          <call function="lt">
            <column table="dat_ur" column="val" />
            <useparam name="dat1" />
          </call>
          <fact column="oborot_ur" />
        </call>
        <call function="if" as="nach_prizn" group="sum" type="number">
          <call function="and">
            <call function="ge">
              <column table="dat_ur" column="val" />
              <useparam name="dat1" />
            </call>
            <call function="le">
              <column table="dat_ur" column="val" />
              <useparam name="dat2" />
            </call>
          </call>
          <fact column="nach_pr" />
        </call>
        <call function="if" as="opl_prizn" group="sum" type="number">
          <call function="and">
            <call function="ge">
              <column table="dat_ur" column="val" />
              <useparam name="dat1" />
            </call>
            <call function="le">
              <column table="dat_ur" column="val" />
              <useparam name="dat2" />
            </call>
          </call>
          <fact column="opl_do" />
        </call>
        <call function="if" as="opl" group="sum" type="number">
          <call function="and">
            <call function="ge">
              <column table="dat" column="val" />
              <useparam name="dat1" />
            </call>
            <call function="le">
              <column table="dat" column="val" />
              <useparam name="dat2" />
            </call>
          </call>
          <fact column="opl_posle" />
        </call>
        <call function="if" as="dolg_end" group="sum" type="number">
          <call function="le">
            <column table="dat_ur" column="val" />
            <useparam name="dat2" />
          </call>
          <fact column="oborot_ur" />
        </call>
      </expressions>
      <select>
        <column table="kod_ur_sf_isp" column="dat_cr_isp" />
        <column table="kod_ur_sf_isp" column="kod_ur_sf_isp" as="kod_invoice" />
        <column table="kod_ur_sf_isp" column="num_isp" title="Номер ИЛ" />
        <column table="kod_ur_sf_isp" column="num_delo" title="Номер дела" />
        <column table="kod_sf" column="kod_sf" />
        <column table="kod_opl" column="kod_opl" />
        <column table="kod_opl" column="datao" />
        <column table="kodp" column="kodp" />
        <fact column="dolg_beg" nullif="0" />
        <fact column="nach_prizn" nullif="0" />
        <fact column="opl_prizn" table="opl" nullif="0" as="opl_do" />
        <fact column="opl" table="opl" nullif="0" />
        <fact column="dolg_end" nullif="0" />
        <fact column="oborot_o_spis" exclude="1" />
      </select>
      <from>
        <qube>
          <dimset as="opl">
            <link name="kod_opl" />
          </dimset>
          <link name="kod_ur_sf_isp" />
          <link name="kodp" />
          <link name="kod_sf" />
          <link name="dat" exclude="1" />
          <link name="dat_ur" exclude="1" />
          <where>
            <call function="and">
              <call function="is not null">
                <column table="kod_ur_sf_isp" column="kod_ur_sf_isp" />
              </call>
              <call function="=" exclude="1">
                <column table="kodp" column="kodp" />
                <const>322603211</const>
              </call>
              <call function="is null">
                <column table="kod_sf" column="ym_end_dolg" />
              </call>
              <call function="!=0">
                <column table="kod_sf" column="vid_real" />
              </call>
              <call function="=" exclude="1">
                <column table="kod_sf" column="kod_sf" />
                <const>1017992</const>
              </call>
            </call>
          </where>
        </qube>
      </from>
      <where>
        <call function="!=0">
          <fact column="dolg_beg" nullif="0" />
          <fact column="nach_prizn" nullif="0" />
          <fact column="opl" table="opl" nullif="0" />
          <fact column="opl_prizn" table="opl" nullif="0" as="opl_do" thissrc="opl_do" />
        </call>
      </where>
    </query>
    <query name="36927_l1" timestamp="23.09.2016 12:59:41" materialize="1" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <params>
        <usepart part="36927-params" />
      </params>
      <select>
        <column table="a" column="dat_cr_isp" />
        <column table="a" column="kod_invoice" />
        <column table="a" column="kod_sf" />
        <column table="a" column="kod_opl" />
        <column table="a" column="num_delo" title="Номер дела" />
        <column table="a" column="num_isp" title="Номер ИЛ" />
        <column table="a" column="datao" title="Дата оплаты" />
        <column table="a" column="kodp" />
        <column table="a" column="dolg_beg" />
        <column table="a" column="nach_prizn" />
        <column table="a" column="opl_do" />
        <column table="a" column="opl" />
        <column table="a" column="dolg_end" />
        <call function="over" as="cnt_nach" type="number">
          <call function="count">
            <column table="a" column="nach_prizn" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_sf" />
          </call>
        </call>
        <call function="over" as="cnt_dolg_beg" type="number">
          <call function="count">
            <column table="a" column="dolg_beg" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_sf" />
          </call>
        </call>
        <call function="over" as="cnt_dolg_end" type="number">
          <call function="count">
            <column table="a" column="dolg_end" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_sf" />
          </call>
        </call>
        <call function="over" as="cnt_opl_do" type="number">
          <call function="count">
            <column table="a" column="opl_do" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_opl" />
          </call>
        </call>
        <call function="over" as="cnt_opl" type="number" title="Оплачено">
          <call function="count">
            <column table="a" column="opl" />
          </call>
          <call function="partition by">
            <column table="a" column="kod_opl" />
          </call>
        </call>
        <call as="nach_prizn_norm" function="/nvl">
          <column table="a" column="nach_prizn" />
          <column table="this" column="cnt_nach" />
        </call>
        <call as="opl_do_norm" function="/nvl" title="Оплачено">
          <column table="a" column="opl_do" />
          <column table="this" column="cnt_opl_do" />
        </call>
        <call function="-nvl" as="nach_norm" nvl="0" title="Начислено">
          <column table="this" column="nach_prizn_norm" />
          <column table="this" column="opl_do_norm" />
        </call>
        <call as="dolg_end_norm" function="/nvl" nvl="0" title="Задолженность на [:dat2str]">
          <column table="a" column="dolg_end" />
          <column table="this" column="cnt_dolg_end" />
        </call>
        <call as="dolg_beg_norm" function="/nvl" nvl="0" title="Задолженность на [:dat1str]">
          <column table="a" column="dolg_beg" />
          <column table="this" column="cnt_dolg_beg" />
        </call>
        <call as="opl_norm" function="/nvl" nvl="0" title="Оплачено">
          <column table="a" column="opl" />
          <column table="this" column="cnt_opl" />
        </call>
      </select>
      <from>
        <query name="36927" as="a">
          <withparams>
            <usepart part="36927-withparams" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="36927_l2" timestamp="19.09.2016 18:21:20" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <params>
        <usepart part="36927-params" />
      </params>
      <select>
        <column table="a" column="kod_invoice" group="1" />
        <column table="a" column="kod_sf" group="1" />
        <column table="s_facvip" column="vid_real" group="1" />
        <column table="pr_obr" column="pr_obr" group="1" exclude="1" />
        <column table="a" column="kodp" group="1" />
        <call function="if" as="dolg_beg_norm" type="number" exclude="1">
          <call function="gt">
            <column table="a" column="dolg_beg_norm" group="sum" />
            <const>0</const>
          </call>
          <column table="a" column="dolg_beg_norm" group="sum" />
        </call>
        <column table="a" column="dolg_beg_norm" group="sum" />
        <column table="a" column="nach_norm" group="sum" />
        <column table="a" column="opl_norm" group="sum" />
        <column table="a" column="dolg_end_norm" group="sum" />
      </select>
      <from>
        <query name="36927_l1" as="a">
          <withparams>
            <usepart part="36927-withparams" />
          </withparams>
        </query>
        <query name="s_facvip" join="left outer">
          <link name="kod_deb" exclude="1">
            <elink name="s_debet_state">
              <link name="pr_obr" />
            </elink>
          </link>
          <call function="=">
            <column table="s_facvip" column="kod_sf" />
            <column table="a" column="kod_sf" />
          </call>
        </query>
      </from>
      <where exclude="1">
        <call function="=">
          <column table="pr_obr" column="pr_nokniga" />
          <const>1</const>
        </call>
      </where>
    </query>
    <query name="36927_abon" timestamp="22.09.2016 19:24:29" order="name" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <params>
        <usepart part="36927-params" />
      </params>
      <select>
        <column table="kodp" column="name" group="1" />
        <column table="a" column="kodp" group="1" />
        <column table="kodp" column="inn" group="1" />
        <column table="a" column="dolg_beg_norm" group="sum" />
        <column table="a" column="nach_norm" group="sum" />
        <column table="a" column="opl_norm" group="sum" />
        <column table="a" column="dolg_end_norm" group="sum" />
      </select>
      <from>
        <query name="36927_l1" as="a">
          <withparams>
            <usepart part="36927-withparams" />
          </withparams>
        </query>
        <query name="s_facvip" join="left outer">
          <link name="kodp" />
          <link name="kod_deb" exclude="1">
            <elink name="s_debet_state">
              <link name="pr_obr" />
            </elink>
          </link>
          <call function="=">
            <column table="s_facvip" column="kod_sf" />
            <column table="a" column="kod_sf" />
          </call>
        </query>
      </from>
      <where exclude="1">
        <call function="=">
          <column table="pr_obr" column="pr_nokniga" />
          <const>1</const>
        </call>
      </where>
    </query>
    <query name="36927_isp" timestamp="20.09.2016 03:00:55" order="name,num_isp" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <params>
        <usepart part="36927-params" />
      </params>
      <select>
        <column table="kodp" column="name" group="1" />
        <column table="a" column="kodp" group="1" />
        <column table="kodp" column="inn" group="1" />
        <column table="a" column="num_delo" group="1" />
        <column table="a" column="num_isp" group="1" />
        <column table="a" column="datao" group="max" title="Дата оплаты " />
        <column table="a" column="dolg_beg_norm" group="sum" />
        <column table="a" column="nach_norm" group="sum" />
        <column table="a" column="opl_norm" group="sum" />
        <column table="a" column="dolg_end_norm" group="sum" />
      </select>
      <from>
        <query name="36927_l1" as="a">
          <withparams>
            <usepart part="36927-withparams" />
          </withparams>
        </query>
        <query name="s_facvip" join="left outer">
          <link name="kodp" />
          <link name="kod_deb" exclude="1">
            <elink name="s_debet_state">
              <link name="pr_obr" />
            </elink>
          </link>
          <call function="=">
            <column table="s_facvip" column="kod_sf" />
            <column table="a" column="kod_sf" />
          </call>
        </query>
      </from>
      <where exclude="1">
        <call function="=">
          <column table="pr_obr" column="pr_nokniga" />
          <const>1</const>
        </call>
      </where>
    </query>
    <query name="36927_dat1_str" timestamp="22.09.2016 22:16:13" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <params>
        <param name="dat1" type="date" />
      </params>
      <select>
        <call function="date to char" as="val">
          <useparam name="dat1" />
        </call>
      </select>
      <from>
        <query name="dual" />
      </from>
    </query>
    <query name="36927_dat2_str" timestamp="22.09.2016 22:20:35" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <params>
        <param name="dat2" type="date" />
      </params>
      <select>
        <call function="date to char" as="val">
          <useparam name="dat2" />
        </call>
      </select>
      <from>
        <query name="dual" />
      </from>
    </query>
    <query name="36927_dat1" timestamp="23.09.2016 12:08:53" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <select>
        <call function="ym begin time" as="val">
          <call function="date to ym">
            <call function="sysdate" />
          </call>
        </call>
      </select>
      <from>
        <query name="dual" />
      </from>
    </query>
    <query name="36927_dat2" timestamp="23.09.2016 12:11:15" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <select>
        <call function="sysdate" as="val" />
      </select>
      <from>
        <query name="dual" />
      </from>
    </query>
    <query name="38445(20)-all" timestamp="19.12.2016 19:58:10" order="kodp,ym" file="sql.builder.templates\sql.builder\projects\asuse1\reports\38445(20).xml">
      <params>
        <param name="p_kodp_array_id" type="number">
          <const>'list1'</const>
        </param>
      </params>
      <select>
        <column table="c" column="kodp" />
        <column table="c" column="ym" />
        <column table="a" column="nachisl" />
        <column table="a" column="opl" />
        <column table="a" column="ob_deb" />
        <call function="over" as="dolg_deb" type="number">
          <call function="sum">
            <column table="a" column="ob_deb" />
          </call>
          <call function="partition by">
            <column table="this" column="kodp" />
          </call>
          <call function="order by 2">
            <column table="this" column="ym" />
          </call>
        </call>
        <call function="over" as="dolg_kred" type="number">
          <call function="sum">
            <column table="a" column="ob_kred" />
          </call>
          <call function="partition by">
            <column table="this" column="kodp" />
          </call>
          <call function="order by 2">
            <column table="this" column="ym" />
          </call>
        </call>
      </select>
      <from>
        <query name="38445(20)-1" as="a">
          <withparams>
            <useparam name="p_kodp_array_id" />
          </withparams>
        </query>
        <query name="38445(20)-prfl" as="c" join="right outer">
          <call function="and">
            <call function="=">
              <column table="c" column="ym" />
              <column table="a" column="ym" />
            </call>
            <call function="=">
              <column table="c" column="kodp" />
              <column table="a" column="kodp" />
            </call>
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="true" />
        </call>
      </where>
    </query>
    <query name="38445(20)-1" timestamp="19.12.2016 19:58:04" order="kodp,ym" materialize="1" file="sql.builder.templates\sql.builder\projects\asuse1\reports\38445(20).xml">
      <params>
        <param name="p_kodp_array_id" type="string">
          <const>'list1'</const>
        </param>
      </params>
      <expressions>
        <call as="vid_real_2_8" function="in" exclude="1">
          <column table="kod_sf" column="vid_real" />
          <array>2,8</array>
        </call>
        <call as="vid_real_2_8" function="=1">
          <column table="kod_sf" column="pr_osn2_stored" />
        </call>
        <call as="nachisl" group="sum" function="()" type="number">
          <fact column="s_facras_nachisl_nds" condition="vid_real_2_8" />
        </call>
        <call as="opl_2_8" group="sum" function="if" type="number">
          <call function="in">
            <column table="kod_opl" column="kod_type_opl" />
            <array>0</array>
          </call>
          <fact column="s_facopl_oplf" condition="vid_real_2_8" />
        </call>
        <call as="opl" group="sum" function="+nvl">
          <fact column="opl_2_8" />
          <fact column="s_opl_kred_oplf" />
        </call>
        <call as="ob_deb" group="sum" function="-nvl" type="number">
          <fact column="oborot" condition="vid_real_2_8" />
          <fact column="oborot_spis" condition="vid_real_2_8" />
        </call>
        <call as="ob_kred" group="sum" function="()" type="number">
          <fact column="oborot_kr" />
        </call>
      </expressions>
      <select>
        <column table="kodp" column="kodp" />
        <column table="ym" column="val" as="ym" />
        <fact column="nachisl" />
        <fact column="opl" />
        <fact column="ob_kred" />
        <fact column="ob_deb" />
      </select>
      <from>
        <qube>
          <link name="ym" />
          <link name="kodp" />
          <where exclude="1">
            <call function="in">
              <column table="kodp" column="kodp" />
              <array>102100400</array>
            </call>
            <call function="in" exclude="1">
              <column table="kodp" column="kodp" />
              <query>
                <select>
                  <column table="a" column="val" />
                </select>
                <from>
                  <query name="vr_number_array" as="a" />
                </from>
                <where>
                  <call function="=">
                    <column table="a" column="array_id" />
                    <useparam name="p_kodp_array_id" />
                  </call>
                </where>
              </query>
            </call>
          </where>
        </qube>
      </from>
    </query>
    <query name="38445(20)-prfl" timestamp="19.12.2016 19:57:50" order="kodp,ym" materialize="1" file="sql.builder.templates\sql.builder\projects\asuse1\reports\38445(20).xml">
      <params>
        <param name="p_kodp_array_id" type="string">
          <const>'list1'</const>
        </param>
      </params>
      <select>
        <column table="kodp" column="kodp" />
        <column table="ym" column="ym" />
      </select>
      <from>
        <query name="d_payer" as="kodp" />
        <query name="n_calc_dist" as="ym" join="cross" />
      </from>
      <where exclude="1">
        <call function="in">
          <column table="kodp" column="kodp" />
          <array>102100400</array>
        </call>
        <call function="in" exclude="1">
          <column table="kodp" column="kodp" />
          <query>
            <select>
              <column table="a" column="val" />
            </select>
            <from>
              <query name="vr_number_array" as="a" />
            </from>
            <where>
              <call function="=">
                <column table="a" column="array_id" />
                <useparam name="p_kodp_array_id" />
              </call>
            </where>
          </query>
        </call>
      </where>
    </query>
    <query name="qry_38445_20" timestamp="19.12.2016 19:08:02" order="kodp,ym" file="sql.builder.templates\sql.builder\projects\asuse1\reports\38445(20).xml">
      <params>
        <param type="number" name="ym1">
          <const>2007.01</const>
        </param>
        <param type="number" name="ym2">
          <const>2017.08</const>
        </param>
      </params>
      <select>
        <column table="a" column="*" />
      </select>
      <from>
        <query name="38445(20)-all" as="a" />
      </from>
      <where>
        <call function="between">
          <column table="a" column="ym" />
          <useparam name="ym1" />
          <useparam name="ym2" />
        </call>
      </where>
    </query>
    <query name="38445(20)-test" timestamp="19.12.2016 17:28:53" file="sql.builder.templates\sql.builder\projects\asuse1\reports\38445(20).xml">
      <params>
        <param name="p_kodp_array_id" type="string">
          <const>'list1'</const>
        </param>
      </params>
      <expressions>
        <call as="vid_real_2_8" function="in" exclude="1">
          <column table="kod_sf" column="vid_real" />
          <array>2,8</array>
        </call>
        <call as="vid_real_2_8" function="=1">
          <column table="kod_sf" column="pr_osn2_stored" />
        </call>
        <call as="nachisl" group="sum" function="()" type="number">
          <fact column="s_facras_nachisl_nds" condition="vid_real_2_8" />
        </call>
        <call as="opl_2_8" group="sum" function="if" type="number">
          <call function="in">
            <column table="kod_opl" column="kod_type_opl" />
            <array>0</array>
          </call>
          <fact column="s_facopl_oplf" condition="vid_real_2_8" />
        </call>
        <call as="opl" group="sum" function="+nvl">
          <fact column="opl_2_8" />
          <fact column="s_opl_kred_oplf" />
        </call>
        <call as="ob_deb" group="sum" function="-nvl" type="number">
          <fact column="oborot" condition="vid_real_2_8" />
          <fact column="oborot_spis" condition="vid_real_2_8" />
        </call>
        <call as="ob_kred" group="sum" function="()" type="number">
          <fact column="oborot_kr" />
        </call>
        <call function="if" as="oborot_end" group="sum">
          <call function="and" as="cond3">
            <call function="le">
              <column table="ym" column="val" />
              <const>2016.10</const>
            </call>
          </call>
          <fact column="oborot" />
        </call>
      </expressions>
      <select>
        <column table="kodp" column="kodp" />
        <column table="ym" column="val" as="ym" />
        <fact column="nachisl" />
        <fact column="opl" />
        <fact column="ob_kred" />
        <fact column="ob_deb" />
        <fact column="oborot" exclude="1" />
        <fact column="oborot_end" />
      </select>
      <from>
        <qube>
          <link name="ym" />
          <link name="kod_sf" exclude="1">
            <link name="dpp_kod_sf" />
          </link>
          <link name="kodp" />
          <where>
            <call function="in">
              <column table="kodp" column="kodp" />
              <array>102100400</array>
            </call>
            <call function="le" exclude="1">
              <column table="ym" column="val" />
              <const>2016.10</const>
            </call>
            <call function="or" exclude="1">
              <call function="in">
                <column table="kod_sf" column="vid_real" />
                <array>2</array>
              </call>
              <call function="=1">
                <column table="dpp_kod_sf" column="pr_osn2" />
              </call>
            </call>
            <call function="in" exclude="1">
              <column table="kodp" column="kodp" />
              <query>
                <select>
                  <column table="a" column="val" />
                </select>
                <from>
                  <query name="vr_number_array" as="a" />
                </from>
                <where>
                  <call function="=">
                    <column table="a" column="array_id" />
                    <useparam name="p_kodp_array_id" />
                  </call>
                </where>
              </query>
            </call>
          </where>
        </qube>
      </from>
    </query>
    <query name="38445(20)-test2" timestamp="19.12.2016 17:34:28" order="kodp,ym" file="sql.builder.templates\sql.builder\projects\asuse1\reports\38445(20).xml">
      <params>
        <param name="p_kodp_array_id" type="string">
          <const>'list1'</const>
        </param>
      </params>
      <expressions>
        <call as="vid_real_2_8" function="in" exclude="1">
          <column table="kod_sf" column="vid_real" />
          <array>2,8</array>
        </call>
        <call as="vid_real_2_8" function="=1">
          <column table="kod_sf" column="pr_osn2_stored" />
        </call>
        <call as="nachisl" group="sum" function="()" type="number">
          <fact column="s_facras_nachisl_nds" condition="vid_real_2_8" />
        </call>
        <call as="opl_2_8" group="sum" function="if" type="number">
          <call function="in">
            <column table="kod_opl" column="kod_type_opl" />
            <array>0</array>
          </call>
          <fact column="s_facopl_oplf" condition="vid_real_2_8" />
        </call>
        <call as="opl" group="sum" function="+nvl">
          <fact column="opl_2_8" />
          <fact column="s_opl_kred_oplf" />
        </call>
        <call as="ob_deb" group="sum" function="-nvl" type="number">
          <fact column="oborot" condition="vid_real_2_8" />
          <fact column="oborot_spis" condition="vid_real_2_8" />
        </call>
        <call as="ob_kred" group="sum" function="()" type="number">
          <fact column="oborot_kr" />
        </call>
      </expressions>
      <select>
        <column table="kodp" column="kodp" />
        <column table="ym" column="val" as="ym" />
        <fact column="nachisl" />
        <fact column="opl" />
        <fact column="ob_kred" />
        <fact column="ob_deb" />
      </select>
      <from>
        <qube>
          <link name="ym" />
          <link name="kodp" />
          <where>
            <call function="in">
              <column table="kodp" column="kodp" />
              <array>102100400</array>
            </call>
            <call function="in" exclude="1">
              <column table="kodp" column="kodp" />
              <query>
                <select>
                  <column table="a" column="val" />
                </select>
                <from>
                  <query name="vr_number_array" as="a" />
                </from>
                <where>
                  <call function="=">
                    <column table="a" column="array_id" />
                    <useparam name="p_kodp_array_id" />
                  </call>
                </where>
              </query>
            </call>
          </where>
        </qube>
      </from>
    </query>
    <query name="48118" timestamp="23.08.2018 19:33:25" is-report="1" use-temp="1" file="sql.builder.templates\sql.builder\projects\asuse1\reports\48118.xml">
      <params>
        <param name="p_kodp_array_id" type="string">
          <const>'list1'</const>
        </param>
        <param name="p_date" type="date">
          <const>sysdate-10</const>
        </param>
        <param name="p_ym" type="number">
          <const>2018.05</const>
        </param>
      </params>
      <select>
        <column table="a" column="kodp" group="1" />
        <column table="a" column="ob_deb" as="dz" group="sum" />
        <column table="a" column="ob_kred" as="kz" group="sum" />
        <column table="a" column="ym" as="first_dolg_ym" group="min" />
      </select>
      <from>
        <query name="48118-1" as="a">
          <withparams>
            <useparam name="p_kodp_array_id" />
            <useparam name="p_date" />
            <useparam name="p_ym" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="48118-1" timestamp="27.06.2018 18:51:14" file="sql.builder.templates\sql.builder\projects\asuse1\reports\48118.xml">
      <params>
        <param name="p_kodp_array_id" type="string">
          <const>'list1'</const>
        </param>
        <param name="p_date" type="date">
          <const>sysdate-10</const>
        </param>
        <param name="p_ym" type="number">
          <const>2018.05</const>
        </param>
      </params>
      <expressions>
        <call as="vid_real_2_8" function="in" exclude="1">
          <column table="kod_sf" column="vid_real" />
          <array>2,8</array>
        </call>
        <call as="vid_real_2_8" function="=1">
          <column table="kod_sf" column="pr_osn2_stored" />
        </call>
        <call as="nachisl" group="sum" function="()" type="number">
          <fact column="s_facras_nachisl_nds" condition="vid_real_2_8" />
        </call>
        <call as="opl_2_8" group="sum" function="if" type="number">
          <call function="in">
            <column table="kod_opl" column="kod_type_opl" />
            <array>0</array>
          </call>
          <fact column="s_facopl_oplf" condition="vid_real_2_8" />
        </call>
        <call as="opl" group="sum" function="+nvl">
          <fact column="opl_2_8" />
          <fact column="s_opl_kred_oplf" />
        </call>
        <call as="ob_deb" group="sum" function="-nvl" type="number" exclude="1">
          <fact column="oborot" condition="vid_real_2_8" />
          <fact column="oborot_spis" condition="vid_real_2_8" />
        </call>
        <call as="ob_deb" group="sum" function="()" type="number">
          <fact column="oborot" condition="vid_real_2_8" />
        </call>
        <call as="ob_kred" group="sum" function="()" type="number">
          <fact column="oborot_kr" />
        </call>
      </expressions>
      <select>
        <column table="kodp" column="kodp" />
        <call function="if" type="number" as="ym">
          <call function="!=0">
            <column table="this" column="ob_deb" />
          </call>
          <column as="ym" column="ym" table="kod_sf" />
        </call>
        <column column="kod_sf" table="kod_sf" />
        <fact column="ob_kred" />
        <fact column="ob_deb" table="sf" />
        <fact column="s_facras_nachisl_nds" table="sf" />
        <fact column="s_facopl_opl_nds" table="sf" />
      </select>
      <from>
        <qube>
          <link name="kodp" />
          <link name="dat" />
          <dimset as="sf">
            <link name="kod_sf" />
            <where>
              <call function="le">
                <column table="kod_sf" column="ym" />
                <useparam name="p_ym" />
              </call>
            </where>
          </dimset>
          <where>
            <call function="and">
              <call function="in" exclude="1">
                <column table="kodp" column="kodp" />
                <array>102100400</array>
              </call>
              <call function="le">
                <column table="dat" column="val" />
                <useparam name="p_date" />
              </call>
              <call function="in">
                <column table="kodp" column="kodp" />
                <call function="vr_number_array.get">
                  <useparam name="p_kodp_array_id" />
                </call>
              </call>
            </call>
          </where>
        </qube>
      </from>
    </query>
    <query name="49496" timestamp="17.09.2018 14:25:47" file="sql.builder.templates\sql.builder\projects\asuse1\reports\49496.xml">
      <params>
        <param type="date" name="p_date">
          <const>sysdate</const>
        </param>
      </params>
      <select>
        <call function="rownum" key="1" as="rn" />
        <column table="kod_sf" column="kod_deb" />
        <column table="kodp" column="kodp" />
        <column table="kodp" column="inn" />
        <column table="kodp" column="name" />
        <call function="-" as="oborot">
          <fact column="oborot_o" />
          <fact column="oborot_o_spis" />
        </call>
        <column table="kod_sf" column="num_sf" title="Номер счета" />
        <column table="kod_sf" column="dat_sf" title="Дата счета" />
        <call function="||" as="vid_real">
          <call function="||">
            <column table="vid_real" column="vid_real" title="Вид реализации" />
            <const>' '</const>
          </call>
          <column table="vid_real" column="name" title="Вид реализации" />
        </call>
        <column table="kod_sf" column="dat_uchet" title="Дата постановки на учет" />
        <fact column="ur_dat_entry_max" title="Дата вступления в законную силу" />
        <call function="over" as="kod_deb_oborot" type="number">
          <call function="sum">
            <column table="this" column="oborot" />
          </call>
          <call function="partition by">
            <column table="kod_sf" column="kod_deb" />
          </call>
        </call>
        <call function="over" as="kodp_oborot" type="number">
          <call function="sum">
            <column table="this" column="oborot" />
          </call>
          <call function="partition by">
            <column table="kodp" column="kodp" />
          </call>
        </call>
      </select>
      <from>
        <qube>
          <link name="kod_sf">
            <link name="vid_real" />
          </link>
          <link name="kodp" />
          <link name="dat" />
          <where>
            <call function="in">
              <column table="kod_sf" column="vid_real" />
              <array>4,7</array>
            </call>
            <call function="is null">
              <column table="kod_sf" column="ym_end_dolg" />
            </call>
            <call function="lt">
              <column table="dat" column="val" />
              <useparam name="p_date" />
            </call>
          </where>
        </qube>
      </from>
    </query>
    <query name="49496-report" timestamp="17.09.2018 14:13:47" is-report="1" title="Задолженность по санкциям " file="sql.builder.templates\sql.builder\projects\asuse1\reports\49496.xml">
      <content>
        <usefield name="p_date" title="Дата" type="date" field="cmn_date_cur" mandatory="1" />
      </content>
      <select>
        <column table="a" column="rn" />
        <column table="a" column="kodp" />
        <column table="a" column="inn" />
        <column table="a" column="name" />
        <column table="a" column="oborot" />
        <column table="a" column="num_sf" />
        <column table="a" column="dat_sf" />
        <column table="a" column="vid_real" />
        <column table="a" column="dat_uchet" />
        <column table="a" column="ur_dat_entry_max" />
        <column table="a" column="kod_deb" title="kod_deb" exclude="1" />
        <column table="a" column="kod_deb_oborot" title="kod_deb_oborot" exclude="1" />
      </select>
      <from>
        <query name="49496" as="a">
          <withparams>
            <useparam name="p_date" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="!=">
            <column table="a" column="kodp_oborot" />
            <const>0</const>
          </call>
          <call function="!=">
            <column table="a" column="kod_deb_oborot" />
            <const>0</const>
          </call>
        </call>
      </where>
    </query>
    <query name="49496-report_test" timestamp="14.09.2018 20:47:55" is-report="1" title="Задолженность по санкциям " visible="0" file="sql.builder.templates\sql.builder\projects\asuse1\reports\49496.xml">
      <content>
        <usefield name="p_date" title="Дата" type="date" field="cmn_date_cur" mandatory="1" />
      </content>
      <select>
        <call function="rownum" key="1" as="rn" />
        <column table="kodp" column="kodp" />
        <column table="kodp" column="inn" />
        <column table="kodp" column="name" />
        <fact column="oborot" title="oborot" exclude="1" />
        <fact column="oborot_spis" title="oborot_spis" exclude="1" />
        <call function="-" as="oborot_o_oborot_o_spis" title="oborot_o_oborot_o_spis">
          <fact column="oborot_o" />
          <fact column="oborot_o_spis" />
        </call>
        <fact column="oborot_o" title="oborot_o" />
        <fact column="oborot_o_spis" title="oborot_o_spis" />
      </select>
      <from>
        <qube>
          <link name="kod_sf" />
          <link name="kodp" />
          <link name="dat" />
          <where>
            <call function="in">
              <column table="kod_sf" column="vid_real" />
              <array>4,7</array>
            </call>
            <call function="is null">
              <column table="kod_sf" column="ym_end_dolg" />
            </call>
            <call function="lt">
              <column table="dat" column="val" />
              <useparam name="p_date" />
            </call>
          </where>
        </qube>
      </from>
    </query>
    <query name="d_payer_ext" class="1" extend="d_payer" timestamp="22.03.2016 21:18:05" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\d_payer.xml">
      <select>
        <const as="cnt" fact="d_payer_count" agg="sum">1</const>
      </select>
      <from>
        <query name="voda_par" as="voda_par" join="left outer">
          <call function="=">
            <column table="a" column="voda_par" />
            <column table="voda_par" column="voda_par" />
          </call>
        </query>
      </from>
    </query>
    <query name="voda_par" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\d_payer.xml">
      <select>
        <column table="a" column="voda_par" type="number" />
        <column table="a" column="name" type="string" title="Вода/Пар" />
      </select>
      <from>
        <table name="voda_par" as="a" view="1" />
      </from>
    </query>
    <query name="k_otrasl_ext" class="1" extend="k_otrasl" timestamp="23.02.2016 02:51:32" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\k_otrasl.xml">
      <select>
        <call function="||" as="full_name">
          <column table="this" column="okonh"></column>
          <const>' '</const>
          <column table="this" column="name"></column>
        </call>
      </select>
    </query>
    <query name="n_calc" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\n_calc.xml">
      <select>
        <column table="a" column="ym" type="number" />
        <call function="ym to char" as="name" title="Период">
          <column table="a" column="ym"></column>
        </call>
      </select>
      <from>
        <table name="n_calc" as="a" view="1" />
      </from>
    </query>
    <query name="n_calc_dist" order="1 desc" class="1" timestamp="16.12.2016 17:38:19" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\n_calc.xml">
      <select>
        <column table="a" column="ym" group="1" />
        <column table="a" column="name" group="max" />
      </select>
      <from>
        <query name="n_calc" as="a" />
      </from>
    </query>
    <query name="n_year" order="1 desc" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\n_calc.xml">
      <select>
        <call function="trunc" as="year" group="1">
          <column table="a" column="ym" />
        </call>
        <call function="trunc" as="name" title="Год" group="max">
          <column table="a" column="ym" />
        </call>
      </select>
      <from>
        <query name="n_calc" as="a" />
      </from>
    </query>
    <query name="n_year_last4" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\n_calc.xml">
      <select>
        <column table="a" column="*" />
      </select>
      <from>
        <query name="n_year" as="a" />
      </from>
      <where>
        <call function="between">
          <column table="a" column="year" />
          <call function="-">
            <call function="year">
              <const>sysdate</const>
            </call>
            <const>4</const>
          </call>
          <call function="-">
            <call function="year">
              <const>sysdate</const>
            </call>
            <const>1</const>
          </call>
        </call>
      </where>
    </query>
    <query name="n_calc_max" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\n_calc.xml">
      <select>
        <column table="a" column="ym" group="max" />
      </select>
      <from>
        <query name="n_calc" as="a" />
      </from>
      <where>
        <call function="lt">
          <column table="a" column="ym"></column>
          <call function="date to ym">
            <const>sysdate</const>
          </call>
        </call>
      </where>
    </query>
    <query name="s_debet_ext" class="1" extend="s_debet" timestamp="23.02.2016 02:51:32" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_debet.xml">
      <select>
        <column table="st_spis" column="dat_ust" dgroup="min" as="date_spis" />
        <column table="st_dead" column="dat_ust" dgroup="min" as="date_dead" />
      </select>
      <links>
        <dlink name="s_debet_state" as="st_spis" pushpred="1">
          <link name="pr_obr" as="st_spis_i" />
          <where>
            <call function="=">
              <column table="st_spis_i" column="pr_nokniga" />
              <const>1</const>
            </call>
          </where>
        </dlink>
        <dlink name="s_debet_state" as="st_dead">
          <where>
            <call function="=">
              <column table="st_dead" column="pr_obr" />
              <const>44</const>
            </call>
          </where>
        </dlink>
      </links>
      <from>
        <query name="s_debet_spis" as="spis_kod_deb" join="left outer">
          <call function="=">
            <column table="a" column="kod_deb" />
            <column table="spis_kod_deb" column="kod_deb" />
          </call>
        </query>
      </from>
    </query>
    <query name="s_edizm_used" inherit="s_edizm" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_edizm.xml">
      <links>
        <dlink name="s_nachisl" />
      </links>
      <where>
        <call function="is not null">
          <column table="s_nachisl" column="grup" dgroup="max" />
        </call>
      </where>
    </query>
    <query name="s_edizm_used2" inherit="s_edizm_used" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_edizm.xml">
      <links>
        <dlink name="s_nachisl"></dlink>
      </links>
      <where>
        <call function="!=">
          <column table="a" column="kod" />
          <const>2</const>
        </call>
      </where>
    </query>
    <query name="s_facopl_ext" class="1" extend="s_facopl" timestamp="27.06.2018 16:46:43" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facopl.xml">
      <select>
        <call function="+nvl" as="oplf" title="Оплачено с НДС (руб)" fact="s_facopl_oplf" agg="sum">
          <column table="a" column="opl" />
          <column table="a" column="nal" />
        </call>
        <call function="+" as="ym" title="Отчетный период документа оплаты" dimension="ym">
          <column table="a" column="god" />
          <call function="/">
            <column table="a" column="mes" />
            <const>100</const>
          </call>
        </call>
      </select>
      <links>
        <link name="kod_opl" as="kod_opl1">
          <elink name="s_opl_isp" dimension="1" />
        </link>
        <link name="kod_ras" as="kod_ras1">
          <link name="kod_sf" dimension="1">
            <link name="kodp" dimension="1" />
          </link>
        </link>
        <link name="kod_ras" as="kod_ras1" exclude="1">
          <link name="kod_sf" dimension="1">
            <elink name="ur_invoice_isp" />
          </link>
        </link>
      </links>
    </query>
    <query name="s_facopl_spis" timestamp="27.06.2018 16:48:14" class="1" inherit="s_facopl" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facopl.xml">
      <select>
        <column table="this" column="oplf" as="oplf_spis" agg="sum" fact="s_facopl_spis_oplf" />
        <call function="if" as="ym_spis" dimension="ym">
          <call function="ge">
            <column table="kod_fopl" column="ym" />
            <call function="date to ym">
              <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
            </call>
          </call>
          <column table="kod_fopl" column="ym" />
          <call function="date to ym">
            <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
          </call>
        </call>
        <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" is-private-dimension="dat" is-final-dimension="dat" dimension="dat" />
      </select>
      <from>
        <query name="s_facopl" dimension="1" as="kod_fopl" join="left outer">
          <call function="=">
            <column table="a" column="kod_fopl" />
            <column table="kod_fopl" column="kod_fopl" />
          </call>
        </query>
      </from>
      <where>
        <call function="is not null">
          <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
        </call>
      </where>
      <links>
        <link name="kod_ras" as="kod_ras1">
          <link name="kod_sf">
            <link name="kod_deb">
              <link name="spis_kod_deb" />
            </link>
          </link>
        </link>
      </links>
    </query>
    <query name="s_opl_spis" timestamp="22.09.2016 21:38:02" class="1" inherit="s_opl" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facopl.xml">
      <select>
        <column table="this" column="oplf" as="oplf_spis" agg="sum" fact="s_opl_spis_oplf" />
        <call function="if" as="ym_spis" dimension="ym">
          <call function="ge">
            <column table="kod_opl" column="ym" />
            <call function="date to ym">
              <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
            </call>
          </call>
          <column table="kod_opl" column="ym" />
          <call function="date to ym">
            <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
          </call>
        </call>
        <call function="greatest" as="dat_spis">
          <column table="a" column="datao" />
          <column table="spis_kod_deb" column="dat_spis" dgroup="min" />
        </call>
      </select>
      <from>
        <query name="s_opl" dimension="1" as="kod_opl" join="left outer">
          <call function="=">
            <column table="a" column="kod_opl" />
            <column table="kod_opl" column="kod_opl" />
          </call>
        </query>
      </from>
      <where>
        <call function="is not null">
          <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
        </call>
      </where>
      <links>
        <link name="kod_sf" as="kod_sf1">
          <link name="kod_deb">
            <link name="spis_kod_deb" />
          </link>
        </link>
        <dlink name="s_opl_spis_isp" dimension="1" />
      </links>
    </query>
    <query name="s_opl_kred" timestamp="16.12.2016 17:02:32" class="1" inherit="s_opl" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facopl.xml">
      <select>
        <column table="this" column="oplf" as="oplf_kred" agg="sum" fact="s_opl_kred_oplf" />
      </select>
      <from>
        <query name="s_opl" dimension="1" as="kod_opl" join="left outer">
          <call function="=">
            <column table="a" column="kod_opl" />
            <column table="kod_opl" column="kod_opl" />
          </call>
        </query>
      </from>
      <where>
        <call function="in">
          <column table="this" column="kod_type_opl" dgroup="min" />
          <array>1,2</array>
        </call>
      </where>
    </query>
    <query name="s_opl_stor" timestamp="16.12.2016 15:52:06" class="1" inherit="s_opl" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facopl.xml">
      <select>
        <column table="this" column="oplf" as="oplf_stor" agg="sum" fact="s_opl_stor_oplf" />
      </select>
      <from>
        <query name="s_opl" dimension="1" as="kod_opl" join="left outer">
          <call function="=">
            <column table="a" column="kod_opl" />
            <column table="kod_opl" column="kod_opl" />
          </call>
        </query>
      </from>
      <where>
        <call function="in">
          <column table="this" column="kod_type_opl" dgroup="min" />
          <array>5,6</array>
        </call>
      </where>
    </query>
    <query name="s_facras_ext" class="1" extend="s_facras" timestamp="23.02.2016 02:51:32" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facras.xml">
      <select>
        <call function="+nvl" as="nachislf" title="Начислено с НДС (руб)">
          <column table="a" column="nachisl"></column>
          <column table="a" column="nds"></column>
        </call>
        <call function="if" as="edizm2" type="number">
          <call function="=">
            <column table="a" column="edizm" />
            <const>2</const>
          </call>
          <const>-2</const>
          <column table="a" column="edizm" />
        </call>
        <call function="if" as="cust2" type="number" title="Начислено нат. пок.">
          <call function="=">
            <column table="a" column="edizm" />
            <const>2</const>
          </call>
          <call function="/">
            <column table="a" column="cust" />
            <const>0.98318</const>
          </call>
          <column table="a" column="cust" />
        </call>
      </select>
      <from>
        <query name="s_edizm" as="edizm2" join="left outer">
          <call function="=">
            <column table="a" column="edizm2"></column>
            <column table="edizm2" column="kod"></column>
          </call>
        </query>
      </from>
    </query>
    <query name="s_facras(date)" inherit="s_facras" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facras.xml">
      <params>
        <param name="date" />
      </params>
      <select>
        <column table="s_facopl" column="oplf" dgroup="sum" />
        <call function="-nvl" as="ostatok" title="Дебиторская задолженность (руб.)">
          <column table="this" column="nachislf"></column>
          <column table="this" column="oplf"></column>
        </call>
        <call function="if" as="spis" type="number" title="Списанная задолженность (руб.)">
          <call function="lt">
            <call function="nvl">
              <column table="kod_deb" column="date_spis" />
              <call function="doomsday" />
            </call>
            <useparam name="date" />
          </call>
          <column table="this" column="ostatok" />
        </call>
        <call function="-nvl" as="ostatok_s" title="Дебиторская задолженность (руб.)">
          <column table="this" column="ostatok"></column>
          <column table="this" column="spis"></column>
        </call>
        <call function="if" as="dolg" type="number" title="Просроченная задолженность (руб.)">
          <call function="le">
            <column table="kod_sf" column="dat_bzad" />
            <useparam name="date" />
          </call>
          <column table="this" column="ostatok_s" />
        </call>
      </select>
      <where>
        <call function="and">
          <call function="le">
            <call function="ym end time">
              <column table="kod_sf" column="ym" />
            </call>
            <!--<column table="kod_sf" column="dat_sf"/>-->
            <useparam name="date" />
          </call>
        </call>
      </where>
      <links>
        <link name="kod_sf" usenl="2">
          <link name="kod_deb" usenl="2" />
        </link>
        <dlink name="s_facopl">
          <where>
            <call function="lt">
              <column table="s_facopl" column="datao" />
              <useparam name="date" />
            </call>
          </where>
        </dlink>
      </links>
    </query>
    <query name="s_facras_spis" timestamp="22.09.2016 21:03:30" inherit="s_facras" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facras.xml">
      <select>
        <column table="this" column="nachislf" as="nachislf_spis" fact="s_facras_spis_nachislf" agg="sum" />
        <call function="date to ym" as="ym" dimension="ym">
          <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
        </call>
      </select>
      <from>
        <query name="s_facras" as="kod_ras" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="kod_ras" />
            <column table="kod_ras" column="kod_ras" />
          </call>
        </query>
      </from>
      <where>
        <call function="is not null">
          <column table="spis_kod_deb" column="dat_spis" dgroup="min" as="date_spis" />
        </call>
      </where>
      <links>
        <link name="kod_sf" as="kod_sf1">
          <link name="kod_deb">
            <link name="spis_kod_deb" />
          </link>
        </link>
        <dlink name="s_facras_spis_isp" dimension="1" />
      </links>
    </query>
    <query name="s_facras_spis_isp" timestamp="22.09.2016 21:11:38" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facras.xml">
      <select>
        <call function="||" as="kod_fr_sp_isp" key="1">
          <column table="this" column="kod_ras" />
          <const>'-'</const>
          <column table="this" column="kod_ur_sf_isp" />
        </call>
        <column table="a" column="kod_ras" />
        <column table="v_ur_sf_isp" column="kod_ur_sf_isp" />
        <call function="latest" as="dat_ur" dimension="dat_ur">
          <column table="spis_kod_deb" column="dat_spis" />
          <column table="v_ur_sf_isp" column="dat_cr_isp" />
        </call>
      </select>
      <from>
        <query name="s_facras" as="a">
          <link name="kod_sf">
            <elink name="v_ur_sf_isp" />
            <link name="kod_deb">
              <link name="spis_kod_deb" />
            </link>
          </link>
        </query>
        <query name="s_facras_spis" as="kod_ras" join="left outer">
          <call function="=">
            <column table="a" column="kod_ras" />
            <column table="kod_ras" column="kod_ras" />
          </call>
        </query>
        <query name="v_ur_sf_isp" as="kod_ur_sf_isp" join="left outer" dimension="1">
          <call function="=">
            <column table="this" column="kod_ur_sf_isp" />
            <column table="kod_ur_sf_isp" column="kod_ur_sf_isp" />
          </call>
        </query>
      </from>
    </query>
    <query name="s_facvip_ext" class="1" extend="s_facvip" timestamp="23.08.2018 19:33:27" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facvip.xml">
      <select>
        <call function="+" as="ym" title="Отчетный период документа начисления" dimension="ym">
          <column table="a" column="god" />
          <call function="/">
            <column table="a" column="mes" />
            <const>100</const>
          </call>
        </call>
        <column table="s_facras" column="nachislf" dgroup="sum" />
        <column table="s_facras" column="nachisl" dgroup="sum" />
        <column table="s_facras" column="cust" dgroup="sum" />
        <call function="if" as="pr_osn2" type="number">
          <call function="or">
            <call function="=">
              <column table="this" column="vid_real" />
              <const>2</const>
            </call>
            <call function="and">
              <call function="=">
                <column table="this" column="vid_real" />
                <const>8</const>
              </call>
              <call function="or">
                <call function="is not null">
                  <column table="this" column="dat_uchet" />
                </call>
                <call function="and">
                  <call function="is not null">
                    <column table="sf_osn" column="kod_sf" dgroup="sum" />
                  </call>
                  <call function="lt">
                    <column table="this" column="nachisl" />
                    <const>0</const>
                  </call>
                </call>
              </call>
            </call>
          </call>
          <const>1</const>
          <const>0</const>
        </call>
        <call function="if" as="pr_osn2_stored" type="number">
          <call function="=">
            <column table="this" column="vid_real" />
            <const>2</const>
          </call>
          <const>1</const>
          <column table="dpp_kod_sf" column="pr_osn2" />
        </call>
        <call function="earliest" as="dat_cr_isp">
          <column table="u_opl_isp" column="dat_cr_isp" dgroup="min" />
          <column table="v_ur_sf_isp" column="dat_cr_isp" dgroup="min" />
        </call>
        <call function="if" as="dat_uchet_dat_sf" dimension="dat">
          <call function="=">
            <column table="a" column="vid_real" />
            <const>8</const>
          </call>
          <call function="nvl">
            <column table="a" column="dat_uchet" />
            <column table="a" column="dat_sf" />
          </call>
          <column table="a" column="dat_sf" />
        </call>
      </select>
      <from>
        <query name="s_facvip_dpp" as="dpp_kod_sf" join="left outer">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="dpp_kod_sf" column="kod_sf" />
          </call>
        </query>
      </from>
      <where>
        <call function="not in">
          <column table="a" column="vid_sf" />
          <array>2,9</array>
        </call>
      </where>
      <links>
        <dlink name="s_facras" usenl="2" />
        <link name="kod_deb" usenl="2">
          <dlink name="s_facvip" usenl="2" as="sf_osn">
            <where>
              <call function="=">
                <column table="sf_osn" column="vid_real" />
                <const>2</const>
              </call>
            </where>
          </dlink>
          <dlink name="u_opl_isp" usenl="2" pushpred="1">
            <where>
              <call function="=">
                <column table="u_opl_isp" column="vid_real" />
                <column table="a" column="vid_real" />
              </call>
            </where>
          </dlink>
        </link>
        <dlink name="v_ur_sf_isp" usenl="2" dimension="1" />
      </links>
    </query>
    <query name="s_facvip(date)" inherit="s_facvip" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facvip.xml">
      <params>
        <param name="date" />
      </params>
      <select>
        <column table="fr" column="oplf" dgroup="sum" />
        <column table="fr" column="ostatok" dgroup="sum" />
      </select>
      <where>
        <call function="lt">
          <column table="a" column="dat_sf"></column>
          <useparam name="date" />
        </call>
      </where>
      <links>
        <dlink name="s_facras">
          <slink name="s_facras(date)" as="fr">
            <withparams>
              <useparam name="date" />
            </withparams>
          </slink>
        </dlink>
      </links>
    </query>
    <query name="s_facvip_dpp_view" timestamp="23.03.2016 15:27:54" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_facvip.xml">
      <select>
        <column table="s_facvip" column="kod_sf" />
        <column table="s_facvip" column="pr_osn2" />
      </select>
      <from>
        <query name="s_facvip" />
      </from>
      <where>
        <call function="=">
          <column table="s_facvip" column="vid_real" />
          <const>8</const>
        </call>
      </where>
    </query>
    <query name="s_nachisl_ext" class="1" extend="s_nachisl" timestamp="22.03.2016 21:11:23" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_nachisl.xml">
      <from>
        <query name="s_nachisl_gr" as="grup" join="left outer" dimension="1">
          <using>
            <column column="grup" />
          </using>
        </query>
      </from>
    </query>
    <query name="s_nachisl_gr" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_nachisl.xml">
      <select>
        <column table="a" column="grup" type="number" />
        <column table="a" column="name" type="string" />
      </select>
      <from>
        <table name="s_nachisl_gr" view="1" as="a" />
      </from>
    </query>
    <query name="s_opl_ext" class="1" extend="s_opl" timestamp="16.12.2016 16:01:08" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_opl.xml">
      <select>
        <call function="+nvl" as="oplf" title="Оплачено (руб.)" fact="s_opl_oplf" agg="sum">
          <column table="this" column="opl" />
          <column table="this" column="opls" />
        </call>
        <call function="+" as="ym" title="Отчетный период оплаты" dimension="ym">
          <column table="a" column="god" />
          <call function="/">
            <column table="a" column="mes" />
            <const>100</const>
          </call>
        </call>
        <call function="if" as="dat_oper" type="date" dimension="dat">
          <call function="in">
            <column table="this" column="kod_type_opl" />
            <array>0,1,2</array>
          </call>
          <column table="this" column="datao" />
          <call function="ym end time">
            <column table="this" column="ym" />
          </call>
        </call>
        <call function="if" as="opl_t0" type="number" title="Оплата начислений без погашения (руб.)">
          <call function="in">
            <column table="this" column="kod_type_opl" />
            <array>0</array>
          </call>
          <column table="this" column="opl" />
        </call>
        <call function="if" as="opl_t1t2" type="number" title="Оплата переплат и авансов (руб.)">
          <call function="in">
            <column table="this" column="kod_type_opl" />
            <array>1,2</array>
          </call>
          <column table="this" column="opl" />
        </call>
        <call function="if" as="opl_t3t4" type="number" title="Погашение факта переплатами/авансами (руб.)">
          <call function="in">
            <column table="this" column="kod_type_opl" />
            <array>3,4</array>
          </call>
          <column table="this" column="opl" />
        </call>
        <call function="if" as="opl_t3t4pr" title="Погашение факта переплатами/авансами прошлого периода (руб.)">
          <call function="lt">
            <call function="date to ym">
              <column table="a" column="datao" />
            </call>
            <column table="this" column="ym" />
          </call>
          <column table="this" column="opl_t3t4" />
        </call>
        <call function="if" as="opl_t3t4tek" title="Погашение факта переплатами/авансами текущего периода (руб.)">
          <call function="=">
            <call function="date to ym">
              <column table="a" column="datao" />
            </call>
            <column table="this" column="ym" />
          </call>
          <column table="this" column="opl_t3t4" />
        </call>
        <call function="case" as="kod_type_opl" type="number">
          <!--[11:32] [Данилин Александр] короче
          kod_type_opl
          0 -все остальное
          1- vid_pl=2 and flag_raznos=0 and kod_parent is null
          2- vid_pl=0 and kod_parent is null
          3,4- vid_pl=2 and flag_raznos=1 and kod_parent is not null
          5- vid_pl=2 and flag_raznos=0 and kod_parent is not null
          6- vid_pl=0 and kod_parent is not null-->
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_pl" />
                <const>2</const>
              </call>
              <call function="=">
                <column table="a" column="flag_raznos" />
                <const>0</const>
              </call>
              <call function="is null">
                <column table="a" column="kod_parent" />
              </call>
            </call>
            <const>1</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_pl" />
                <const>0</const>
              </call>
              <call function="is null">
                <column table="a" column="kod_parent" />
              </call>
            </call>
            <const>2</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_pl" />
                <const>2</const>
              </call>
              <call function="=">
                <column table="a" column="flag_raznos" />
                <const>1</const>
              </call>
              <call function="is not null">
                <column table="a" column="kod_parent" />
              </call>
            </call>
            <const>3</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_pl" />
                <const>2</const>
              </call>
              <call function="=">
                <column table="a" column="flag_raznos" />
                <const>0</const>
              </call>
              <call function="is not null">
                <column table="a" column="kod_parent" />
              </call>
            </call>
            <const>5</const>
          </call>
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="vid_pl" />
                <const>0</const>
              </call>
              <call function="is not null">
                <column table="a" column="kod_parent" />
              </call>
            </call>
            <const>6</const>
          </call>
          <call function="else">
            <const>0</const>
          </call>
        </call>
      </select>
      <links>
        <dlink name="s_opl_isp" dimension="1">
          <link name="kod_ur_sf_isp" dimension="1" is-final-dimension="1" exclude="1" />
        </dlink>
      </links>
    </query>
    <query name="s_opl_kred(date)" inherit="s_opl" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_opl.xml">
      <params>
        <param name="date" />
      </params>
      <select>
        <column table="stor" column="oplf" as="storno" dgroup="sum" />
        <call function="+nvl" as="ostatok" title="Кредиторская задолженность (руб.)">
          <column table="this" column="opl" />
          <column table="this" column="storno" />
        </call>
        <call function="" as="dolg" type="number" title="Кредиторская задолженность (руб.)">
          <column table="this" column="ostatok" />
        </call>
      </select>
      <where>
        <call function="and">
          <call function="le">
            <column table="this" column="datao" />
            <useparam name="date" />
          </call>
          <call function="in">
            <column table="this" column="kod_type_opl"></column>
            <array>1,2</array>
          </call>
        </call>
      </where>
      <links>
        <dlink name="childs" as="stor">
          <where>
            <call function="and">
              <call function="le">
                <column table="stor" column="dat_oper" />
                <useparam name="date" />
              </call>
              <call function="in">
                <column table="stor" column="kod_type_opl" />
                <array>5,6</array>
              </call>
            </call>
          </where>
        </dlink>
      </links>
    </query>
    <query name="s_opl_isp" timestamp="22.09.2016 21:39:35" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_opl_isp.xml">
      <select>
        <call function="||" as="kod_opl_isp" key="1">
          <column table="this" column="kod_opl" />
          <const>'-'</const>
          <column table="this" column="kod_ur_sf_isp" />
        </call>
        <column table="a" column="kod_opl" />
        <column table="v_ur_sf_isp" column="kod_ur_sf_isp" />
        <call function="latest" as="dat_ur" dimension="dat_ur">
          <column table="kod_opl" column="dat_oper" />
          <column table="v_ur_sf_isp" column="dat_cr_isp" />
        </call>
      </select>
      <from>
        <query name="s_opl" as="a">
          <link name="kod_sf">
            <elink name="v_ur_sf_isp" />
          </link>
        </query>
        <query name="s_opl" as="kod_opl" join="left outer">
          <call function="=">
            <column table="a" column="kod_opl" />
            <column table="kod_opl" column="kod_opl" />
          </call>
        </query>
        <query name="v_ur_sf_isp" as="kod_ur_sf_isp" join="left outer" dimension="1">
          <call function="=">
            <column table="this" column="kod_ur_sf_isp" />
            <column table="kod_ur_sf_isp" column="kod_ur_sf_isp" />
          </call>
        </query>
      </from>
    </query>
    <query name="s_opl_spis_isp" timestamp="22.09.2016 21:17:12" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_opl_isp.xml">
      <select>
        <call function="||" as="kod_opl_sp_isp" key="1">
          <column table="this" column="kod_opl" />
          <const>'-'</const>
          <column table="this" column="kod_ur_sf_isp" />
        </call>
        <column table="a" column="kod_opl" />
        <column table="v_ur_sf_isp" column="kod_ur_sf_isp" />
        <call function="latest" as="dat_ur" dimension="dat_ur">
          <column table="kod_opl" column="dat_spis" />
          <column table="v_ur_sf_isp" column="dat_cr_isp" />
        </call>
      </select>
      <from>
        <query name="s_opl_spis" as="a">
          <link name="kod_sf">
            <elink name="v_ur_sf_isp" />
          </link>
        </query>
        <query name="s_opl_spis" as="kod_opl" join="left outer">
          <call function="=">
            <column table="a" column="kod_opl" />
            <column table="kod_opl" column="kod_opl" />
          </call>
        </query>
        <query name="v_ur_sf_isp" as="kod_ur_sf_isp" join="left outer" dimension="1">
          <call function="=">
            <column table="this" column="kod_ur_sf_isp" />
            <column table="kod_ur_sf_isp" column="kod_ur_sf_isp" />
          </call>
        </query>
      </from>
    </query>
    <query name="ur_invoice_isp" inherit="ur_invoice" timestamp="13.09.2016 18:58:46" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\ur_invoice.xml">
      <select>
        <column table="this" column="dat_cr_isp" dimension="dat_ur" />
      </select>
      <from>
        <query name="s_facvip" as="kod_sf" join="left outer">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="kod_sf" column="kod_sf" />
          </call>
        </query>
      </from>
      <where>
        <call function="is not null">
          <column table="this" column="kod_isp" />
        </call>
      </where>
    </query>
    <query name="d_istfin" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\d_istfin.xml">
      <select>
        <column table="a" column="kod" type="number" title="" />
        <column table="a" column="name" type="string" title="Источник финансирования" />
        <column table="a" column="mest" type="number" title="" />
        <column table="a" column="filename1" type="string" title="" comment="имя файла допсоглашения на лимитное потребление" />
        <column table="a" column="filename2" type="string" title="" comment="имя файла допсоглашения на сверхлимитное потребление" />
        <column table="a" column="kodb_teplo" type="number" title="" />
        <column table="a" column="abbr" type="string" title="Аббревиатура" comment="аббревиатура" />
      </select>
      <from>
        <table name="d_istfin" as="a" />
        <query name="k_bank" as="kodb_teplo" join="left outer">
          <call function="=">
            <column table="a" column="kodb_teplo"></column>
            <column table="kodb_teplo" column="kod"></column>
          </call>
        </query>
      </from>
    </query>
    <query name="d_payer" class="1" timestamp="10.10.2017 16:08:21" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\d_payer.xml">
      <select>
        <column table="a" column="kodp" type="string" title="Код абонента" />
        <column table="a" column="rassh1" type="string" title="" />
        <column table="a" column="komit" type="number" title="" />
        <column table="a" column="prim" type="string" title="" />
        <column table="a" column="kodbpl" type="number" title="" />
        <column table="a" column="reg_tc" type="number" title="" />
        <column table="a" column="otr_gr" type="number" title="" />
        <column table="a" column="avans" type="number" title="" />
        <column table="a" column="kod_reg" type="number" />
        <column table="a" column="kod_ul" type="number" />
        <column table="a" column="indexx" type="number" title="" />
        <column table="a" column="kod_ist" type="number" />
        <column table="a" column="kod_m" type="number" />
        <column table="a" column="name" type="string" title="Наименование абонента" />
        <column table="a" column="direct" type="string" title="" />
        <column table="a" column="tel_dir" type="string" title="" />
        <column table="a" column="tel_sek" type="string" title="" />
        <column table="a" column="tel_en" type="string" title="" />
        <column table="a" column="tel_buh" type="string" title="" />
        <column table="a" column="telet" type="string" title="" />
        <column table="a" column="telfax" type="string" title="" />
        <column table="a" column="tel_deg" type="string" title="" />
        <column table="a" column="gor_obl" type="number" title="" />
        <column table="a" column="vist_pl" type="number" title="" />
        <column table="a" column="dat_udal" type="date" title="Дата удаления абонента" />
        <column table="a" column="inn" type="string" title="ИНН" />
        <column table="a" column="voda_par" type="number" title="" />
        <column table="a" column="kods" type="number" title="" />
        <column table="a" column="okpo" type="string" title="" />
        <column table="a" column="okonh" type="string" title="" />
        <column table="a" column="house" type="string" title="" />
        <column table="a" column="korpus" type="string" title="" />
        <column table="a" column="kod_ul_ur" type="number" />
        <column table="a" column="house_ur" type="string" title="" />
        <column table="a" column="korpus_ur" type="string" title="" />
        <column table="a" column="indexx_ur" type="string" title="" />
        <column table="a" column="kod_avizo" type="number" />
        <column table="a" column="soogu" type="string" title="" />
        <column table="a" column="kodbpol" type="number" title="" />
        <column table="a" column="plat_spos" type="number" title="" />
        <column table="a" column="kod_kazn" type="number" />
        <column table="a" column="kod_otrasl" type="number" />
        <column table="a" column="prim1" type="string" title="" />
        <column table="a" column="room" type="string" title="" />
        <column table="a" column="room_ur" type="string" title="" />
        <column table="a" column="kod_mm" type="number" />
        <column table="a" column="ndogabon" type="string" title="" />
        <column table="a" column="prim2" type="string" title="" />
        <column table="a" column="pid" type="number" title="" />
        <column table="a" column="pr_obr" type="number" title="" />
        <column table="a" column="day_zad" type="number" title="" />
        <column table="a" column="kodbon" type="number" title="" />
        <column table="a" column="kodbpol_old" type="number" title="" />
        <column table="a" column="kodbpl_old" type="number" title="" />
        <column table="a" column="kodbon_old" type="number" title="" />
        <column table="a" column="kod_dom" type="number" />
        <column table="a" column="plat_kod" type="string" title="" />
        <column table="a" column="country_kod" type="string" title="" />
        <column table="a" column="platel" type="number" title="" />
        <column table="a" column="kod_okved" type="number" />
        <column table="a" column="kod_dom_ur" type="number" />
        <column table="a" column="kod_opsp" type="number" />
        <column table="a" column="kpp" type="string" title="" />
        <column table="a" column="kod_bez_prich" type="number" />
        <column table="a" column="kod_oper" type="number" />
        <column table="a" column="podr" type="number" title="" comment="подр для совместимости. всегда =2" />
        <column table="a" column="adres_gru" type="string" title="" />
        <column table="a" column="kpp_gru" type="string" title="" />
        <column table="a" column="name_gru" type="string" title="" />
        <column table="a" column="nerez" type="number" title="" />
        <column table="a" column="sogl_beza_sn" type="number" title="" />
        <column table="a" column="vckp" type="number" title="" />
        <column table="a" column="names" type="string" title="" />
        <column table="a" column="aktpp_razv" type="number" title="" />
        <column table="a" column="prich_udal" type="string" title="" />
        <column table="a" column="adr_p" type="string" title="" />
        <column table="a" column="kod_kazna" type="number" />
        <column table="a" column="vid_rs_kazna" type="number" title="" />
        <column table="a" column="podr_p" type="number" title="" />
        <column table="a" column="beza2011" type="number" title="" comment="безакцептное выставление в 2011" />
        <column table="a" column="vid_dog" type="number" title="" comment="вид договора" />
        <column table="a" column="ls" type="string" title="" />
        <column table="a" column="mobile_phone" type="string" title="" comment="сотовый телефон" />
      </select>
      <from>
        <table name="d_payer" as="a" />
        <query name="d_avizo" as="kod_avizo" join="left outer">
          <call function="=">
            <column table="a" column="kod_avizo" />
            <column table="kod_avizo" column="kod_avizo" />
          </call>
        </query>
        <query name="d_istfin" as="kod_ist" join="left outer">
          <call function="=">
            <column table="a" column="kod_ist" />
            <column table="kod_ist" column="kod" />
          </call>
        </query>
        <query name="d_kazn" as="kod_kazn" join="left outer">
          <call function="=">
            <column table="a" column="kod_kazn" />
            <column table="kod_kazn" column="kod_kazn" />
          </call>
        </query>
        <query name="d_kazna" as="kod_kazna" join="left outer">
          <call function="=">
            <column table="a" column="kod_kazna" />
            <column table="kod_kazna" column="kod_kazna" />
          </call>
        </query>
        <query name="d_komit" as="komit" join="left outer">
          <call function="=">
            <column table="a" column="komit" />
            <column table="komit" column="komit" />
          </call>
        </query>
        <query name="d_ministry" as="kod_m" join="left outer">
          <call function="=">
            <column table="a" column="kod_m" />
            <column table="kod_m" column="kod" />
          </call>
        </query>
        <query name="d_otr_gr" as="otr_gr" join="left outer">
          <call function="=">
            <column table="a" column="otr_gr" />
            <column table="otr_gr" column="kod" />
          </call>
        </query>
        <query name="d_station" as="kods" join="left outer">
          <call function="=">
            <column table="a" column="kods" />
            <column table="kods" column="kod" />
          </call>
        </query>
        <query name="d_strits" as="kod_ul_ur" join="left outer">
          <call function="=">
            <column table="a" column="kod_ul_ur" />
            <column table="kod_ul_ur" column="kod" />
          </call>
        </query>
        <query name="d_strits" as="kod_ul" join="left outer">
          <call function="=">
            <column table="a" column="kod_ul" />
            <column table="kod_ul" column="kod" />
          </call>
        </query>
        <query name="k_bank" as="kodbon" join="left outer">
          <call function="=">
            <column table="a" column="kodbon" />
            <column table="kodbon" column="kod" />
          </call>
        </query>
        <query name="k_bank" as="kodbpol" join="left outer">
          <call function="=">
            <column table="a" column="kodbpol" />
            <column table="kodbpol" column="kod" />
          </call>
        </query>
        <query name="k_bank" as="kodbpl" join="left outer">
          <call function="=">
            <column table="a" column="kodbpl" />
            <column table="kodbpl" column="kod" />
          </call>
        </query>
        <query name="k_bezakcept_prich" as="kod_bez_prich" join="left outer">
          <call function="=">
            <column table="a" column="kod_bez_prich" />
            <column table="kod_bez_prich" column="kod_bez_prich" />
          </call>
        </query>
        <query name="k_ministry" as="kod_mm" join="left outer">
          <call function="=">
            <column table="a" column="kod_mm" />
            <column table="kod_mm" column="kod_m" />
          </call>
        </query>
        <query name="k_nerezident" as="nerez" join="left outer">
          <call function="=">
            <column table="a" column="nerez" />
            <column table="nerez" column="nerez" />
          </call>
        </query>
        <query name="k_okved" as="kod_okved" join="left outer">
          <call function="=">
            <column table="a" column="kod_okved" />
            <column table="kod_okved" column="kod_okved" />
          </call>
        </query>
        <query name="k_opsp" as="kod_opsp" join="left outer">
          <call function="=">
            <column table="a" column="kod_opsp" />
            <column table="kod_opsp" column="kod_opsp" />
          </call>
        </query>
        <query name="k_otrasl" as="kod_otrasl" join="left outer">
          <call function="=">
            <column table="a" column="kod_otrasl" />
            <column table="kod_otrasl" column="kod_otrasl" />
          </call>
        </query>
        <query name="k_platel" as="platel" join="left outer">
          <call function="=">
            <column table="a" column="platel" />
            <column table="platel" column="platel" />
          </call>
        </query>
        <query name="k_plat_spos" as="plat_spos" join="left outer">
          <call function="=">
            <column table="a" column="plat_spos" />
            <column table="plat_spos" column="plat_spos" />
          </call>
        </query>
        <query name="k_raion_ts" as="reg_tc" join="left outer">
          <call function="=">
            <column table="a" column="reg_tc" />
            <column table="reg_tc" column="kod" />
          </call>
        </query>
        <query name="k_state" as="pr_obr" join="left outer">
          <call function="=">
            <column table="a" column="pr_obr" />
            <column table="pr_obr" column="pr_obr" />
          </call>
        </query>
        <query name="k_vid_doc" as="vist_pl" join="left outer">
          <call function="=">
            <column table="a" column="vist_pl" />
            <column table="vist_pl" column="vist_pl" />
          </call>
        </query>
        <query name="k_podr_p" as="podr_p" join="left outer">
          <call function="=">
            <column table="a" column="podr_p" />
            <column table="podr_p" column="podr_p" />
          </call>
        </query>
        <query name="k_sogl_beza_sn" as="sogl_beza_sn" join="left outer">
          <call function="=">
            <column table="a" column="sogl_beza_sn" />
            <column table="sogl_beza_sn" column="id" />
          </call>
        </query>
        <query name="k_vid_dog" as="vid_dog" join="left outer">
          <call function="=">
            <column table="a" column="vid_dog" />
            <column table="vid_dog" column="vid_dog" />
          </call>
        </query>
      </from>
    </query>
    <query name="k_otrasl" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\k_otrasl.xml">
      <select>
        <column table="a" column="kod_otrasl" type="number" />
        <column table="a" column="okonh" type="string" title="" />
        <column table="a" column="name" type="string" title="Отрасль" />
        <column table="a" column="polzov" type="string" title="" />
        <column table="a" column="dat" type="date" title="" />
        <column table="a" column="parent" type="number" title="" />
      </select>
      <from>
        <table name="k_otrasl" as="a" />
      </from>
    </query>
    <query name="k_state" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\k_state.xml">
      <select>
        <column table="a" column="pr_obr" type="number" title="" />
        <column table="a" column="name" type="string" title="Наименование" />
        <column table="a" column="flag_aopl" type="number" title="" />
        <column table="a" column="pr_payer" type="number" title="" />
        <column table="a" column="pr_noreestr" type="number" title="" />
        <column table="a" column="priority" type="number" title="" />
        <column table="a" column="pr_nokniga" type="number" title="" />
      </select>
      <from>
        <table name="k_state" as="a" />
      </from>
    </query>
    <query name="k_vid_real" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\k_vid_real.xml">
      <select>
        <column table="a" column="vid_real" type="number" title="Код вида реализации" />
        <column table="a" column="name" type="string" title="Вид реализации" />
      </select>
      <from>
        <table name="k_vid_real" as="a" />
      </from>
    </query>
    <query name="s_debet" class="1" timestamp="23.03.2016 19:27:41" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_debet.xml">
      <select>
        <column table="a" column="kod_deb" type="number" dimension="kod_deb" />
        <column table="a" column="vid_pl" type="number" title="" />
        <column table="a" column="pr_obr" type="number" title="" />
        <column table="a" column="dat_deb" type="date" title="" />
        <column table="a" column="mes" type="number" title="" />
        <column table="a" column="god" type="number" title="" />
        <column table="a" column="pr_old" type="number" title="" />
        <column table="a" column="kodp" type="string" title="" />
        <column table="a" column="num_pl" type="string" title="" />
        <column table="a" column="rs" type="string" title="" />
        <column table="a" column="vist_pl" type="number" title="" />
        <column table="a" column="nachisl" type="number" title="" />
        <column table="a" column="nds" type="number" title="" />
        <column table="a" column="kodbpol" type="number" title="" />
        <column table="a" column="pr_perep" type="number" title="" />
        <column table="a" column="pr_mor" type="number" title="" />
        <column table="a" column="kodbpl" type="number" title="" />
        <column table="a" column="pinn" type="string" title="" />
        <column table="a" column="psch1" type="string" title="" />
        <column table="a" column="lic_sch" type="string" title="" />
        <column table="a" column="prich_perep" type="string" title="" />
        <column table="a" column="kodbpol_old" type="number" title="" />
        <column table="a" column="kodbpl_old" type="number" title="" />
        <column table="a" column="dcalc_peni" type="date" title="" />
        <column table="a" column="promezhut" type="number" title="" comment="промежуточная выписка" />
        <column table="a" column="platel" type="number" title="" />
        <column table="a" column="name" type="string" title="Наименование" />
      </select>
      <from>
        <table name="s_debet" as="a" />
        <query name="d_payer" as="kodp" join="left outer">
          <call function="=">
            <column table="a" column="kodp" />
            <column table="kodp" column="kodp" />
          </call>
        </query>
        <query name="k_bank" as="kodbpl" join="left outer">
          <call function="=">
            <column table="a" column="kodbpl" />
            <column table="kod" column="kod" />
          </call>
        </query>
        <query name="k_bank" as="kodbpol" join="left outer">
          <call function="=">
            <column table="a" column="kodbpol" />
            <column table="kod" column="kod" />
          </call>
        </query>
        <query name="k_platel" as="platel" join="left outer">
          <call function="=">
            <column table="a" column="platel" />
            <column table="platel" column="platel" />
          </call>
        </query>
        <query name="k_state" as="pr_obr" join="left outer">
          <call function="=">
            <column table="a" column="pr_obr" />
            <column table="pr_obr" column="pr_obr" />
          </call>
        </query>
        <query name="k_vid_doc" as="vist_pl" join="left outer">
          <call function="=">
            <column table="a" column="vist_pl" />
            <column table="vist_pl" column="vist_pl" />
          </call>
        </query>
        <query name="k_vid_pl" as="vid_pl" join="left outer">
          <call function="=">
            <column table="a" column="vid_pl" />
            <column table="vid_pl" column="vid_pl" />
          </call>
        </query>
      </from>
    </query>
    <query name="s_debet_spis" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_debet_spis.xml">
      <select>
        <column table="a" column="kod_deb" type="number" />
        <column table="a" column="dat_spis" type="date" title="" />
        <call function="rowid" as="s_debet_spis_id" key="1" />
      </select>
      <from>
        <table name="s_debet_spis" as="a" />
      </from>
    </query>
    <query name="s_debet_state" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_debet_state.xml">
      <select>
        <column table="a" column="kod_deb" type="number" />
        <column table="a" column="pr_obr" type="number" title="" />
        <column table="a" column="dat_ust" type="date" title="" />
        <column table="a" column="god" type="number" title="" />
        <column table="a" column="mes" type="number" title="" />
        <column table="a" column="kod_reason" type="number" />
        <column table="a" column="remark" type="string" title="" />
        <column table="a" column="editor" type="string" title="" />
        <column table="a" column="datesys" type="date" title="" />
        <column table="a" column="barcode" type="string" title="" comment="штрих код, позволяющий идентифицировать платёжное требование" />
      </select>
      <from>
        <table name="s_debet_state" as="a" />
        <query name="k_state" as="pr_obr" join="left outer">
          <call function="=">
            <column table="a" column="pr_obr"></column>
            <column table="pr_obr" column="pr_obr"></column>
          </call>
        </query>
        <query name="k_state_reason" as="kod_reason" join="left outer">
          <call function="=">
            <column table="a" column="kod_reason"></column>
            <column table="kod_reason" column="kod_reason"></column>
          </call>
        </query>
        <query name="s_debet" as="kod_deb" join="left outer">
          <call function="=">
            <column table="a" column="kod_deb"></column>
            <column table="kod_deb" column="kod_deb"></column>
          </call>
        </query>
      </from>
    </query>
    <query name="s_edizm" class="1" timestamp="18.03.2016 16:33:07" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_edizm.xml">
      <select>
        <column table="a" column="kod" type="number" title="" dimension="kod_edizm" />
        <column table="a" column="name" type="string" title="Наименование" />
        <column table="a" column="dat" type="date" title="" />
        <column table="a" column="polzov" type="string" title="" />
        <column table="a" column="kod_okei" type="string" />
      </select>
      <from>
        <table name="s_edizm" as="a" />
      </from>
    </query>
    <query name="s_facopl" title="Расшифровка оплаты" class="1" timestamp="27.06.2018 16:46:32" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_facopl.xml">
      <select>
        <column table="a" column="kod_fopl" type="number" dimension="kod_fopl" />
        <column table="a" column="kod_ras" type="number" />
        <column table="a" column="datao" type="date" title="" is-private-dimension="dat" is-final-dimension="dat" dimension="dat" />
        <column table="a" column="god" type="number" title="" />
        <column table="a" column="mes" type="number" title="" />
        <column table="a" column="opl" type="number" title="Оплачено без НДС (руб)" fact="s_facopl_opl" agg="sum" />
        <column table="a" column="nal" type="number" title="Оплачено НДС (руб)" fact="s_facopl_nal" agg="sum" />
        <column table="a" column="datao_vdoc" type="date" title="" />
        <column table="a" column="kod_opl" type="number" />
        <column table="a" column="cust" type="number" title="" />
      </select>
      <from>
        <table name="s_facopl" as="a" />
        <query name="s_facras" as="kod_ras" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="kod_ras" />
            <column table="kod_ras" column="kod_ras" />
          </call>
        </query>
        <query name="s_opl" as="kod_opl" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="kod_opl" />
            <column table="kod_opl" column="kod_opl" />
          </call>
        </query>
      </from>
    </query>
    <query name="s_facras" class="1" timestamp="19.09.2016 01:10:06" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_facras.xml">
      <select>
        <column table="a" column="kod_ras" type="number" dimension="kod_ras" />
        <column table="a" column="kod_sf" type="number" />
        <column table="a" column="kodg" type="number" title="" />
        <column table="a" column="vid_t" type="number" title="" />
        <column table="a" column="okdp" type="string" title="" />
        <column table="a" column="edizm" type="number" title="" />
        <column table="a" column="cust" type="number" title="Начислено нат. пок." fact="s_facras_cust" agg="sum" />
        <column table="a" column="price" type="number" title="" />
        <column table="a" column="nachisl" type="number" title="Начислено без НДС (руб)" fact="s_facras_nachisl" agg="sum" />
        <column table="a" column="tax" type="number" title="" />
        <column table="a" column="nds" type="number" title="Начислено НДС (руб)" agg="sum" fact="s_facras_nds" />
        <column table="a" column="name" type="string" title="Наименование" />
        <column table="a" column="mes" type="number" title="" />
        <column table="a" column="god" type="number" title="" />
        <column table="a" column="tip_nds" type="number" title="" />
        <column table="a" column="kod_opl" type="number" />
        <column table="a" column="ndog" type="string" title="" />
        <column table="a" column="datdog" type="date" title="" />
        <column table="a" column="k_podvid" type="number" title="" />
        <column table="a" column="kod_rasch_norm" type="number" />
        <column table="a" column="kod_ras_kor" type="number" comment="код строки корректируемой сф" />
        <column table="a" column="flagstor" type="number" title="" />
        <column table="a" column="ktu" type="number" title="" />
        <column table="a" column="custx" type="number" title="" />
      </select>
      <from>
        <table name="s_facras" as="a" />
        <query name="d_tarif" as="kodg" join="left outer">
          <call function="=">
            <column table="a" column="kodg" />
            <column table="kodg" column="kod" />
          </call>
        </query>
        <query name="k_nds" as="tip_nds" join="left outer">
          <call function="=">
            <column table="a" column="tip_nds" />
            <column table="tip_nds" column="tip_nds" />
          </call>
        </query>
        <query name="s_edizm" as="edizm" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="edizm" />
            <column table="edizm" column="kod" />
          </call>
        </query>
        <query name="s_facvip" as="kod_sf" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="kod_sf" column="kod_sf" />
          </call>
        </query>
        <query name="s_nachisl" as="vid_t" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="vid_t" />
            <column table="vid_t" column="k_vid" />
          </call>
        </query>
        <query name="s_podnachisl" as="k_podvid" join="left outer">
          <call function="=">
            <column table="a" column="k_podvid" />
            <column table="k_podvid" column="k_podvid" />
          </call>
        </query>
      </from>
    </query>
    <query name="s_facvip" class="1" timestamp="23.08.2018 19:33:23" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_facvip.xml">
      <select>
        <column table="a" column="kod_sf" type="number" dimension="kod_sf" />
        <column table="a" column="kod_deb" type="number" />
        <column table="a" column="num_sf" type="string" title="Номер" />
        <column table="a" column="dat_sf" type="date" title="Дата" />
        <column table="a" column="kodp" type="string" title="" />
        <column table="a" column="mes" type="number" title="" />
        <column table="a" column="god" type="number" title="" />
        <column table="a" column="pr_old" type="number" title="" />
        <column table="a" column="vid_sf" type="number" title="" />
        <column table="a" column="vid_pl" type="number" title="" />
        <column table="a" column="pr_osn" type="number" title="" />
        <column table="a" column="pr_sv" type="number" title="" />
        <column table="a" column="vid_real" type="number" title="" />
        <column table="a" column="pr_plat" type="number" title="" />
        <column table="a" column="gru_pl" type="number" title="" />
        <column table="a" column="dcalc_peni" type="date" title="" />
        <column table="a" column="dat_bzad" type="date" title="" />
        <column table="a" column="dat_uchet" type="date" title="" />
        <column table="a" column="promezhut" type="number" title="" />
        <column table="a" column="num_sf_uch" type="string" title="" />
        <column table="a" column="god_uch" type="number" title="" />
        <column table="a" column="mes_uch" type="number" title="" />
        <column table="a" column="ndog_dat_abon" type="string" title="" />
        <column table="a" column="vid_avans" type="number" title="" />
        <column table="a" column="dat_zs" type="date" title="" />
        <column table="a" column="xdog3" type="string" title="" />
        <column table="a" column="prim" type="string" title="" />
        <column table="a" column="kpp" type="string" title="" />
        <column table="a" column="name_gru" type="string" title="" />
        <column table="a" column="adres_gru" type="string" title="" />
        <column table="a" column="kpp_gru" type="string" title="" />
        <column table="a" column="inn" type="string" title="" />
        <column table="a" column="korr_sf" type="number" title="" />
        <column table="a" column="sprefix" type="string" title="" />
        <column table="a" column="spostfix" type="string" title="" />
        <column table="a" column="num_perep" type="number" title="" />
        <column table="a" column="dat_perep" type="date" title="" />
        <column table="a" column="nom_sf" type="string" title="" />
        <column table="a" column="kod_sf_ispr" type="number" />
        <column table="a" column="kod_vid_dpp" type="number" comment="1- переброска 2- доход 3- убыток" />
        <column table="a" column="ym_end_dolg" type="number" title="" />
      </select>
      <from>
        <table name="s_facvip" as="a" />
        <query name="d_payer" as="kodp" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="kodp" />
            <column table="kodp" column="kodp" />
          </call>
        </query>
        <query name="k_vid_pl" as="vid_pl" join="left outer">
          <call function="=">
            <column table="a" column="vid_pl" />
            <column table="vid_pl" column="vid_pl" />
          </call>
        </query>
        <query name="k_vid_real" as="vid_real" join="left outer">
          <call function="=">
            <column table="a" column="vid_real" />
            <column table="vid_real" column="vid_real" />
          </call>
        </query>
        <query name="k_vid_sf" as="vid_sf" join="left outer">
          <call function="=">
            <column table="a" column="vid_sf" />
            <column table="vid_sf" column="vid_sf" />
          </call>
        </query>
        <query name="s_debet" as="kod_deb" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="kod_deb" />
            <column table="kod_deb" column="kod_deb" />
          </call>
        </query>
        <query name="k_vid_dpp" as="kod_vid_dpp" join="left outer">
          <call function="=">
            <column table="a" column="kod_vid_dpp" />
            <column table="kod_vid_dpp" column="kod_vid_dpp" />
          </call>
        </query>
      </from>
    </query>
    <query name="s_facvip_dpp" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_facvip_dpp.xml">
      <select>
        <column table="a" column="kod_sf" type="number" />
        <column table="a" column="pr_osn2" type="number" title="" />
        <call function="rowid" as="s_facvip_dpp_id" key="1" />
      </select>
      <from>
        <table name="s_facvip_dpp" as="a" />
      </from>
    </query>
    <query name="s_nachisl" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_nachisl.xml">
      <select>
        <column table="a" column="k_vid" type="number" title="" />
        <column table="a" column="name" type="string" title="Вид товара" />
        <column table="a" column="dat_k" type="date" title="" />
        <column table="a" column="polzov" type="string" title="" />
        <column table="a" column="izm" type="number" title="" />
        <column table="a" column="chet" type="string" title="" />
        <column table="a" column="por_pech" type="number" title="" comment="порядок печати начислений в сф" />
        <column table="a" column="vid_sf" type="number" title="" comment="вид счета-фактуры" />
        <column table="a" column="podr" type="number" title="" comment="0- общие виды начисл 1-энергонадз 2-теплосеть" />
        <column table="a" column="peny" type="number" title="" />
        <column table="a" column="pr_osn" type="number" title="" />
        <column table="a" column="pr_ras" type="number" title="" />
        <column table="a" column="kod_nds" type="number" />
        <column table="a" column="kod_grp" type="number" />
        <column table="a" column="vid_pl" type="number" title="" />
        <column table="a" column="kod_realiz" type="number" />
        <column table="a" column="name_all" type="string" title="" />
        <column table="a" column="grup" type="number" title="" comment="1-110код,2-гкал отопл,3-гкал гвс,4-кубы" />
      </select>
      <from>
        <table name="s_nachisl" as="a" />
        <query name="k_account" as="chet" join="left outer">
          <call function="=">
            <column table="a" column="chet"></column>
            <column table="chet" column="account"></column>
          </call>
        </query>
        <query name="k_grp_prov" as="kod_realiz" join="left outer">
          <call function="=">
            <column table="a" column="kod_realiz"></column>
            <column table="kod_realiz" column="kod_grp"></column>
          </call>
        </query>
        <query name="k_nds" as="kod_nds" join="left outer">
          <call function="=">
            <column table="a" column="kod_nds"></column>
            <column table="kod_nds" column="tip_nds"></column>
          </call>
        </query>
        <query name="k_vid_sf" as="vid_sf" join="left outer">
          <call function="=">
            <column table="a" column="vid_sf"></column>
            <column table="vid_sf" column="vid_sf"></column>
          </call>
        </query>
        <query name="s_edizm" as="izm" join="left outer">
          <call function="=">
            <column table="a" column="izm"></column>
            <column table="izm" column="kod"></column>
          </call>
        </query>
      </from>
    </query>
    <query name="s_opl" class="1" timestamp="24.08.2018 15:20:07" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\s_opl.xml">
      <select>
        <column table="a" column="kod_opl" type="number" />
        <column table="a" column="kod_deb" type="number" />
        <column table="a" column="kod_ist" type="number" />
        <column table="a" column="kod_stat" type="number" />
        <column table="a" column="vid_pl" type="number" title="" />
        <column table="a" column="kodp" type="string" title="" />
        <column table="a" column="vid_opl" type="string" title="" />
        <column table="a" column="mes" type="number" title="" />
        <column table="a" column="num_opl" type="string" title="" />
        <column table="a" column="god" type="number" title="" />
        <column table="a" column="datao" type="date" title="" />
        <column table="a" column="opl" type="number" title="" />
        <column table="a" column="remark" type="string" title="" />
        <column table="a" column="nalp" type="number" title="" />
        <column table="a" column="flag_raznos" type="number" title="" />
        <column table="a" column="editor" type="string" title="" />
        <column table="a" column="datesys" type="date" title="" />
        <column table="a" column="pr_close" type="number" title="" />
        <column table="a" column="kod_link" type="number" />
        <column table="a" column="kod_vza" type="number" />
        <column table="a" column="num_sf" type="string" title="" />
        <column table="a" column="kod_parent" type="number" />
        <column table="a" column="kod_sf" type="number" />
        <column table="a" column="nal" type="number" title="" />
        <column table="a" column="opls" type="number" title="" />
        <column table="a" column="kod_sf_uo" type="number" />
        <column table="a" column="kod_opl_prev" type="number" />
        <column table="a" column="tax" type="number" title="" />
        <column table="a" column="dat_ist" type="date" title="" />
        <column table="a" column="dat_doc" type="date" title="" />
        <column table="a" column="sprefix" type="string" title="" />
        <column table="a" column="spostfix" type="string" title="" />
        <column table="a" column="nom_sf" type="string" title="" />
        <column table="a" column="dat_end_dolg" type="date" title="" />
      </select>
      <from>
        <table name="s_opl" as="a" />
        <query name="d_payer" as="kodp" join="left outer" dimension="1">
          <call function="=">
            <column table="a" column="kodp" />
            <column table="kodp" column="kodp" />
          </call>
        </query>
        <query name="k_ist_opl" as="kod_ist" join="left outer">
          <call function="=">
            <column table="a" column="kod_ist" />
            <column table="kod_ist" column="kod_ist" />
          </call>
        </query>
        <query name="k_stat_opl" as="kod_stat" join="left outer">
          <call function="=">
            <column table="a" column="kod_stat" />
            <column table="kod_stat" column="kod_stat" />
          </call>
        </query>
        <query name="k_vidopl" as="vid_opl" join="left outer">
          <call function="=">
            <column table="a" column="vid_opl" />
            <column table="vid_opl" column="vid_opl" />
          </call>
        </query>
        <query name="k_vid_real" as="vid_pl" join="left outer">
          <call function="=">
            <column table="a" column="vid_pl" />
            <column table="vid_pl" column="vid_real" />
          </call>
        </query>
        <query name="s_debet" as="kod_deb" join="left outer">
          <call function="=">
            <column table="a" column="kod_deb" />
            <column table="kod_deb" column="kod_deb" />
          </call>
        </query>
        <query name="s_facvip" as="kod_sf" join="left outer" dimension="1" is-final-dimension="1">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="kod_sf" column="kod_sf" />
          </call>
        </query>
        <query name="s_opl" as="kod_opl_prev" join="left outer">
          <call function="=">
            <column table="a" column="kod_opl_prev" />
            <column table="kod_opl_prev" column="kod_opl" />
          </call>
        </query>
        <query name="s_opl" as="kod_parent" join="left outer" dname="childs">
          <call function="=">
            <column table="a" column="kod_parent" />
            <column table="kod_parent" column="kod_opl" />
          </call>
        </query>
      </from>
    </query>
    <query name="ur_invoice" class="1" timestamp="13.09.2016 17:45:34" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\ur_invoice.xml">
      <select>
        <column table="a" column="kod_invoice" type="number" />
        <column table="a" column="kod_delo" type="number" comment="код дела к которому прикреплены сф" />
        <column table="a" column="kod_sf" type="number" comment="код сф прикрепленный к делу" />
        <column table="a" column="kod_isp" type="number" comment="код исполнительного листа" />
        <column table="a" column="dat_cr_isp" type="date" title="" comment="дата корректировки платежки у сиполнительного листа" />
        <column table="a" column="u_m" type="string" title="" comment="имя пользователя" />
        <column table="a" column="d_m" type="date" title="" comment="дата корректировки пользователям" />
        <column table="a" column="kod_document" type="number" comment="код сохраненного документа в ur_document" />
      </select>
      <from>
        <table name="ur_invoice" as="a" />
        <query name="s_facvip" as="kod_sf" join="left inner">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="kod_sf" column="kod_sf" />
          </call>
        </query>
      </from>
    </query>
    <query name="u_opl_isp" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\u_opl_isp.xml">
      <select>
        <column table="a" column="kod_opl" type="number" />
        <column table="a" column="kod_delo" type="number" />
        <column table="a" column="kod_isp" type="number" />
        <column table="a" column="podr" type="number" title="" />
        <column table="a" column="kod_deb" type="string" />
        <column table="a" column="kodp" type="string" title="" />
        <column table="a" column="nashisl" type="number" title="" />
        <column table="a" column="vid_real" type="number" title="" />
        <column table="a" column="summa" type="number" title="" />
        <column table="a" column="vst1" type="number" title="" />
        <column table="a" column="vst2" type="number" title="" />
        <column table="a" column="per_opl1" type="date" title="" />
        <column table="a" column="per_opl2" type="date" title="" />
        <column table="a" column="data_vhod" type="date" title="" />
        <column table="a" column="data" type="date" title="" />
        <column table="a" column="polzov" type="string" title="" />
        <column table="a" column="kod_doc_graf" type="number" />
        <column table="a" column="dpk" type="date" title="" />
        <column table="a" column="tmp" type="string" title="" />
        <column table="a" column="dat_cr_isp" type="date" title="" comment="дата привязки платежкт к исп. листу" />
        <column table="a" column="kod_mat" type="number" />
      </select>
      <from>
        <table name="u_opl_isp" as="a" />
        <query name="u_doc_graf" as="kod_doc_graf" join="left outer">
          <call function="=">
            <column table="a" column="kod_doc_graf"></column>
            <column table="kod_doc_graf" column="kod_doc_graf"></column>
          </call>
        </query>
        <query name="u_hist_delo" as="kod_delo" join="left outer">
          <call function="=">
            <column table="a" column="kod_delo"></column>
            <column table="kod_delo" column="kod_delo"></column>
          </call>
        </query>
        <query name="s_debet" as="kod_deb" join="left outer">
          <call function="=">
            <column table="a" column="kod_deb"></column>
            <column table="kod_deb" column="kod_deb"></column>
          </call>
        </query>
      </from>
    </query>
    <query name="v_ur_sf_isp" class="1" timestamp="14.09.2018 16:10:25" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\original\v_ur_sf_isp.xml">
      <select>
        <column table="a" column="kod_ur_sf_isp" type="string" />
        <column table="a" column="kod_sf" type="number" />
        <column table="a" column="dat_cr_isp" type="date" title="" dimension="dat_ur" />
        <column table="a" column="num_isp" type="string" />
        <column table="a" column="num_delo" type="string" />
        <column table="a" column="dat_entry" type="date" title="" is-fact="1" agg="max" fact="ur_dat_entry_max" is-private-dimension="dat" is-final-dimension="dat" dimension="dat" />
      </select>
      <from>
        <table name="v_ur_sf_isp" as="a" />
        <query name="s_facvip" as="kod_sf" join="left outer" dimension="1" is-private-dimension="1">
          <call function="=">
            <column table="a" column="kod_sf" />
            <column table="kod_sf" column="kod_sf" />
          </call>
        </query>
      </from>
    </query>
  </queries>
  <functions child-name="function" key-name="name" />
  <parts child-name="part" key-name="id">
    <part id="23479-min-year" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <call function="-">
        <call function="nvl" type="number">
          <query>
            <select>
              <column table="a" column="year" group="min" title="мин. год. " />
            </select>
            <from>
              <query name="n_year" as="a" />
            </from>
            <where>
              <call function="or">
                <call function="false" />
                <call function="in" optional="1">
                  <column table="a" column="year" />
                  <useparam name="years" />
                </call>
              </call>
            </where>
          </query>
          <call function="trunc">
            <useparam name="ym" />
          </call>
        </call>
        <const>1</const>
      </call>
    </part>
    <part id="23479-osn-and-dpp" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <!--<call function="or">
           <call function="=">
             <column table="this" column="vid_real"/>
             <const>2</const>
           </call>
           <call function="and">
             <call function="=">
               <column table="this" column="vid_real"/>
               <const>8</const>
             </call>
             <call function="is not null">
               <column table="kod_sf" column="dat_uchet"/>
             </call>
           </call>
        </call>-->
      <call function="=">
        <column table="kod_sf" column="pr_osn2" />
        <const>1</const>
      </call>
    </part>
    <part id="34759-params" file="sql.builder.templates\sql.builder\projects\asuse1\reports\34759.xml">
      <param name="ym1">
        <const>2016.01</const>
      </param>
      <param name="ym2">
        <const>2016.01</const>
      </param>
      <param name="voda_par" />
      <param name="kodp" />
    </part>
    <part id="34759-withparams" file="sql.builder.templates\sql.builder\projects\asuse1\reports\34759.xml">
      <withparams>
        <useparam name="ym1" />
        <useparam name="ym2" />
        <useparam name="voda_par" />
        <useparam name="kodp" />
      </withparams>
    </part>
    <part id="36927-params" timestamp="22.09.2016 22:22:07" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <param name="dat1">
        <const>to_date('01.08.2016','DD.MM.YYYY')</const>
      </param>
      <param name="dat2">
        <const>to_date('01.09.2016','DD.MM.YYYY')</const>
      </param>
      <param name="use_spis">
        <const>1</const>
      </param>
      <param name="dat1str">
        <const>'начало периода'</const>
      </param>
      <param name="dat2str">
        <const>'конец периода'</const>
      </param>
    </part>
    <part id="36927-withparams" timestamp="22.09.2016 22:18:48" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <useparam name="dat1" />
      <useparam name="dat2" />
      <useparam name="use_spis" />
      <useparam name="dat1str" />
      <useparam name="dat2str" />
    </part>
  </parts>
  <views child-name="view" key-name="id">
    <view name="voda_par" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\d_payer.xml">
      select 0 voda_par,'Вода' name from dual union
      select 1 voda_par ,'Пар'  name  from dual
    </view>
    <view name="n_calc" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\n_calc.xml">
      select to_number(to_char(v,'YYYY.MM')) ym from (
      select sysdate+60-level as v from dual connect by level&lt;sysdate-  to_date ('01.01.1992','DD.MM.YYYY')
      ) group  by to_number(to_char(v,'YYYY.MM'))
    </view>
    <view name="s_nachisl_gr" class="1" file="sql.builder.templates\sql.builder\projects\asuse1\scheme\extension\s_nachisl.xml">
      select 1 as grup, 'По тарифу с теплоносителем' as name from dual union
      select 2 , 'Отопление'  from dual union
      select 3 , 'ГВС'  from dual union
      select 4 , 'Теплоноситель'  from dual
    </view>
  </views>
  <reports child-name="report" key-name="name">
    <report name="23479" title="Отчет для свода управленческой отчетности" form="23479" pushpred="1" autobands="1" folder="oborot" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <params>
        <param name="ym" />
        <param name="years" />
      </params>
      <customers>
        <customer id="2" />
      </customers>
      <queries>
        <query name="23479" as="a" title="1">
          <withparams>
            <useparam name="ym" />
            <useparam name="years" />
          </withparams>
        </query>
        <query name="23479-title" as="b" title="2">
          <withparams>
            <useparam name="ym" />
            <useparam name="years" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="36927" title="Исковая задолженность по абонентам" timestamp="22.09.2016 22:35:00" folder="ur_reports" form="36927" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <customers>
        <customer id="2" />
      </customers>
      <params>
        <usepart part="36927-params" />
      </params>
      <queries>
        <query name="36927_abon" as="a" title="По абонентам">
          <withparams>
            <usepart part="36927-withparams" />
          </withparams>
          <query name="36927_isp" as="b" title="По исп. листам">
            <call function="=">
              <column table="a" column="kodp" />
              <column table="b" column="kodp" />
            </call>
            <withparams>
              <usepart part="36927-withparams" />
            </withparams>
          </query>
        </query>
      </queries>
    </report>
    <report name="36927_isp" title="Исковая задолженность по исп. листам" timestamp="22.09.2016 22:27:45" folder="ur_reports" form="36927" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <customers>
        <customer id="2" />
      </customers>
      <params>
        <usepart part="36927-params" />
      </params>
      <queries>
        <query name="36927_abon" as="a" title="По абонентам">
          <withparams>
            <usepart part="36927-withparams" />
          </withparams>
          <query name="36927_isp" as="b" title="По исп. листам" main="1">
            <call function="=">
              <column table="a" column="kodp" />
              <column table="b" column="kodp" />
            </call>
            <withparams>
              <usepart part="36927-withparams" />
            </withparams>
          </query>
        </query>
      </queries>
    </report>
  </reports>
  <forms child-name="form" key-name="name">
    <form name="23479" with-behavior="0" timestamp="16.12.2016 00:05:51" file="sql.builder.templates\sql.builder\projects\asuse1\reports\23479.xml">
      <content>
        <field name="ym" controlType="UICombo" title="Период">
          <listquery>
            <query name="n_calc_dist"></query>
          </listquery>
          <defaultquery>
            <query name="n_calc_max"></query>
          </defaultquery>
        </field>
        <field name="years" controlType="UIList" title="Выделить задолженность по годам">
          <listquery>
            <query name="n_year"></query>
          </listquery>
          <defaultquery>
            <query name="n_year_last4"></query>
          </defaultquery>
        </field>
      </content>
    </form>
    <form name="34759" with-behavior="0" timestamp="16.12.2016 00:05:52" file="sql.builder.templates\sql.builder\projects\asuse1\reports\34759.xml">
      <usefield field="asuse1_ym12" />
      <field name="voda_par" controlType="UIList" title="Вода/Пар">
        <listquery>
          <query name="voda_par"></query>
        </listquery>
      </field>
      <field name="kodp" controlType="UIList" title="Абоненты">
        <listquery>
          <query name="d_payer%tbl"></query>
        </listquery>
      </field>
    </form>
    <form name="36927" timestamp="16.12.2016 00:05:52" with-behavior="0" file="sql.builder.templates\sql.builder\projects\asuse1\reports\36927.xml">
      <usefield field="cmn_date" name="dat1" title="C" mandatory="1">
        <defaultquery>
          <query name="36927_dat1" />
        </defaultquery>
      </usefield>
      <usefield field="cmn_date" name="dat2" title="По" mandatory="1">
        <defaultquery>
          <query name="36927_dat2" />
        </defaultquery>
      </usefield>
      <usefield field="cmn_check" name="use_spis" title="С учетом списания" />
      <usefield field="cmn_string" name="dat1str" title="C" column-visible="0">
        <defaultquery>
          <query name="36927_dat1_str" />
        </defaultquery>
      </usefield>
      <usefield field="cmn_string" name="dat2str" title="По" column-visible="0">
        <defaultquery>
          <query name="36927_dat2_str" />
        </defaultquery>
      </usefield>
    </form>
  </forms>
  <datatypes />
  <editors />
  <folders />
  <globalparams child-name="param" key-name="name" />
  <!--<globalconsts child-name="globalconst" key-name="name">
  </globalconsts>-->
  <expression-packages child-name="expression-package" key-name="name">
    <expression-package name="asuse_tgk_fin" timestamp="14.09.2018 13:59:41" file="sql.builder.templates\sql.builder\projects\asuse1\reports\qube\qube.tgk.xml">
      <call function="+nvl" as="s_facras_nachisl_nds" group="sum" title="Начислено с НДС (руб)" type="number">
        <fact column="s_facras_nachisl" />
        <fact column="s_facras_nds" />
      </call>
      <call function="+nvl" as="s_facopl_opl_nds" group="sum" title="Оплачено с НДС (руб)" type="number">
        <fact column="s_facopl_opl" />
        <fact column="s_facopl_nal" />
      </call>
      <call function="-nvl" as="oborot" group="sum" title="Задолженность с НДС (руб)" type="number">
        <fact column="s_facras_nachisl_nds" />
        <fact column="s_facopl_opl_nds" />
      </call>
      <call function="+nvl" as="oborot_kr" group="sum" type="number" title="Оборот по кредиту">
        <fact column="s_opl_kred_oplf" />
        <fact column="s_opl_stor_oplf" />
      </call>
      <call function="-nvl" as="oborot_spis" group="sum" title="Задолженность с НДС (руб)" type="number">
        <fact column="s_facras_spis_nachislf" />
        <fact column="s_facopl_spis_oplf" />
      </call>
      <call function="-nvl" as="oborot_o_spis" group="sum" title="Списание (руб)" type="number">
        <fact column="s_facras_spis_nachislf" />
        <fact column="s_opl_spis_oplf" />
      </call>
      <call function="-nvl" as="oborot_o" group="sum" title="Задолженность с НДС (руб)" type="number">
        <fact column="s_facras_nachisl_nds" />
        <fact column="s_opl_oplf" />
      </call>
    </expression-package>
  </expression-packages>
  <dimension-packages child-name="dimension-package" key-name="name">
    <dimension-package name="main" timestamp="13.09.2016 18:53:37" file="sql.builder.templates\sql.builder\projects\asuse1\qube\dimension.xml" />
    <dimension-package name="asuse_tgk" timestamp="27.06.2018 15:30:17" file="sql.builder.templates\sql.builder\projects\asuse1\reports\qube\qube.tgk.xml">
      <dimension name="kod_sf" class-type="s_facvip" />
      <dimension name="kod_deb" class-type="s_debet" />
      <dimension name="kod_ras" class-type="s_facras" />
      <dimension name="kod_fopl" class-type="s_facopl" />
      <dimension class-type="s_opl" name="kod_opl" />
      <dimension name="kod_edizm" class-type="s_edizm" />
      <dimension name="kodp" class-type="d_payer" />
      <dimension name="dat_ur" time-type="day" timeline="time_ur" />
      <dimension name="vid_t" class-type="s_nachisl" />
      <dimension name="vid_t_gr" class-type="s_nachisl_gr" />
      <dimension class-type="v_ur_sf_isp" name="kod_ur_sf_isp" />
      <dimension class-type="s_opl_isp" name="kod_opl_isp" />
      <dimension class-type="s_opl_kred" name="kod_opl_kred" />
      <dimension class-type="s_opl_stor" name="kod_opl_stor" />
      <dimension class-type="s_facras_spis_isp" name="kod_fr_spis_isp" />
      <dimension class-type="s_opl_spis_isp" name="kod_opl_spis_isp" />
      <dimension class-type="s_facras_spis" name="kod_fr_spis" />
      <dimension class-type="s_opl_spis" name="kod_opl_spis" />
      <dimension name="kod_ym" class-type="n_calc_dist" />
    </dimension-package>
  </dimension-packages>
  <security-packages child-name="security-package" key-name="name" />
  <color-packages child-name="color-package" key-name="name" />
  <format-packages child-name="format-package" key-name="name" />
  <button-types child-name="button-type" key-name="name" />
  <!--раздел qlikview организовать по аналогии с остальными вместо qlikview/customer/@id   дать имена   qwprojects/qwproject/@customer-->
  <qvprojects />
  <!--<images>
    <image char="" name="link" />
    <image char="" name="dlink" rotate-flip="RotateNoneFlipY"/>
    <image char="" name="call"/>
    <image char="" name="column"/>
  </images>
  <eltypes>
    <eltype  name="vcall" image="call"/>
    <eltype  name="vlink" image="link"/>
    <eltype  name="vdink" image="dlink"/>
    <eltype  name="vcolumn" image="column"/>
  </eltypes>-->
  <fields child-name="field" key-name="id">
    <field id="asuse1_ym12" name="ym" controlType="UIComboRange" title="Отчётный период" file="sql.builder.templates\sql.builder\projects\asuse1\param_fields_asuse.xml">
      <listquery>
        <query name="n_calc_dist"></query>
      </listquery>
      <defaultquery>
        <query name="n_calc_max"></query>
      </defaultquery>
    </field>
  </fields>
  <actions child-name="action" key-name="name" />
  <navigators child-name="navigator" key-name="name" />
  <projects child-name="project" key-name="name" />
</root>