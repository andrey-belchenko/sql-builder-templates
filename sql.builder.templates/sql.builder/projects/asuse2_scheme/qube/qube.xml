<?xml version="1.0" encoding="utf-8"?>
<root>
  <expression-packages>
    <expression-package name="asuse" timestamp="01.04.2016 17:00:38">
      <!--<call function="if" as="test_ym" group="sum" title="Тест период">
        <call function="gt">
          <column table="ym" column="val" />
          <const>2014</const>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="over" as="sr_facras_nachisl_itog" group="sum">
        <call function="sum">
          <fact column="sr_facras_nachisl" />
        </call>
        <call function="partition by">
          <column table="kod_dog" column="kod_dog" />
        </call>
        <call function="order by 2">
          <column table="ym" column="val" />
        </call>
      </call>
      <call function="over" as="sr_facras_nachisl_itog" group="sum">
        <call function="sum">
          <fact column="sr_facras_nachisl" />
        </call>
        <call function="partition by">
          <column table="kod_dog" column="kod_dog" />
        </call>
        <call function="order by 2">
          <column table="ym" column="val" />
        </call>
      </call>
      <call function="()" as="sr_facras_nachisl_itog11" group="sum" cumulate="ym">
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="()" as="sr_facras_nachisl_itog1" group="sum">
        <fact column="sr_facras_nachisl_itog11" />
      </call>
      <call function="over" as="sr_facopl_opl_itog" group="sum">
        <call function="sum">
          <fact column="sr_facopl_opl" />
        </call>
        <call function="partition by">
          <column table="kod_dog" column="kod_dog" />
        </call>
        <call function="order by 2">
          <column table="ym" column="val" />
        </call>
      </call>-->
    </expression-package>
    <expression-package name="asuse_pir" timestamp="09.03.2025 12:25:28">
      <call function="+nvl" agg="sum" as="ur_hist_mat_ba_opl_all">
        <fact column="ur_opl_bnk_posl_resh_osn" />
        <fact column="ur_opl_bnk_posl_resh_peni" />
        <fact column="ur_opl_bnk_posl_resh_shtr" />
        <fact column="ur_opl_bnk_posl_resh_gp" />
        <fact column="ur_hist_mat_ba_opl_ogr_ba" />
      </call>
      <call function="-nvl" as="ur_dp_dolg_vist_or_priz" group="sum" title="Долг по юр. документу">
        <fact column="ur_dp_vist_or_priz" />
        <fact column="ur_opl_vist_or_priz" />
      </call>
      <call function="if" as="ur_dp_dolg_vist_or_priz_osn" group="sum" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="ur_dp_dolg_vist_or_priz" />
      </call>
      <call function="if" as="ur_dp_dolg_vist_or_priz_pn" group="sum" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="ur_dp_dolg_vist_or_priz" />
      </call>
      <call function="if" as="ur_dp_dolg_vist_or_priz_shtr" group="sum" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="ur_dp_dolg_vist_or_priz" />
      </call>
      <call function="if" as="ur_dp_dolg_vist_or_priz_gp" group="sum" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="ur_dp_dolg_vist_or_priz" />
      </call>
      <call function="if" as="ur_opl_do_resh" group="sum" title="Оплата до вынес. реш. суда" type="number">
        <call function="lt">
          <column table="kod_opl" column="dat_uch" />
          <call function="nvl">
            <column table="kod_hist_mat_dec" column="dat_post" />
            <call function="doomsday" />
          </call>
        </call>
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_opl_bnk_do_resh" group="sum" title="Оплата до вынес. реш. суда" type="number">
        <call function="lt">
          <column table="kod_opl" column="dat_uch" />
          <call function="nvl">
            <column table="kod_hist_mat_dec_ba" column="dat_post" />
            <call function="doomsday" />
          </call>
        </call>
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_opl_do_resh_osn" group="sum" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="ur_opl_do_resh" />
      </call>
      <call function="if" as="ur_opl_do_resh_peni" group="sum" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="ur_opl_do_resh" />
      </call>
      <call function="if" as="ur_opl_do_resh_shtr" group="sum" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="ur_opl_do_resh" />
      </call>
      <call function="if" as="ur_opl_do_dat" group="sum" title="Оплата по юр. док до заданной даты" type="number">
        <params>
          <param name="dat" />
        </params>
        <call function="lt">
          <column table="kod_opl" column="dat_uch" />
          <useparam name="dat" />
        </call>
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_opl_deb_posl_resh" group="sum" title="Оплата после вынес. реш. суда" type="number">
        <call function="ge">
          <column table="kod_opl" column="dat_uch" />
          <column table="kod_hist_mat_dec" column="dat_post" />
        </call>
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_opl_posl_resh_gp" group="sum" title="Оплата ГП после выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="ur_opl_posl_resh" />
      </call>
      <call function="if" as="ur_opl_bnk_posl_resh" group="sum" title="Оплата после вынес. реш. суда" type="number">
        <call function="ge">
          <column table="kod_opl" column="dat_uch" />
          <column table="kod_hist_mat_dec_ba" column="dat_post" />
        </call>
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_opl_bnk_posl_resh_peni" group="sum" title="Оплата ГП после выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="ur_opl_bnk_posl_resh" />
      </call>
      <call function="if" as="ur_opl_bnk_posl_resh_shtr" group="sum" title="Оплата штрафа после выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="ur_opl_bnk_posl_resh" />
      </call>
      <call function="if" as="ur_opl_bnk_posl_resh_gp" group="sum" title="Оплата ГП после выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="ur_opl_bnk_posl_resh" />
      </call>
      <call function="if" as="ur_opl_bnk_posl_resh_osn" group="sum" title="Оплата ГП после выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="ur_opl_bnk_posl_resh" />
      </call>
      <call function="if" as="ur_ob_kr" group="sum" title="Оплата после вынес. реш. суда" type="number" exclude="1">
        <call function="is not null">
          <column table="kod_link" column="kod_mat" />
        </call>
        <fact column="fin_ul_ob_kr" />
      </call>
      <call function="+nvl" group="sum" as="ur_opl_posl_resh">
        <fact column="sr_opl_kred_ur" />
        <fact column="ur_opl_deb_posl_resh" />
      </call>
      <call function="if" as="ur_opl_do_il" group="sum" title="Оплата по. реш. суда до выдачи исп. листа" type="number">
        <call function="and">
          <call function="lt">
            <column table="kod_opl" column="dat_uch" />
            <call function="nvl">
              <column table="kod_isp" column="dat_doc" />
              <call function="doomsday" />
            </call>
          </call>
        </call>
        <fact column="ur_opl_posl_resh" />
      </call>
      <call function="if" as="ur_opl_deb_do_il" group="sum" title="Оплата по. реш. суда до выдачи исп. листа" type="number">
        <call function="and">
          <call function="lt">
            <column table="kod_opl" column="dat_uch" />
            <call function="nvl">
              <column table="kod_isp" column="dat_doc" />
              <call function="doomsday" />
            </call>
          </call>
        </call>
        <fact column="ur_opl_deb_posl_resh" />
      </call>
      <call function="if" as="ur_opl_do_il_osn" group="sum" title="Оплата осн. реал. до выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="ur_opl_do_il" />
      </call>
      <call function="if" as="ur_opl_do_il_peni" group="sum" title="Оплата % за польз. чуж.ден. ср. до выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="ur_opl_do_il" />
      </call>
      <call function="if" as="ur_opl_do_il_shtr" group="sum" title="Оплата штрафа до выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="ur_opl_do_il" />
      </call>
      <call function="if" as="ur_opl_do_il_gp" group="sum" title="Оплата ГП" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="ur_opl_do_il" />
      </call>
      <call function="if" as="ur_opl_posl_il" group="sum" type="number" title="Оплата по исп. листу">
        <call function="ge">
          <column table="kod_opl" column="dat_uch" />
          <column table="kod_isp" column="dat_doc" />
        </call>
        <fact column="ur_opl_posl_resh" />
      </call>
      <call function="if" as="ur_opl_deb_posl_il" group="sum" type="number" title="Оплата по исп. листу">
        <call function="ge">
          <column table="kod_opl" column="dat_uch" />
          <column table="kod_isp" column="dat_doc" />
        </call>
        <fact column="ur_opl_deb_posl_resh" />
      </call>
      <call function="if" as="ur_opl_posl_il_gp" group="sum" title="Оплата ГП после выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="ur_opl_posl_il" />
      </call>
      <call function="if" as="ur_opl_posl_il_peni" group="sum" title="Оплата % за польз. чуж.ден. ср. после выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="ur_opl_posl_il" />
      </call>
      <call function="if" as="ur_opl_posl_il_shtr" group="sum" title="Оплата штрафа после выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="ur_opl_posl_il" />
      </call>
      <call function="if" as="ur_opl_posl_il_osn" group="sum" title="Оплата осн. реал. после выдачи исп. листа" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="ur_opl_posl_il" />
      </call>
      <call function="if" as="ur_opl_do_ip_in" group="sum" title="Оплата до начала исполнительного производства" type="number">
        <call function="and">
          <call function="lt">
            <column table="kod_opl" column="dat_uch" />
            <column table="kod_folders_isp" column="dat_create" />
          </call>
        </call>
        <fact column="ur_opl_posl_resh" />
      </call>
      <call function="if" group="sum" as="dolg_on_resh" title="Остаток задолженности до вынес. реш. суда" type="number">
        <call function="is not null">
          <column table="kod_hist_mat_dec" column="dat_post" />
        </call>
        <call function="-nvl">
          <fact column="ur_dp_summa" />
          <fact column="ur_opl_do_resh" />
        </call>
      </call>
      <call function="-nvl" group="sum" as="dolg_do_resh" title="Остаток задолженности до вынес. реш. суда" type="number">
        <fact column="ur_dp_summa" />
        <fact column="ur_opl_do_resh" />
      </call>
      <call function="if" as="dolg_do_resh_osn" group="sum" title="Остаток задолженности до вынес. реш. суда осн. реал" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="dolg_do_resh" />
      </call>
      <call function="if" as="dolg_do_resh_peni" group="sum" title="Остаток задолженности до вынес. реш. суда  % за польз. чуж.ден. ср. до выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="dolg_do_resh" />
      </call>
      <call function="if" as="dolg_do_resh_shtr" group="sum" title="Остаток задолженности до вынес. реш. суда  пени" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="dolg_do_resh" />
      </call>
      <call function="if" as="dolg_on_resh_osn" group="sum" title="Остаток задолженности до вынес. реш. суда осн. реал" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="dolg_on_resh" />
      </call>
      <call function="if" as="dolg_on_resh_peni" group="sum" title="Остаток задолженности до вынес. реш. суда  % за польз. чуж.ден. ср. до выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="dolg_on_resh" />
      </call>
      <call function="-nvl" as="ur_dolg_on_dat" group="sum" title="Задолженность по юр. документу на дату">
        <params>
          <param name="dat" />
        </params>
        <fact column="ur_dp_summa" />
        <fact column="ur_opl_do_dat">
          <withparams>
            <useparam name="dat" />
          </withparams>
        </fact>
      </call>
      <call function="if" group="sum" as="dolg_resh_tek" title="Текущая задолженность по решению" type="number">
        <call function="true" />
        <call function="-nvl">
          <fact column="ur_dp_sum_v" />
          <fact column="ur_opl_posl_resh" />
        </call>
      </call>
      <call function="if" as="dolg_resh_tek_osn" group="sum" title="Текущая задолженность по решению осн. реал" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="dolg_resh_tek" />
      </call>
      <call function="if" as="dolg_resh_tek_peni" group="sum" title="Текущая задолженность по решению  % за польз. чуж.ден. ср. до выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="dolg_resh_tek" />
      </call>
      <call function="if" as="dolg_resh_tek_shtr" group="sum" title="Текущая задолженность по решению  штраф" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="dolg_resh_tek" />
      </call>
      <call function="if" as="dolg_resh_tek_gp" group="sum" type="number" title="Текущая задолженность по решению  ГП">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="dolg_resh_tek" />
      </call>
      <call function="if" as="dolg_resh_tek_gp_doc" group="sum" title="Текущая задолженность по решению  % за польз. чуж.ден. ср. до выд. исп. л." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="dolg_resh_tek" />
      </call>
      <call as="dolg_resh_tek_gp" function="-nvl" group="sum" title="Текущая задолженность по решению  ГП" exclude="1">
        <fact column="ur_hist_mat_dec_gp_otv" />
        <fact column="ur_opl_posl_resh_gp" />
      </call>
      <call function="if" group="sum" as="dolg_on_il" title="Задолженность на дату выдачи исп. листа" type="number">
        <call function="is not null" exclude="1">
          <column table="kod_isp" column="dat_doc" />
        </call>
        <call function="true" />
        <call function="-nvl">
          <fact column="ur_dp_sum_v" />
          <fact column="ur_opl_do_il" />
        </call>
      </call>
      <call function="if" group="sum" as="dolg_deb_on_il" title="Задолженность на дату выдачи исп. листа" type="number">
        <call function="true" />
        <call function="-nvl">
          <fact column="ur_dp_sum_v" />
          <fact column="ur_opl_deb_do_il" />
        </call>
      </call>
      <call function="if" as="dolg_on_il_osn" group="sum" title="Задолженность на дату выдачи исп. листа осн. реал." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="dolg_on_il" />
      </call>
      <call function="if" as="dolg_on_il_gp_doc" group="sum" title="Задолженность на дату выдачи исп. листа % за польз. чуж.ден. ср." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="dolg_on_il" />
      </call>
      <call function="if" as="dolg_on_il_peni" group="sum" title="Задолженность на дату выдачи исп. листа % за польз. чуж.ден. ср." type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="dolg_on_il" />
      </call>
      <call function="if" as="dolg_on_il_shtr" group="sum" title="Задолженность на дату выдачи исп. листа по штрафу" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>4</const>
        </call>
        <fact column="dolg_on_il" />
      </call>
      <call as="dolg_on_il_gp" function="-nvl" group="sum" title="Задолженность на дату выдачи исп. листа ГП" exclude="1">
        <fact column="ur_hist_mat_dec_gp_otv" />
        <fact column="ur_opl_do_il_gp" />
      </call>
      <call function="if" as="dolg_on_il_gp" group="sum" title="Задолженность на дату выдачи исп. листа ГП" type="number">
        <call function="=">
          <column table="kod_dogplat" column="vid_real" />
          <const>9</const>
        </call>
        <fact column="dolg_on_il" />
      </call>
      <call function="if" group="sum" as="dolg_on_ip_in" title="Задолженность на дату начала исп. производства" type="number">
        <call function="is not null">
          <column table="kod_folders_isp" column="dat_create" />
        </call>
        <call function="-nvl">
          <fact column="ur_dp_sum_v" />
          <fact column="ur_opl_do_ip_in" />
        </call>
      </call>
      <call function="if" as="ur_opl" group="sum" title="Оплата по юр. документу" type="number">
        <call function="or">
          <call function="=1">
            <column table="kod_dogplat" column="prizn_konv" title="вроде как признак счета сформированного в арбитраже" />
          </call>
          <call function="gt">
            <column table="kod_opl" column="dat_uch" />
            <call function="earliest">
              <column table="kod_dogplat" column="dat_form" />
              <column table="kod_hist_mat_dec" column="dat_post" />
            </call>
          </call>
        </call>
        <fact column="fin_ul_fl_opl" />
      </call>
      <call function="if" as="ur_opl_do_ur" group="sum" type="number" title="Оплата до включения в юр. документ">
        <call function="le">
          <column table="kod_opl" column="dat_uch" />
          <call function="earliest">
            <column table="kod_dogplat" column="dat_form" />
            <column table="kod_hist_mat_dec" column="dat_post" />
          </call>
        </call>
        <fact column="fin_ul_fl_opl" />
      </call>
      <call function="if" as="ur_opl_peni" group="sum" title="Оплата по юр. документу (пени)" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_opl_osn" group="sum" title="Оплата по юр. документу (осн. реал)" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_opl_vist_or_priz" group="sum" title="Оплата по юр. документу" type="number" comment="!!! Неправильно. Переделать.">
        <call function="gt">
          <column table="kod_opl" column="dat_uch" />
          <call function="nvl">
            <column table="kod_hist_mat_dec" column="dat_post" />
            <column table="kod_dogplat" column="dat_form" />
          </call>
        </call>
        <fact column="fin_ul_fl_opl" />
      </call>
      <call function="greatest_num" as="kod_ur_state" group="max" type="number" title="Код юр. статуса" fact-dimension="kod_ur_state">
        <fact column="kod_ur_state_5" />
        <fact column="kod_ur_state_6" />
        <fact column="kod_ur_state_4" />
        <fact column="kod_ur_state_3" />
        <fact column="kod_ur_state_2" />
        <fact column="kod_ur_state_1" />
      </call>
      <call function="greatest_num" as="kod_ur_state_pp" group="max" type="number" title="Код юр. статуса" fact-dimension="kod_ur_state">
        <fact column="kod_ur_state_5" />
        <fact column="kod_ur_state_4" />
        <fact column="kod_ur_state_3" />
        <fact column="kod_ur_state_2" />
        <fact column="kod_ur_state_1" />
      </call>
      <call function="greatest_num" as="kod_ur_state_astr" group="max" type="number" title="Код юр. статуса">
        <fact column="kod_ur_state_5" />
        <fact column="kod_ur_state_4" />
        <fact column="kod_ur_state_3" />
        <fact column="kod_ur_state_2" />
        <fact column="kod_ur_state_1" />
      </call>
      <call function="earliest" as="ur_isp_pr_min_date" group="min" fact-dimension="kod_ur_state" title="Дата выставления на исполнение">
        <fact column="ur_kazn_dat_doc_min" />
        <fact column="ur_ink_dat_doc_min" />
        <fact column="ur_ssp_dat_doc_min" />
      </call>
      <call as="ur_dolg_vist" group="sum" function="-nvl" title="Задолженность по юр. документу от предъявленной суммы">
        <fact column="ur_dp_summa" />
        <fact column="ur_opl" />
      </call>
      <call function="if" as="ur_dolg_vist_osn" group="sum" title="Задолженность по юр. документу от предъявленной суммы (осн. реал)" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>2</const>
        </call>
        <fact column="ur_dolg_vist" />
      </call>
      <call function="if" as="ur_dolg_vist_peni" group="sum" title="Задолженность по юр. документу от предъявленной суммы (пени)" type="number">
        <call function="=">
          <column table="vid_real" column="vid_real" />
          <const>7</const>
        </call>
        <fact column="ur_dolg_vist" />
      </call>
    </expression-package>
    <expression-package name="asuse_fin_ul" timestamp="09.03.2025 12:36:11">
      <call function="+nvl" as="fin_ul_ob_ba" agg="sum">
        <fact column="fin_ul_ob_osn" />
        <fact column="fin_ul_ob_peni" />
        <fact column="fin_ul_ob_shtr" />
        <fact column="fin_ul_ob_gp" />
        <fact column="ur_hist_mat_ba_ost_ogr" />
      </call>
      <call function="vg_period.ym_enum_str_to_ym_ranges_str" as="peni_period_str" group="max" title="Период пени">
        <fact column="peni_period_ym" />
      </call>
      <call function="smallest not 0" as="ur_mat_period_min" group="min" title="Оборот">
        <fact column="ur_dp_ym_min_mat" />
        <fact column="ur_mat_period_zadol_s_vvod" />
      </call>
      <call function="greatest_num" as="ur_mat_period_max" group="max" title="Оборот">
        <fact column="ur_dp_ym_max_mat" />
        <fact column="ur_mat_period_zadol_po_vvod" />
      </call>
      <call function="nvl" as="peni_period_str_full" group="max" title="Оборот">
        <fact column="peni_period_str" />
        <fact column="mat_peni_period_str" />
      </call>
      <call function="-nvl" as="fin_ul_ob" group="sum" title="Оборот">
        <fact column="sr_facras_nachisl" />
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="if" as="fin_ul_ob_on_date" group="sum" title="Оборот" type="number">
        <params>
          <param name="dat" type="number" />
        </params>
        <call function="le">
          <column table="dat_dolg" column="val" />
          <useparam name="dat" />
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" as="fin_ul_ob_on_tek_date" group="sum" title="Оборот" type="number">
        <params>
          <param name="dat" type="number" />
        </params>
        <call function="le">
          <column table="dat" column="val" />
          <useparam name="dat" />
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="-nvl" as="fin_ul_ob_do_dat_dolg" group="sum" title="Оборот до даты задолженности">
        <fact column="sr_facras_nachisl" />
        <fact column="sr_opl_sf_do_dat_dolg" />
      </call>
      <call group="sum" function="if" as="sr_opl_sf_do_dat_dolg" title="Оплата до даты наступления задолженности">
        <call function="le">
          <column table="kod_opl" column="dat_oper" />
          <column table="kod_sf" column="dat_ezad_kaz" />
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="-nvl" as="fin_ul_ob_kassa" group="sum" title="Оборот по кассе">
        <fact column="sr_opl_opl_kassa_cash" />
        <fact column="sr_inkasso_sum" />
      </call>
      <call function="if" as="fin_ul_ym_dolg_min" group="min" title="Период начисления мин.">
        <call function="!=0">
          <call function="over">
            <call function="sum">
              <fact column="fin_ul_ob" />
            </call>
            <call function="partition by">
              <column table="kod_sf" column="kod_sf" />
            </call>
          </call>
        </call>
        <column table="kod_sf" column="ym" />
      </call>
      <call function="if" as="fin_ul_ym_dolg_max" group="max" title="Период начисления макс.">
        <call function="!=0">
          <call function="over">
            <call function="sum">
              <fact column="fin_ul_ob" />
            </call>
            <call function="partition by">
              <column table="kod_sf" column="kod_sf" />
            </call>
          </call>
        </call>
        <column table="kod_sf" column="ym" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_opl_bnk_osn_av">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2,0</array>
        </call>
        <fact column="sr_opl_opl_bnk" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_osn">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2</array>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_osn_rm">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2,3</array>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_opl_sf_osn">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2</array>
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_opl_sf_av">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>0</array>
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_opl_kred_av">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>0</array>
        </call>
        <fact column="sr_opl_opl_kred" />
      </call>
      <call function="if" type="number" group="sum" as="sr_opl_opl_real_rm">
        <call function="in">
          <column table="kod_opl" column="vid_real" />
          <array>2,0,3</array>
        </call>
        <fact column="opl" />
      </call>
      <call function="if" type="number" group="sum" as="sr_opl_opl_real">
        <call function="in">
          <column table="kod_opl" column="vid_real" />
          <array>2,0</array>
        </call>
        <fact column="opl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_av" title="Начислено (аванс)">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>0</array>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_av_10" title="Начислено (аванс)">
        <call function="and">
          <call function="in">
            <column table="vid_real" column="vid_real" />
            <array>0</array>
          </call>
          <call function="not in">
            <column table="kod_vist_day" column="kod_bzad" />
            <const>24</const>
          </call>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_av_10_w_day" title="Начислено (аванс)">
        <call function="and">
          <call function="in">
            <column table="vid_real" column="vid_real" />
            <array>0</array>
          </call>
          <call function="not in">
            <column table="kod_vist_day" column="kod_bzad" />
            <const>(13,24)</const>
          </call>
          <call function="=">
            <column table="kod_vist_day" column="day" />
            <column table="kod_sf" column="vist_day" />
          </call>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_av_25" title="Начислено (аванс)">
        <call function="and">
          <call function="in">
            <column table="vid_real" column="vid_real" />
            <array>0</array>
          </call>
          <call function="in">
            <column table="kod_vist_day" column="kod_bzad" />
            <const>24</const>
          </call>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_av_25_w_day" title="Начислено (аванс)">
        <call function="and">
          <call function="in">
            <column table="vid_real" column="vid_real" />
            <array>0</array>
          </call>
          <call function="in">
            <column table="kod_vist_day" column="kod_bzad" />
            <const>(13,24)</const>
          </call>
          <call function="=">
            <column table="kod_vist_day" column="day" />
            <column table="kod_sf" column="vist_day" />
          </call>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_osn_rm" title="Оборот по осн. реал">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2,3</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_osn" title="Оборот по осн. реал">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_not_av">
        <call function="not in">
          <column table="vid_real" column="vid_real" />
          <array>0</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_osn_pr" title="Оборот по осн. и пр.  реал">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2,3</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_av" title="Оборот по счетам на аванс">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>0</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_peni" title="Оборот по счетам на пени">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>7</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_shtr" title="Оборот по счетам на штраф">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>4</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_gp" title="Оборот по счетам на ГП">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>9</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_gp" title="Оборот по ГП" exclude="1">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>9</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_os_av" title="Оборот по осн. реал и авансам">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2,0</array>
        </call>
        <fact column="fin_ul_ob" />
      </call>
      <call function="+nvl" as="fin_ul_ob_kr" group="sum" title="Кредиторская задолженность">
        <fact column="sr_opl_opl_kred" />
        <fact column="sr_opl_opl_stor" />
      </call>
      <call function="+nvl" as="fin_ul_ob_kr_nal" group="sum" title="Кредиторская задолженность НДС">
        <fact column="sr_opl_nal_kred" />
        <fact column="sr_opl_nal_stor" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_kr_os_av_rm" title="Кредиторская задолженность  по осн. реал и авансам">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2,0,3</array>
        </call>
        <fact column="fin_ul_ob_kr" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_kr_os_av" title="Кредиторская задолженность  по осн. реал и авансам">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2,0</array>
        </call>
        <fact column="fin_ul_ob_kr" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_kr_os" title="Кредиторская задолженность  по осн. реал">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2</array>
        </call>
        <fact column="fin_ul_ob_kr" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_kr_not_av" title="Кредиторская задолженность  по осн. реал">
        <call function="not in">
          <column table="vid_real" column="vid_real" />
          <array>0</array>
        </call>
        <fact column="fin_ul_ob_kr" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_ob_kr_av" title="Кредиторская задолженность  по  авансам">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>0</array>
        </call>
        <fact column="fin_ul_ob_kr" />
      </call>
      <call function="-nvl" as="fin_ul_ob_all_rm" title="Оборот деб. и кр. (долг)" group="sum">
        <fact column="fin_ul_ob_osn_rm" />
        <fact column="fin_ul_ob_kr_os_av_rm" />
      </call>
      <call function="-nvl" as="fin_ul_ob_all" title="Оборот деб. и кр. (долг)" group="sum">
        <fact column="fin_ul_ob_osn" />
        <fact column="fin_ul_ob_kr_os_av" />
      </call>
      <call function="+nvl" as="fin_ul_ob_av_uav" title="Оборот деб. ав. (долг)" group="sum" exclude="1">
        <fact column="fin_ul_ob_av" />
        <fact column="undo_av_nach" />
      </call>
      <call function="+nvl" as="fin_ul_ob_os_av_uav" title="Оборот деб. осн. и ав. (долг)" group="sum">
        <fact column="fin_ul_ob_os_av" />
        <call function="-nvl">
          <fact column="undo_av_nach" />
          <fact column="undo_av_opl" exclude="1" />
          <fact column="sr_opl_opl_sf_stor" />
        </call>
      </call>
      <call function="-nvl" as="fin_ul_ob_os_av_norm_rm" title="Оборот деб. осн. и ав. (долг)" group="sum">
        <call function="+nvl">
          <fact column="sr_facvip_norm_av_av_nach_rm" />
          <fact column="sr_facvip_norm_av_osn_nach_rm" />
        </call>
        <call function="+nvl">
          <fact column="sr_opl_norm_av_av_rm_opl" />
          <fact column="sr_opl_norm_av_osn_rm_opl" />
        </call>
        <fact column="fin_ul_opl_sf_osn" exclude="1" />
      </call>
      <call function="-nvl" as="fin_ul_ob_os_av_norm" title="Оборот деб. осн. и ав. (долг)" group="sum">
        <call function="+nvl">
          <fact column="sr_facvip_norm_av_av_nach" />
          <fact column="sr_facvip_norm_av_osn_nach" />
        </call>
        <call function="+nvl">
          <fact column="sr_opl_norm_av_av_opl" />
          <fact column="sr_opl_norm_av_osn_opl" />
        </call>
        <fact column="fin_ul_opl_sf_osn" exclude="1" />
      </call>
      <call function="+nvl" as="fin_ul_ob_os_av_uav_kr" title="Оборот деб. и кр. (долг)" group="sum">
        <fact column="fin_ul_ob_os_av_uav" />
        <call function="0-">
          <fact column="fin_ul_ob_kr_os" />
        </call>
      </call>
      <call function="-nvl" as="fin_ul_ob_fac" group="sum" title="Оборот по расшифровкам">
        <fact column="sr_facras_nachisl" />
        <fact column="sr_facopl_opl" />
      </call>
      <call function="-nvl" as="fin_ul_ob_cust" group="sum" title="Оборот нат.показ.">
        <fact column="sr_facras_cust" />
        <fact column="sr_facopl_cust" />
      </call>
      <call function="-nvl" as="fin_ul_opl_nonal" group="sum" title="Оплачено без налогов">
        <fact column="sr_facopl_opl" />
        <fact column="sr_facopl_nal" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_peni" title="Начисления пени" exclude="1">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>7</array>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_nachisl_gp" title="Начисления госпошлины">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>9</array>
        </call>
        <fact column="sr_facras_nachisl" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_opl_peni" title="Оплата пени" exclude="1">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>7</array>
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="if" type="number" group="sum" as="fin_ul_opl_gp" title="Начисления пени">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>9</array>
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
    </expression-package>
    <expression-package name="asuse_fin_fl" timestamp="24.03.2016 13:53:57">
      <call function="-nvl" as="fin_fl_ob" group="sum" title="Оборот деб.">
        <fact column="tnr_acc_nach" />
        <fact column="tsr_opl_opl_izv" />
      </call>
      <call function="-nvl" as="fin_fl_acc_ob" group="sum" title="Оборот деб. (по начислениям)">
        <fact column="tnr_acc_nach" />
        <fact column="tsr_acc_opl_opl" />
      </call>
      <call function="+nvl" as="fin_fl_ob_kr" group="sum" title="Оборот кред.">
        <fact column="tsr_opl_opl_kred" />
        <fact column="tsr_opl_opl_stor" />
      </call>
      <call function="if" type="number" group="sum" as="fin_fl_ob_osn" title="Оборот по осн. реал">
        <call function="in">
          <column table="vid_real" column="vid_real" />
          <array>2</array>
        </call>
        <fact column="fin_fl_ob" />
      </call>
    </expression-package>
    <expression-package name="asuse_fin_ul_fl" timestamp="28.04.2017 13:52:15">
      <call function="()" as="fin_ul_fl_opl" group="sum" comment="пока используется только в арбитраже">
        <fact column="sr_opl_opl_sf" />
      </call>
    </expression-package>
    <expression-package name="asuse_ur_fin_astr" timestamp="18.06.2016 02:44:22">
      <call function="if" as="fin_ul_astr_exst" group="max" title="Есть астрент (по начислениям)" type="number" controlType="UICheck">
        <call function="!=0">
          <fact column="fin_ul_nach_astr" />
        </call>
        <const>1</const>
      </call>
      <call function="-nvl" group="sum" as="fin_ul_dolg_astr" title="Долг по астренту">
        <fact column="fin_ul_nach_astr" />
        <fact column="fin_ul_opl_astr" />
      </call>
      <call function="if" as="ur_opl_do_il_astr" group="sum" title="Оплата по. реш. суда до выдачи исп. листа" type="number">
        <call function="lt">
          <column table="kod_opl_astr" column="dat_opl" />
          <call function="nvl">
            <column table="kod_isp" column="dat_doc" />
            <call function="doomsday" />
          </call>
        </call>
        <fact column="fin_ul_opl_astr" />
      </call>
      <call function="-nvl" group="sum" as="dolg_on_il_astr" title="Долг по астренту">
        <fact column="fin_ul_nach_astr" />
        <fact column="ur_opl_do_il_astr" />
      </call>
      <call function="if" as="ur_opl_posl_il_astr" group="sum" title="Оплата по. реш. суда до выдачи исп. листа" type="number">
        <call function="ge">
          <column table="kod_opl_astr" column="dat_opl" />
          <column table="kod_isp" column="dat_doc" />
        </call>
        <fact column="fin_ul_opl_astr" />
      </call>
    </expression-package>
    <expression-package name="asuse_ur_graf" timestamp="06.07.2018 18:48:13">
      <call function="if" as="ur_graf_opl_opl_do" group="sum" title="Оплата поступившая ранее" type="number" exclude="1">
        <call function="lt">
          <column table="kod_opl_sf" column="dat_oper" />
          <call function="nvl">
            <column table="kod_graf" column="dat_opl_min" />
            <call function="doomsday" />
          </call>
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="over" group="min" as="ur_graf_dat_min" title="Самая раняя дата оплаты по гарфику" type="date">
        <call function="min">
          <fact column="ur_graf_opl_dat_min" />
        </call>
        <call function="partition by">
          <column table="kod_graf" column="kod_graf" />
        </call>
      </call>
      <call function="if" as="fin_ul_opl_graf_old" group="sum" title="Оплата по графику оплат" type="number">
        <call function="ge">
          <column table="kod_opl" column="dat_opl" />
          <column table="kod_graf" column="dat_opl_beg_nvl" />
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="if" as="fin_ul_opl_graf" group="sum" title="Оплата по графику оплат" type="number">
        <call function="and">
          <call function="!=nvl">
            <column table="kod_opl" column="pr_not_in_graf" />
            <const type="number">1</const>
          </call>
          <call function="ge">
            <column table="kod_opl" column="dat_opl" />
            <column table="kod_graf" column="dat_opl_beg_nvl" />
          </call>
        </call>
        <fact column="sr_opl_opl_sf" />
      </call>
      <call function="if" as="fin_ul_ob_graf" group="sum" title="Оборот по графику оплат" type="number">
        <call function="is not null">
          <column table="kod_graf" column="kod_graf" />
        </call>
        <call function="-nvl">
          <fact column="ur_graf_opl_sum" />
          <fact column="fin_ul_opl_graf" />
        </call>
      </call>
    </expression-package>
    <expression-package name="asuse_ur_ip" timestamp="20.06.2016 19:35:43">
      <call function="if" as="ur_fld_isp_kod_isp_vld" group="max" type="string">
        <call function="gt">
          <fact column="ur_folders_isp_othr_count" />
          <const>1</const>
        </call>
        <const>'По выбранному исп. листу уже есть папка исполнительного производства'</const>
      </call>
    </expression-package>
    <expression-package name="asuse_ur_pretenz" timestamp="27.07.2017 20:00:48">
      <call function="-nvl" as="ur_pretenz_ost_ogr" group="sum" title="Остаток расходов за ограничение энергопотребления">
        <fact column="ur_pretenz_ogr" />
        <fact column="ur_pretenz_opl_ogr" />
      </call>
      <call as="ur_dp_sum_all_on_pret" title="Заявленная сумма по претензии" group="sum" function="+nvl">
        <fact column="ur_dp_summa" />
        <fact column="ur_pretenz_ogr" />
      </call>
      <call as="ur_opl_on_pret" title="Оплата по претензии" group="sum" function="+nvl">
        <fact column="ur_opl" />
        <fact column="ur_pretenz_opl_ogr" />
      </call>
      <call as="ur_dolg_on_pret" group="sum" function="-nvl" title="Задолженность по претензии">
        <fact column="ur_dp_sum_all_on_pret" />
        <fact column="ur_opl_on_pret" />
      </call>
      <call as="ur_pretenz_count" title="Количество претензий в папке" group="sum" function="+" nullif="0">
        <fact column="ur_pretenz_count_old" />
        <fact column="ur_pret_count" />
      </call>
    </expression-package>
    <expression-package name="asuse_ur_sogl" timestamp="21.06.2016 00:55:34">
      <call as="ur_dp_sum_all_on_sogl" title="Заявленная сумма по доп.документу" group="sum" function="+nvl">
        <fact column="ur_dp_summa" />
        <fact column="ur_sogl_ogr" />
      </call>
      <call as="ur_opl_on_sogl" title="Оплата  по доп.документу" group="sum" function="+nvl">
        <fact column="ur_opl" />
        <fact column="ur_sogl_opl_ogr" />
      </call>
      <call as="ur_dolg_on_sogl" group="sum" function="-nvl" title="Задолженность  по доп.документу">
        <fact column="ur_dp_sum_all_on_sogl" />
        <fact column="ur_opl_on_sogl" />
      </call>
      <call function="-nvl" as="ur_sogl_ost_ogr" group="sum" title="Остаток расходов за ограничение энергопотребления">
        <fact column="ur_sogl_ogr" />
        <fact column="ur_sogl_opl_ogr" />
      </call>
    </expression-package>
    <expression-package name="asuse_ur_isk" timestamp="11.03.2019 15:44:05">
      <call as="ur_dp_priz_hnd" group="sum" function="+nvl" title="Признанная сумма  с учетом ручных сумм">
        <fact column="ur_dp_priz_all" />
        <fact column="ur_hist_mat_dec_hand_sum" />
      </call>
      <call as="ur_dp_ba_priz_hnd" group="sum" function="+nvl" title="Признанная сумма  с учетом ручных сумм">
        <fact column="ur_dp_priz_all" />
        <fact column="ur_hist_mat_dec_hand_sum" exclude="1" />
      </call>
      <call as="ur_hand_opl_do_il" function="if" type="number" title="Долг по ручным сумм до выдачи исп листа">
        <call function="is null">
          <column table="kod_isp" column="kod_isp" />
        </call>
        <fact column="ur_hist_mat_dec_hand_opl" />
      </call>
      <call as="ur_hand_dolg_on_il" function="if" type="number" title="Оплата ручных сумм до выдачи исп листа">
        <call function="is null">
          <column table="kod_isp" column="kod_isp" />
        </call>
        <fact column="ur_hist_mat_dec_hand_ost" />
        <fact column="ur_hist_mat_dec_hand_sum" />
      </call>
      <call as="ur_opl_do_il_hnd" group="sum" function="+nvl" title="Оплата до выдачи исп листа учетом ручных сумм">
        <fact column="ur_opl_do_il" />
        <fact column="ur_hand_opl_do_il" />
      </call>
      <call as="dolg_on_il_hnd" group="sum" function="+nvl" title="Долг на дату выдачи ИЛ с учетом ручных сумм">
        <fact column="dolg_on_il" />
        <fact column="ur_hand_dolg_on_il" />
        <fact column="dolg_on_il_astr" />
      </call>
      <call as="ur_opl_posl_il_hnd" group="sum" function="+nvl" title="Оплата по исп листу с учетом ручных сумм">
        <fact column="ur_opl_posl_il" />
        <fact column="ur_hist_mat_dec_hand_opl" />
        <fact column="ur_opl_posl_il_astr" />
      </call>
      <call as="dolg_resh_tek_hnd" group="sum" function="+nvl" title="Долг по решению  с учетом ручных сумм">
        <fact column="dolg_resh_tek" />
        <fact column="ur_hist_mat_dec_hand_ost" />
        <fact column="fin_ul_dolg_astr" />
      </call>
      <call as="dolg_resh_tek_hnd_s" group="sum" function="+nvl" title="Долг по решению  с учетом ручных сумм">
        <fact column="fin_ul_ob" />
        <fact column="ur_hist_mat_dec_hand_ost" />
        <fact column="fin_ul_dolg_astr" />
      </call>
    </expression-package>
    <expression-package name="asuse_ur_inkasso" timestamp="23.06.2016 16:35:14">
      <call function="-nvl" as="dolg_inkasso_tek_ogr" group="sum">
        <fact column="ur_hist_mat_dec_ogr" />
        <fact column="ur_inkasso_ogr_v" />
      </call>
      <call function="-nvl" as="dolg_inkasso_tek_sud_izd" group="sum">
        <fact column="ur_hist_mat_dec_sud_izd" />
        <fact column="ur_inkasso_sud_izd_v" />
      </call>
      <call function="-nvl" as="dolg_inkasso_tek_astr" group="sum">
        <fact column="dolg_on_il_astr" />
        <fact column="ur_inkasso_astrent_v" />
      </call>
      <call function="+nvl" as="ur_opl_inkasso" group="sum">
        <fact column="ur_opl_posl_il" />
        <fact column="ur_inkasso_hand_opl" />
      </call>
      <call function="-nvl" as="dolg_inkasso" group="sum">
        <fact column="dolg_on_il_hnd" />
        <fact column="ur_opl_inkasso" />
      </call>
    </expression-package>
    <expression-package name="asuse_ur_kazn" timestamp="30.06.2016 02:39:08">
      <call function="-nvl" as="dolg_kazn_tek_ogr" group="sum">
        <fact column="ur_hist_mat_dec_ogr" />
        <fact column="ur_kazn_ogr_v" />
      </call>
      <call function="-nvl" as="dolg_kazn_tek_sud_izd" group="sum">
        <fact column="ur_hist_mat_dec_sud_izd" />
        <fact column="ur_kazn_sud_izd_v" />
      </call>
      <call function="-nvl" as="dolg_kazn_tek_astr" group="sum">
        <fact column="dolg_on_il_astr" />
        <fact column="ur_kazn_astrent_v" />
      </call>
      <call function="+nvl" as="ur_opl_kazn" group="sum">
        <fact column="ur_opl_posl_il" />
        <fact column="ur_kazn_hand_opl" />
      </call>
      <call function="-nvl" as="dolg_kazn" group="sum">
        <fact column="dolg_on_il_hnd" />
        <fact column="ur_opl_kazn" />
      </call>
    </expression-package>
    <expression-package name="asuse_ur_isp_other" timestamp="22.09.2023 15:08:20">
      <call function="if" as="dolg_isp_other_tek_ogr" group="sum" type="number">
        <call function="or">
          <call function="is not null">
            <fact column="ur_hist_mat_dec_ogr" />
          </call>
          <call function="is not null">
            <fact column="ur_isp_other_paid_rvre" />
          </call>
        </call>
        <call function="-nvl">
          <fact column="ur_hist_mat_dec_ogr" />
          <fact column="ur_isp_other_paid_rvre" />
        </call>
        <call function="null" />
      </call>
      <call function="if" as="dolg_isp_other_tek_sud_izd" group="sum" type="number">
        <call function="or">
          <call function="is not null">
            <fact column="ur_hist_mat_dec_sud_izd" />
          </call>
          <call function="is not null">
            <fact column="ur_isp_other_paid_sud_izd" />
          </call>
        </call>
        <call function="-nvl">
          <fact column="ur_hist_mat_dec_sud_izd" />
          <fact column="ur_isp_other_paid_sud_izd" />
        </call>
        <call function="null" />
      </call>
      <call function="if" as="dolg_isp_other_tek_astr" group="sum" type="number">
        <call function="or">
          <call function="is not null">
            <fact column="dolg_on_il_astr" />
          </call>
          <call function="is not null">
            <fact column="ur_isp_other_paid_astr" />
          </call>
        </call>
        <call function="-nvl">
          <fact column="dolg_on_il_astr" />
          <fact column="ur_isp_other_paid_astr" />
        </call>
        <call function="null" />
      </call>
      <call function="+nvl" as="ur_opl_isp_other" group="sum">
        <fact column="ur_opl_posl_il" />
        <fact column="ur_isp_other_hand_opl" />
      </call>
      <call function="-nvl" as="dolg_isp_other" group="sum">
        <fact column="dolg_on_il_hnd" />
        <fact column="ur_opl_isp_other" />
      </call>
      <call function="-nvl" as="ur_isp_other_ost_all" group="sum">
        <fact column="ur_hist_mat_ostatok_zadol_all" />
        <fact column="ur_opl_isp_other" />
      </call>
      <call function="-nvl" as="ur_isp_other_ost_osn" group="sum">
        <fact column="ur_hist_mat_ostatok_osnreal" />
        <fact column="ur_isp_other_paid_onsreal" />
      </call>
      <call function="-nvl" as="ur_isp_other_ost_peni" group="sum">
        <fact column="ur_hist_mat_ostatok_peni" />
        <fact column="ur_isp_other_paid_peni" />
      </call>
      <call function="-nvl" as="ur_isp_other_ost_gp" group="sum">
        <fact column="ur_hist_mat_ostatok_gp_otv" />
        <fact column="ur_isp_other_paid_gp" />
      </call>
      <call function="-nvl" as="ur_isp_other_ost_ogr" group="sum">
        <fact column="ur_hist_mat_ostatok_ogr" />
        <fact column="ur_isp_other_paid_rvre" />
      </call>
      <call function="-nvl" as="ur_isp_other_ost_astrent" group="sum">
        <fact column="ur_hist_mat_ostatok_astrent" />
        <fact column="ur_isp_other_paid_astr" />
      </call>
      <call function="-nvl" as="ur_isp_other_ost_sud_izd" group="sum">
        <fact column="ur_hist_mat_ostatok_sud_izd" />
        <fact column="ur_isp_other_paid_sud_izd" />
      </call>
    </expression-package>
  </expression-packages>
  <dimension-packages>
    <dimension-package name="asuse" timestamp="07.09.2023 20:30:39">
      <dimension name="ur_mat_peni_period" class-type="ur_mat_peni_period" />
      <dimension name="ur_pretenz_peni_period" class-type="ur_pretenz_peni_period" />
      <dimension name="vr_peni_period" class-type="vr_peni_period" />
      <dimension name="ks_ministry" class-type="ks_ministry" />
      <dimension name="sk_edizm" class-type="sk_edizm" />
      <dimension name="sk_vid_sf" class-type="sk_vid_sf" />
      <dimension name="ks_fs" class-type="ks_fs" />
      <dimension name="kr_podr" class-type="kr_podr" />
      <dimension name="kk_cls" class-type="kk_cls" />
      <dimension name="ks_otrasl_root" class-type="ks_otrasl_root" />
      <dimension name="ks_okved" class-type="ks_okved" />
      <dimension name="ks_istfin" class-type="ks_istfin" />
      <dimension name="ks_vdog" class-type="ks_vdog" />
      <dimension name="kr_pret" class-type="kr_pret" />
      <dimension name="kk_active" class-type="kk_active" />
      <dimension name="vr_pret_dolg_sf" class-type="vr_pret_dolg_sf" />
      <dimension name="vr_pret_dolg_dog" class-type="vr_pret_dolg_dog" />
      <dimension name="asuse_num" time-type="string" />
      <dimension name="sr_recalc_sf" class-type="sr_recalc_sf" />
      <dimension name="sr_recalc" class-type="sr_recalc" />
      <dimension name="vid_recalc" class-type="ss_vid_recalc" />
      <dimension name="kod_sf_norm_av_av" class-type="sr_facvip_norm_av_av" />
      <dimension name="kod_sf_norm_av_av_rm" class-type="sr_facvip_norm_av_av_rm" />
      <dimension name="kod_sf_norm_av_osn" class-type="sr_facvip_norm_av_osn" />
      <dimension name="kod_sf_norm_av_osn_rm" class-type="sr_facvip_norm_av_osn_rm" />
      <dimension name="kod_opl_norm_av_av" class-type="sr_opl_norm_av_av" />
      <dimension name="kod_opl_norm_av_av_rm" class-type="sr_opl_norm_av_av_rm" />
      <dimension name="kod_opl_norm_av_osn" class-type="sr_opl_norm_av_osn" />
      <dimension name="kod_opl_norm_av_osn_rm" class-type="sr_opl_norm_av_osn_rm" />
      <dimension name="qube_sf_graf" class-type="qube_sf_graf" />
      <dimension name="kod_group_cust" class-type="ks_group_cust" />
      <dimension name="kod_group_cust_parent" class-type="ks_group_cust_parent_list" />
      <dimension name="dat_s" time-type="day" />
      <dimension name="dat_po" time-type="day" />
      <dimension name="point_dat_s" time-type="day" comment="период существования данных связанных с ТУ с учетом периода существования различных связанных сущьностей" />
      <dimension name="point_dat_po" time-type="day" />
      <dimension name="kod_bal_point_har_all" class-type="hr_bal_point_har_all" />
      <dimension name="kod_bal_point_pu_all" class-type="hr_bal_point_pu_all" />
      <dimension name="eobj_id" class-type="hr_eobject" />
      <dimension name="kod_bal_point_har" class-type="hr_bal_point_har" />
      <dimension name="kod_tippu" class-type="hs_tippu" />
      <dimension name="kod_pktippu" class-type="hs_pktippu" />
      <dimension name="kod_state_lst" class-type="ss_state_lst" />
      <dimension name="kod_esys" class-type="rs_esys" />
      <dimension name="kod_debet_state" class-type="sr_debet_state" />
      <dimension name="kod_pred" class-type="kr_predabon" />
      <dimension name="kod_w" class-type="hr_hisworks" />
      <dimension name="kod_pu_u" class-type="hr_pu_u" />
      <dimension name="kod_point_pu" class-type="hr_point_pu" />
      <dimension name="kod_point_pu_all" class-type="hr_point_pu_all" />
      <dimension name="kod_point_rasx" class-type="hr_point_rasx" />
      <dimension name="kod_point_rasx2" class-type="dr_point_rasx" />
      <dimension name="kod_point_ini" class-type="hr_point_ini" />
      <dimension name="kod_point_tar" class-type="hr_point_tar" />
      <dimension name="kod_dogpodr" class-type="kr_dogpodr" />
      <dimension name="kod_dogobj_emp" class-type="kr_dogobj_emp" />
      <dimension name="kod_dopdoc" class-type="kr_dopdoc" />
      <dimension name="kod_izv_dolg" class-type="tr_izv_dolg" />
      <dimension name="kod_dog" class-type="kr_dogovor" />
      <dimension name="kod_dog_fin" class-type="kr_dogovor_fin" />
      <dimension name="kod_pen" class-type="sr_penni" />
      <dimension name="kod_numobj" class-type="kr_numobj" />
      <dimension name="kod_numobj_mn" class-type="kr_numobj_mn" />
      <dimension name="kod_sf" class-type="sr_facvip" />
      <dimension name="kod_sf_main" class-type="sr_facvip_main" />
      <dimension name="kod_deb" class-type="sr_debet" />
      <dimension name="kod_ras" class-type="sr_facras" />
      <dimension name="kod_ras_undo_av" class-type="sr_facras_undo_av" />
      <dimension name="kod_opl" class-type="sr_opl" />
      <dimension name="kod_link" class-type="sr_opl_bank" />
      <dimension name="kod_inkasso_fin" class-type="sr_inkasso" />
      <dimension name="kod_link_main" class-type="sr_opl_bank_main" />
      <dimension name="kod_link_child" class-type="sr_opl_bank_child" />
      <dimension name="kod_link_bro" class-type="sr_opl_bank_bro" />
      <dimension name="kod_opl_sf" class-type="sr_opl_sf" />
      <dimension name="kod_opl_sf_nal" class-type="sr_opl_sf_nal" />
      <dimension name="kod_opl_kred" class-type="sr_opl_kred" />
      <dimension name="kod_opl_stor" class-type="sr_opl_stor" />
      <dimension name="kod_opl_kassa" class-type="sr_opl_kassa" />
      <dimension name="kodbpol" class-type="ks_bankpol" />
      <dimension name="kodb" class-type="ks_bank" />
      <dimension name="kod_fopl" class-type="sr_facopl" />
      <dimension name="vid_t" class-type="sk_nachisl" />
      <dimension name="vid_real" class-type="sk_vid_real" />
      <dimension name="vid_real_no_av" class-type="sk_vid_real_list_no_avans" />
      <dimension name="kodp" class-type="kr_payer" />
      <dimension name="kod_type_opl" class-type="sk_type_opl" />
      <dimension name="kod_account" class-type="nr_account" />
      <dimension name="voltage" class-type="hk_voltage" />
      <dimension name="kod_v" class-type="hk_v" />
      <dimension name="voltage_fact" class-type="hk_voltage_fact" />
      <dimension name="kod_point_tree" class-type="hr_point_tree" parent-field-name="kod_pointmain" />
      <dimension name="kod_bal_point" class-type="hr_bal_point" />
      <dimension name="kod_bal_point_pu" class-type="hr_bal_point_pu" />
      <dimension name="kod_point" class-type="hr_point" />
      <dimension name="kod_point2" class-type="dr_point" />
      <dimension name="kod_ar_point" class-type="ar_point" />
      <dimension name="kod_point_har" class-type="hr_point_har" />
      <dimension name="kod_point_har2" class-type="dr_point_har" />
      <dimension name="kod_priem" class-type="nr_priem" />
      <dimension name="tarif" class-type="ks_tarif" parent-field-name="tarif_parent" />
      <dimension name="vid_t_teplo" class-type="sk_nachisl_teplo" />
      <dimension name="kodcalc" class-type="nr_calc" />
      <dimension name="kod_emp" class-type="kr_employee" />
      <dimension name="kod_emp_ruk" class-type="kr_employee_ruk" />
      <dimension name="kod_emp_buh" class-type="kr_employee_buh" />
      <dimension name="kodp_org" class-type="kr_org" />
      <dimension name="kod_dep" class-type="kr_dep" />
      <dimension name="kod_his_upr" class-type="tr_his_upr" />
      <dimension name="kod_obj_vdr" class-type="kr_object_vdr" />
      <dimension name="kod_otrasl" class-type="ks_otrasl" parent-field-name="parent" />
      <dimension name="kod_f46" class-type="ks_46" />
      <dimension name="kod_avans_uved" class-type="sr_avans_uved" />
      <dimension name="kod_akt_sver" class-type="sr_akt" />
      <dimension name="kod_org_edo" class-type="kr_org_edo" />
      <dimension name="kod_akt_sver_row" class-type="sr_akt_number" />
      <dimension name="kod_vist_day" class-type="kr_vist_day" />
      <dimension name="kod_vidopl" class-type="ss_vidopl" />
      <dimension name="kod_fopl_nal" class-type="sr_facopl_nal" />
      <dimension name="kodd" class-type="k_house" />
      <dimension name="day_pokaz" class-type="kk_day_pokaz" />
      <dimension name="kod_namepkpu" class-type="hs_namepkpu" />
      <dimension name="tpoint" class-type="hk_tpoint" />
      <dimension name="kod_seti" class-type="hv_seti" />
      <dimension name="kod_elter" class-type="hv_elter_org" />
      <dimension name="day_s_pu" time-type="day" />
      <dimension name="kod_parent_eo" class-type="hr_eosrc" />
      <dimension name="kod_srckind" class-type="hk_srckind" />
      <dimension name="kod_org_group" class-type="kr_org_group" />
      <dimension name="kod_src_eo" class-type="hr_bal_point_src" />
      <dimension name="kodp_elter" class-type="kr_org_elter" />
      <dimension name="kodp_bal" class-type="kr_org_bal" />
      <dimension name="kod_eobj_src" class-type="hr_eobject_src" />
      <dimension name="kod_bal_point_en" class-type="hr_bal_point_en" comment="Виды энергии в тту" />
      <dimension name="kod_bal_point_ini" class-type="hr_bal_point_ini" comment="Виды энергии в тту" />
      <dimension name="kod_point_en" class-type="hr_point_en" />
      <dimension name="kod_elnet" class-type="hr_eosrc_elnet" />
      <dimension name="kod_eobject_senter_nut" class-type="hv_eobject_senter_nut" comment="Центр питания ЭО" />
      <dimension name="kod_object" class-type="kr_object" />
      <dimension name="kod_org_sbyt" class-type="kv_org_sbyt" />
      <dimension name="kod_f23" class-type="hs_23" />
      <dimension name="kod_prov" class-type="hv_point_prov" />
      <dimension name="kod_plombs" class-type="hv_point_plombs" />
      <dimension name="kod_plombs_all" class-type="hv_point_plombs_all" />
      <dimension name="kod_plombs_mv" class-type="mv_point_plombs" />
      <dimension name="sr_opl_text" class-type="sr_opl_text" />
    </dimension-package>
    <dimension-package name="byt" timestamp="19.06.2017 12:24:22">
      <dimension name="kod_prop" class-type="tr_prop" />
      <dimension name="kod_nv_priem" class-type="nv_priem" />
      <dimension name="kod_acc_byt" class-type="tnr_account" />
      <!--<dimension name="kod_acc_root" />-->
      <dimension name="kod_izv" class-type="tnr_izv" />
      <dimension name="kod_opl_byt" class-type="tsr_opl" />
      <dimension name="kod_opl_byt_izv" class-type="tsr_opl_izv" />
      <dimension name="kod_opl_byt_kr" class-type="tsr_opl_kred" />
      <dimension name="kod_opl_byt_stor" class-type="tsr_opl_stor" />
      <dimension name="kod_accopl" class-type="tnr_accopl" />
      <dimension name="kod_prop_f" class-type="tr_prop_f" />
      <dimension name="kod_prop_n" class-type="tr_prop_n" />
      <dimension name="kod_pen_byt" class-type="tsr_penni" />
      <dimension name="hv_mkd_address" class-type="hv_mkd_address" comment="Всякие атрибуты для kodd  (41125)" />
    </dimension-package>
    <dimension-package name="asuse_fin" timestamp="21.12.2022 21:03:08">
      <!--<dimension name="year_dolg" time-type="year" timeline="time_dolg"/>
      <dimension name="ym_dolg"  time-type="month" timeline="time_dolg"/>-->
      <dimension name="dat_dolg" time-type="day" timeline="time_dolg" />
      <dimension name="dat_dolg_out" time-type="day" timeline="time_dolg_out" />
      <dimension name="dat_kred" time-type="day" timeline="time_kred" />
      <dimension name="dat_dolg_norm" time-type="day" timeline="time_dolg_norm" />
      <dimension name="dat_dolg_uved_kaz_el" time-type="day" timeline="time_dolg_norm" />
      <dimension name="ym_vozn" time-type="month" timeline="time_vozn" />
      <dimension name="ym_vozn2" time-type="month" timeline="time_vozn2" />
      <dimension name="ym_potr" time-type="month" timeline="time_potr" />
      <dimension name="ym_vist" time-type="month" timeline="time_vist" />
      <dimension name="dat_vozn_norm" time-type="day" timeline="time_vozn_norm" />
      <dimension name="pr_last_pdp" time-type="number" />
      <dimension name="dat_recalc" time-type="day" timeline="time_recalc" />
    </dimension-package>
    <dimension-package name="asuse_ur" timestamp="05.03.2023 15:23:40">
      <dimension name="kod_folders" class-type="ur_folders" />
      <dimension name="kod_folders_kodp" class-type="ur_folders_kodp" />
      <dimension name="kod_folders_isp" class-type="ur_folders_isp" />
      <dimension name="kod_folders_isp_othr" class-type="ur_folders_isp_othr" />
      <dimension name="kod_folders_ba" class-type="ur_folders_ba" />
      <dimension name="kod_dogplat" class-type="ur_dogplat" />
      <dimension name="kod_dogplat_bnk" class-type="ur_dogplat_bnk" />
      <dimension name="kod_dp_isp" class-type="ur_dp_isp" />
      <dimension name="kod_dp_inkasso" class-type="ur_dp_inkasso" />
      <dimension name="kod_dp_kazn" class-type="ur_dp_kazn" />
      <dimension name="kod_dp_isp_other" class-type="ur_dp_isp_other" />
      <dimension name="kod_dp_graf" class-type="ur_dp_graf" />
      <dimension name="kod_pretenz" class-type="ur_pretenz" />
      <dimension name="kod_ur_pret" class-type="ur_pret" />
      <dimension name="kod_sogl" class-type="ur_sogl" />
      <dimension name="kod_graf" class-type="ur_graf" />
      <dimension name="kod_graf_for_dog" class-type="ur_graf_for_dog" />
      <dimension name="kod_graf_opl" class-type="ur_graf_opl" />
      <dimension name="kod_mat" class-type="ur_mat" />
      <dimension name="kod_mat_isp" class-type="ur_mat_isp" />
      <dimension name="kod_mat_pp" class-type="ur_mat_pp" />
      <dimension name="kod_inkasso" class-type="ur_inkasso" />
      <dimension name="kod_kazn" class-type="ur_kazn" />
      <dimension name="kod_isp_other" class-type="ur_isp_other" />
      <dimension name="kod_mat_ba" class-type="ur_mat_ba" />
      <dimension name="kod_isp" class-type="ur_isp" />
      <dimension name="kod_isp_for_mat" class-type="ur_isp_for_mat" />
      <dimension name="kod_hist_mat" class-type="ur_hist_mat" />
      <dimension name="kod_hist_mat_dec" class-type="ur_hist_mat_dec" />
      <dimension name="kod_hist_mat_dec_othr" class-type="ur_hist_mat_dec_othr" />
      <dimension name="kod_hist_mat_ba" class-type="ur_hist_mat_ba" />
      <dimension name="kod_hist_mat_dec_ba" class-type="ur_hist_mat_dec_ba" />
      <dimension name="kod_hist_mat_isp" class-type="ur_hist_mat_isp" />
      <dimension name="kod_ur_state" class-type="ur_state" />
      <dimension name="kod_ur_state_dt" class-type="ur_state_dt" />
      <dimension name="kod_opl_kred_ur" class-type="sr_opl_kred_ur" />
      <dimension name="dat_ur" time-type="day" timeline="time_ur" />
      <dimension name="dat_ur_ent" time-type="day" timeline="time_ur_ent" />
      <dimension name="ym_graf" time-type="month" timeline="ur_graf" />
      <dimension name="dat_graf" time-type="day" timeline="ur_graf" />
      <dimension name="kod_stage_bk" class-type="ur_stage_bk" />
      <dimension name="kod_mor_in" class-type="mor_in" />
      <dimension name="kod_mor_out" class-type="mor_out" />
      <dimension name="kod_mor_opl" class-type="mor_opl" />
      <dimension name="dat_mor_in" class-type="vv_day_mor_in" exclude="1" />
      <dimension name="dat_mor_out" class-type="vv_day_mor_out" exclude="1" />
    </dimension-package>
    <dimension-package name="asuse_ur_fin_astr" timestamp="10.05.2016 14:50:44">
      <dimension name="kod_sf_astr" class-type="sr_facvip_astr" />
      <dimension name="kod_opl_astr" class-type="sr_opl_astr" />
      <dimension name="kod_ras_astr" class-type="sr_facras_astr" />
      <dimension name="kod_pen_astr" class-type="sr_penni_astr" />
    </dimension-package>
    <dimension-package name="asuse_seti" timestamp="10.05.2016 16:00:46">
      <dimension name="kod_rsk" class-type="hg_controlpoint_net_pl_getrsk" />
      <dimension name="kod_net" class-type="hg_controlpoint_net_pl_getorgs" />
      <dimension name="kod_pwrcompany" class-type="hg_controlpoint_net_pl_getorgs2" />
    </dimension-package>
    <dimension-package name="asuse_reserv" timestamp="22.12.2016 00:30:51">
      <!--<dimension name="year_dolg" time-type="year" timeline="time_dolg"/>
      <dimension name="ym_dolg"  time-type="month" timeline="time_dolg"/>-->
      <dimension name="dat_res_half" time-type="day" timeline="time_res_half" exclude="1" />
      <dimension name="dat_res_full" time-type="day" timeline="time_res_full" exclude="1" />
    </dimension-package>
    <dimension-package name="edo" timestamp="05.10.2021 21:13:40">
      <dimension name="kod_konvert_doc" class-type="ks_konvert_doc" />
      <dimension name="kod_konvert_pak" class-type="ks_konvert_pak" />
      <dimension name="kod_send" class-type="kr_fin_doc_send" exclude="1" />
      <!--<dimension name="year_dolg" time-type="year" timeline="time_dolg"/>
      <dimension name="ym_dolg"  time-type="month" timeline="time_dolg"/>-->
    </dimension-package>
  </dimension-packages>
</root>