<?xml version="1.0" encoding="utf-8"?>
<root>
  <parts>
    <part id="20484-cols-vals">
      <usepart part="div1000" as="nach">
        <column table="a" column="nach" group="sum"></column>
      </usepart>
      <usepart part="div1000" as="cust">
        <column table="a" column="cust" group="sum"></column>
      </usepart>
    </part>
    <part id="div1000">
      <params>
        <param name="col" />
      </params>
      <!-- <call function="round">-->
      <call function="/">
        <useparam name="col" />
        <const>1000</const>
      </call>
      <!-- <const>0</const>
      </call>-->
    </part>
    <part id="20484-cols">
      <column table="a" column="f46_razdel"></column>
      <column table="a" column="f46_podrazdel"></column>
      <column table="a" column="f46_razdel_name"></column>
      <column table="a" column="f46_podrazdel_name"></column>
      <column table="a" column="f46_npp"></column>
      <column table="a" column="f46_name"></column>
    </part>
    <part id="20484-case-tip-tar">
      <params>
        <param name="col" />
        <param name="tip-tar" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="tip_tar"></column>
              <useparam name="tip-tar" />
            </call>
            <call function="=">
              <column table="a" column="edizm"></column>
              <const>4</const>
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="20484-case-zone">
      <params>
        <param name="col" />
        <param name="zone" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="=">
            <column table="a" column="zone"></column>
            <useparam name="zone" />
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="20484-case-category-22">
      <params>
        <param name="col" />
        <param name="category" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t"></column>
              <const>22</const>
            </call>
            <call function="in">
              <column table="a" column="category"></column>
              <useparam name="category" />
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="20484-case-category-72">
      <params>
        <param name="col" />
        <param name="category" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="and">
            <call function="=">
              <column table="a" column="vid_t"></column>
              <const>72</const>
            </call>
            <call function="in">
              <column table="a" column="category"></column>
              <useparam name="category" />
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="20484-case-category-kvtc">
      <params>
        <param name="col" />
        <param name="category" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="and">
            <call function="in">
              <column table="a" column="vid_t"></column>
              <call function="array">
                <const>77</const>
                <const>78</const>
                <const>79</const>
              </call>
            </call>
            <call function="in">
              <column table="a" column="category"></column>
              <useparam name="category" />
            </call>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="20484-case-kvt">
      <params>
        <param name="col" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm"></column>
            <const>3</const>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="20484-case-kvtch">
      <params>
        <param name="col" />
      </params>
      <call function="case" type="number" group="sum">
        <call function="when">
          <call function="=">
            <column table="a" column="edizm"></column>
            <const>4</const>
          </call>
          <usepart part="div1000">
            <useparam name="col" />
          </usepart>
        </call>
        <call function="else">
          <const>0</const>
        </call>
      </call>
    </part>
    <part id="20484-I-cond">
      <call function="=">
        <column table="a" column="f46_razdel"></column>
        <const>'I'</const>
      </call>
    </part>
    <part id="20484-II-cond">
      <call function="=">
        <column table="a" column="f46_razdel"></column>
        <const>'II'</const>
      </call>
    </part>
    <part id="20484-А-cond">
      <call function="in">
        <column table="a" column="f46_podrazdel"></column>
        <call function="array">
          <const>'А'</const>
          <const forcustomers="8">'Б'</const>
        </call>
      </call>
    </part>
    <part id="20484-Б-cond">
      <call function="in">
        <column table="a" column="f46_podrazdel"></column>
        <call function="array">
          <const>'Б'</const>
        </call>
      </call>
    </part>
    <part id="20484-В-cond">
      <call function="in">
        <column table="a" column="f46_podrazdel"></column>
        <call function="array">
          <const>'В'</const>
        </call>
      </call>
    </part>
    <part id="20484-IАБ-cols">
      <column table="a" column="f46_npp" group="1"></column>
      <column table="a" column="f46_name" group="max"></column>
      <usepart part="20484-case-tip-tar" as="nach_1st">
        <column table="a" column="nach" nvl="0"></column>
        <const>'Одноставочный'</const>
      </usepart>
      <usepart part="20484-case-tip-tar" as="cust_1st">
        <column table="a" column="cust"></column>
        <const>'Одноставочный'</const>
      </usepart>
      <usepart part="20484-case-tip-tar" as="nach_z">
        <column table="a" column="nach"></column>
        <const>'Зонный'</const>
      </usepart>
      <usepart part="20484-case-tip-tar" as="cust_z">
        <column table="a" column="cust"></column>
        <const>'Зонный'</const>
      </usepart>
      <usepart part="20484-case-tip-tar" as="nach_3st">
        <column table="a" column="nach"></column>
        <const>'Трехставочный'</const>
      </usepart>
      <usepart part="20484-case-tip-tar" as="cust_3st">
        <column table="a" column="cust"></column>
        <const>'Трехставочный'</const>
      </usepart>
      <usepart part="20484-case-kvt" as="nach_kvt">
        <column table="a" column="nach"></column>
      </usepart>
      <usepart part="20484-case-kvt" as="cust_kvt">
        <column table="a" column="cust"></column>
      </usepart>
      <usepart part="20484-case-kvtch" as="nach_kvtch">
        <column table="a" column="nach"></column>
      </usepart>
      <usepart part="20484-case-kvtch" as="cust_kvtch">
        <column table="a" column="cust"></column>
      </usepart>
    </part>
    <part id="20484-В-cols" timestamp="27.04.2022 13:43:13">
      <column table="a" column="f46_npp" group="1" />
      <column table="a" column="f46_name" group="max" />
      <usepart part="20484-case-kvtch" as="nach_kvtch">
        <column table="a" column="nach" />
      </usepart>
      <usepart part="20484-case-kvtch" as="nachisl_kvtch">
        <column table="a" column="nachisl" />
      </usepart>
      <usepart part="20484-case-kvtch" as="cust_kvtch">
        <column table="a" column="cust" />
      </usepart>
      <usepart part="20484-case-zone" as="nach_1st">
        <column table="a" column="nach" />
        <const>0</const>
      </usepart>
      <usepart part="20484-case-zone" as="nachisl_1st">
        <column table="a" column="nachisl" />
        <const>0</const>
      </usepart>
      <usepart part="20484-case-zone" as="cust_1st">
        <column table="a" column="cust" />
        <const>0</const>
      </usepart>
      <usepart part="20484-case-zone" as="nach_z1">
        <column table="a" column="nach" />
        <const>1</const>
      </usepart>
      <usepart part="20484-case-zone" as="nachisl_z1">
        <column table="a" column="nachisl" />
        <const>1</const>
      </usepart>
      <usepart part="20484-case-zone" as="cust_z1">
        <column table="a" column="cust" />
        <const>1</const>
      </usepart>
      <usepart part="20484-case-zone" as="nach_z2">
        <column table="a" column="nach" />
        <const>2</const>
      </usepart>
      <usepart part="20484-case-zone" as="nachisl_z2">
        <column table="a" column="nachisl" />
        <const>2</const>
      </usepart>
      <usepart part="20484-case-zone" as="cust_z2">
        <column table="a" column="cust" />
        <const>2</const>
      </usepart>
      <usepart part="20484-case-zone" as="nach_z3">
        <column table="a" column="nach" />
        <const>3</const>
      </usepart>
      <usepart part="20484-case-zone" as="nachisl_z3">
        <column table="a" column="nachisl" />
        <const>3</const>
      </usepart>
      <usepart part="20484-case-zone" as="cust_z3">
        <column table="a" column="cust" />
        <const>3</const>
      </usepart>
    </part>
    <part id="20484-vid_t_otklon">
      <const>80</const>
      <const>-81</const>
      <const>-82</const>
      <const>-83</const>
      <const>-84</const>
      <const>-78</const>
      <const>-79</const>
    </part>
    <part id="20484-vid_t_val">
      <const>17</const>
      <const>77</const>
      <const>78</const>
      <const>79</const>
      <const>22</const>
      <const>72</const>
      <const>23</const>
      <const>25</const>
    </part>
    <part id="20484-otklon">
      <call function="array">
        <usepart part="20484-vid_t_otklon" />
      </call>
    </part>
    <part id="20484-all-t">
      <call function="array">
        <usepart part="20484-vid_t_val" />
        <usepart part="20484-vid_t_otklon" />
      </call>
    </part>
    <part id="20484-IIАБ-cols">
      <column table="a" column="f46_npp" group="1"></column>
      <column table="a" column="f46_name" group="max"></column>
      <usepart part="20484-case-category-kvtc" as="cust_1k">
        <column table="a" column="cust" />
        <call function="array">
          <const>1</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-kvtc" as="nach_1k">
        <column table="a" column="nach" />
        <call function="array">
          <const>1</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-kvtc" as="cust_2k">
        <column table="a" column="cust" />
        <call function="array">
          <const>2</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-kvtc" as="nach_2k">
        <column table="a" column="nach" />
        <call function="array">
          <const>2</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-kvtc" as="cust_35k">
        <column table="a" column="cust" />
        <call function="array">
          <const>3</const>
          <const>5</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-kvtc" as="nach_35k">
        <column table="a" column="nach" />
        <call function="array">
          <const>3</const>
          <const>5</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-72" as="custm_35k">
        <column table="a" column="cust" />
        <call function="array">
          <const>3</const>
          <const>5</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-72" as="nachm_35k">
        <column table="a" column="nach" />
        <call function="array">
          <const>3</const>
          <const>5</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-kvtc" as="cust_46k">
        <column table="a" column="cust" />
        <call function="array">
          <const>4</const>
          <const>6</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-kvtc" as="nach_46k">
        <column table="a" column="nach" />
        <call function="array">
          <const>4</const>
          <const>6</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-72" as="custm72_46k">
        <column table="a" column="cust" />
        <call function="array">
          <const>4</const>
          <const>6</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-72" as="nachm72_46k">
        <column table="a" column="nach" />
        <call function="array">
          <const>4</const>
          <const>6</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-22" as="custm22_46k">
        <column table="a" column="cust" />
        <call function="array">
          <const>4</const>
          <const>6</const>
        </call>
      </usepart>
      <usepart part="20484-case-category-22" as="nachm22_46k">
        <column table="a" column="nach" />
        <call function="array">
          <const>4</const>
          <const>6</const>
        </call>
      </usepart>
      <call function="case" as="nach_all" group="sum" type="number">
        <call function="when">
          <call function="and">
            <call function="not in">
              <column table="a" column="vid_t"></column>
              <usepart part="20484-otklon" />
            </call>
            <call function="gt">
              <column table="a" column="category" />
              <const>2</const>
            </call>
          </call>
          <column table="a" column="nach" />
        </call>
      </call>
      <call function="case" as="nach_otklon" group="sum" type="number">
        <call function="when">
          <call function="in">
            <column table="a" column="vid_t"></column>
            <usepart part="20484-otklon" />
          </call>
          <column table="a" column="nach" />
        </call>
      </call>
    </part>
    <part id="61880-9-В-cond" timestamp="26.09.2023 13:35:20">
      <call function="in" exclude="1">
        <column table="a" column="f46_podrazdel" />
        <call function="array">
          <const>'В'</const>
        </call>
      </call>
      <call function="=" exclude="1">
        <column table="kod_account" column="kod_f23" />
        <const>38</const>
      </call>
      <call function="=">
        <column table="a" column="kod_f46" />
        <const>38</const>
      </call>
    </part>
  </parts>
  <forms>
    <form name="20484" with-behavior="0" timestamp="21.11.2016 14:26:37">
      <content>
        <field name="ym1" controlType="UICombo" title="Период c">
          <listquery>
            <query name="n_calc_dist"></query>
          </listquery>
          <defaultquery>
            <query name="kr_calc_max"></query>
          </defaultquery>
        </field>
        <field name="ym2" controlType="UICombo" title="Период по">
          <listquery>
            <query name="n_calc_dist"></query>
          </listquery>
          <defaultquery>
            <query name="kr_calc_max"></query>
          </defaultquery>
        </field>
      </content>
    </form>
  </forms>
  <reports>
    <report name="20484-IА" title="Ф46 Раздел I. А" form="20484" folder="f46" timestamp="16.08.2022 16:06:58">
      <customers>
        <customer id="8" />
        <customer id="16" />
      </customers>
      <params>
        <param name="ym1" />
        <param name="ym2" />
        <param name="cond">
          <call function="and">
            <usepart part="20484-I-cond" />
            <usepart part="20484-А-cond" />
          </call>
        </param>
      </params>
      <queries>
        <query name="20484-IАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_1st" title="Всего" format="" default="0" />
              <band table="b" column="cust_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_1st" title="Всего" format="" default="0" />
              <band table="b" column="nach_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_z" title="Всего" format="" default="0" />
              <band table="b" column="cust_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_z" title="Всего" format="" default="0" />
              <band table="b" column="nach_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_3st" title="Всего" format="" default="0" />
              <band table="b" column="cust_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_3st" title="Всего" format="" default="0" />
              <band table="b" column="nach_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической мощности потребителей, осуществляющих оплату услуг по передаче электрической энергии по трехставочным ценам за отчетный месяц (год), МВт">
              <column table="a" name="cust_kvt" title="Всего" format="" default="0" />
              <band table="b" column="cust_kvt" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической мощности потребителей, осуществляющих оплату услуг по передаче электрической энергии по трехставочным ценам за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_kvt" title="Всего" format="" default="0" />
              <band table="b" column="nach_kvt" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="cust_kvtch" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="nach_kvtch" title="в том числе" format="" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
          <query name="20484-IАБ-new-volt" as="b">
            <withparams>
              <useparam name="ym1" />
              <useparam name="ym2" />
              <useparam name="cond" />
            </withparams>
            <call function="=nvl">
              <column table="a" column="f46_npp" />
              <column table="b" column="f46_npp1" />
            </call>
            <transpose>
              <dimension>
                <column column="voltage1" title="voltage_abbr" />
              </dimension>
              <values>
                <column column="cust_1st" />
                <column column="nach_1st" />
                <column column="cust_z" />
                <column column="nach_z" />
                <column column="cust_3st" />
                <column column="nach_3st" />
                <column column="cust_kvt" />
                <column column="nach_kvt" />
                <column column="cust_kvtch" />
                <column column="nach_kvtch" />
              </values>
            </transpose>
          </query>
        </query>
      </queries>
    </report>
    <report name="20484-IБ" title="Ф46 Раздел I. Б" form="20484" folder="f46">
      <customers>
        <customer id="16" />
      </customers>
      <params>
        <param name="ym1"></param>
        <param name="ym2"></param>
        <param name="cond">
          <call function="and">
            <usepart part="20484-I-cond" />
            <usepart part="20484-Б-cond" />
          </call>
        </param>
      </params>
      <queries>
        <query name="20484-IАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_1st" title="Всего" format="" default="0" />
              <band table="b" column="cust_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_1st" title="Всего" format="" default="0" />
              <band table="b" column="nach_1st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_z" title="Всего" format="" default="0" />
              <band table="b" column="cust_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по зонным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_z" title="Всего" format="" default="0" />
              <band table="b" column="nach_z" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_3st" title="Всего" format="" default="0" />
              <band table="b" column="cust_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по трехставочным тарифам (ценам) за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_3st" title="Всего" format="" default="0" />
              <band table="b" column="nach_3st" title="в том числе" format="" default="0" />
            </band>
            <band title="Объем электрической энергии за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="cust_kvtch" title="в том числе" format="" default="0" />
            </band>
            <band title="Стоимость электрической энергии за отчетный месяц (год) без НДС, тыс руб">
              <column table="a" name="nach_kvtch" title="Всего" format="" default="0" />
              <band table="b" column="nach_kvtch" title="в том числе" format="" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="ym1"></useparam>
            <useparam name="ym2"></useparam>
            <useparam name="cond" />
          </withparams>
          <query name="20484-IАБ-new-volt" as="b">
            <withparams>
              <useparam name="ym1"></useparam>
              <useparam name="ym2"></useparam>
              <useparam name="cond" />
            </withparams>
            <call function="=nvl">
              <column table="a" column="f46_npp"></column>
              <column table="b" column="f46_npp1"></column>
            </call>
            <transpose>
              <dimension>
                <column column="voltage1" title="voltage_abbr"></column>
              </dimension>
              <values>
                <column column="cust_1st"></column>
                <column column="nach_1st"></column>
                <column column="cust_z"></column>
                <column column="nach_z"></column>
                <column column="cust_3st"></column>
                <column column="nach_3st"></column>
                <column column="cust_kvt"></column>
                <column column="nach_kvt"></column>
                <column column="cust_kvtch"></column>
                <column column="nach_kvtch"></column>
              </values>
            </transpose>
          </query>
        </query>
      </queries>
    </report>
    <report name="20484-В" title="Ф46 Раздел I. В" form="20484" folder="f46">
      <customers>
        <customer id="8" />
        <customer id="16" />
      </customers>
      <params>
        <param name="ym1"></param>
        <param name="ym2"></param>
        <param name="cond">
          <call function="and">
            <usepart part="20484-I-cond" />
            <usepart part="20484-В-cond" />
          </call>
        </param>
      </params>
      <queries>
        <query name="20484-В-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" />
            <column table="a" name="f46_npp" title="Код строки" />
            <column table="a" name="cust_kvtch" title="Объем электрической энергии за отчетный месяц (год), тыс кВт ч всего" format="" default="0" />
            <column table="a" name="nachisl_kvtch" title="Стоимость электрической энергии за отчетный месяц (год) с НДС, тыс руб всего" format="" default="0" />
            <column table="a" name="nach_kvtch" title="Стоимость электрической энергии за отчетный месяц (год) без НДС, тыс руб всего" format="" default="0" />
            <column table="a" name="cust_1st" format="" default="0" title="Объем электрической энергии потребителей, осуществляющих оплату по одноставочному тарифу за отчетный месяц (год), тыс кВт ч всего" />
            <column table="a" name="nachisl_1st" format="" default="0" title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочному тарифу за отчетный месяц (год) с НДС, тыс руб всего" />
            <column table="a" name="nach_1st" format="" default="0" title="Стоимость электрической энергии потребителей, осуществляющих оплату по одноставочному тарифу за отчетный месяц (год) без НДС,  тыс руб всего" />
            <band title="Объем электрической энергии потребителей, осуществляющих оплату по зонным тарифам за отчетный месяц (год), тыс кВт ч">
              <column table="a" name="cust_z1" format="" default="0" title="ночь" />
              <column table="a" name="cust_z2" format="" default="0" title="пик" />
              <column table="a" name="cust_z3" format="" default="0" title="полупик (день)" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по зонным тарифам за отчетный месяц (год) с НДС, тыс руб всего">
              <column table="a" name="nachisl_z1" format="" default="0" title="ночь" />
              <column table="a" name="nachisl_z2" format="" default="0" title="пик" />
              <column table="a" name="nachisl_z3" format="" default="0" title="полупик (день)" />
            </band>
            <band title="Стоимость электрической энергии потребителей, осуществляющих оплату по зонным тарифам за отчетный месяц (год) без НДС, тыс руб всего">
              <column table="a" name="nach_z1" format="" default="0" title="ночь" />
              <column table="a" name="nach_z2" format="" default="0" title="пик" />
              <column table="a" name="nach_z3" format="" default="0" title="полупик (день)" />
            </band>
          </columns>
          <withparams>
            <useparam name="ym1"></useparam>
            <useparam name="ym2"></useparam>
            <useparam name="cond" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="20484-IIА" title="Ф46 Раздел II. А" form="20484" folder="f46">
      <customers>
        <customer id="16" />
      </customers>
      <params>
        <param name="ym1"></param>
        <param name="ym2"></param>
        <param name="cond">
          <call function="and">
            <usepart part="20484-II-cond" />
            <usepart part="20484-А-cond" />
          </call>
        </param>
      </params>
      <queries>
        <query name="20484-IIАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" default="0" />
            <column name="f46_npp" title="Код строки" default="0" />
            <band title="1 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_1k" title="Всего" default="0" />
                <band table="b" column="cust_1k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_1k" title="Всего" default="0" />
                <band table="b" column="nach_1k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="2 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_2k" title="Всего" default="0" />
                <band table="b" column="cust_2k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_2k" title="Всего" default="0" />
                <band table="b" column="nach_2k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="3 и 5 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_35k" title="Всего" default="0" />
                <band table="b" column="cust_35k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_35k" title="Всего" default="0" />
                <band table="b" column="nach_35k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="3 и 5 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm_35k" title="Всего" default="0" />
                <band table="b" column="custm_35k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm_35k" title="Всего" default="0" />
                <band table="b" column="nachm_35k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_46k" title="Всего" default="0" />
                <band table="b" column="cust_46k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_46k" title="Всего" default="0" />
                <band table="b" column="nach_46k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm72_46k" title="Всего" default="0" />
                <band table="b" column="custm72_46k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm72_46k" title="Всего" default="0" />
                <band table="b" column="nachm72_46k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем мощности услуг по передаче электроэнергии потребителей за отчетный месяц (год), МВт">
                <column name="custm22_46k" title="Всего" default="0" />
                <band table="b" column="custm22_46k" title="в том числе" default="0" />
              </band>
              <band title="Стоимость мощности услуг по передаче электроэнергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm22_46k" title="Всего" default="0" />
                <band table="b" column="nachm22_46k" title="в том числе" default="0" />
              </band>
            </band>
            <band title="Стоимость электрической энергии (мощности) по 3-6 ценовой категории без учета стоимости отклонений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_all" title="Всего" default="0" />
              <band table="b" column="nach_all" title="в том числе" default="0" />
            </band>
            <band title="Стоимость отклонений фактических объемов потребления электрической энергии по 5 и 6 ценовой категории от плановых (договорных) значений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_otklon" title="Всего" default="0" />
              <band table="b" column="nach_otklon" title="в том числе" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="ym1"></useparam>
            <useparam name="ym2"></useparam>
            <useparam name="cond" />
          </withparams>
          <query name="20484-IIАБ-new-volt" as="b">
            <withparams>
              <useparam name="ym1"></useparam>
              <useparam name="ym2"></useparam>
              <useparam name="cond" />
            </withparams>
            <call function="=nvl">
              <column table="a" column="f46_npp"></column>
              <column table="b" column="f46_npp1"></column>
            </call>
            <transpose>
              <dimension>
                <column column="voltage1" title="voltage_abbr"></column>
              </dimension>
              <values>
                <column column="cust_1k" />
                <column column="nach_1k" />
                <column column="cust_2k" />
                <column column="nach_2k" />
                <column column="cust_35k" />
                <column column="nach_35k" />
                <column column="custm_35k" />
                <column column="nachm_35k" />
                <column column="cust_46k" />
                <column column="nach_46k" />
                <column column="custm72_46k" />
                <column column="nachm72_46k" />
                <column column="custm22_46k" />
                <column column="nachm22_46k" />
                <column column="nach_all" />
                <column column="nach_otklon" />
              </values>
            </transpose>
          </query>
        </query>
      </queries>
    </report>
    <report name="20484-IIБ" title="Ф46 Раздел II. Б" form="20484" folder="f46">
      <customers>
        <customer id="16" />
      </customers>
      <params>
        <param name="ym1"></param>
        <param name="ym2"></param>
        <param name="cond">
          <call function="and">
            <usepart part="20484-II-cond" />
            <usepart part="20484-Б-cond" />
          </call>
        </param>
      </params>
      <queries>
        <query name="20484-IIАБ-new" as="a">
          <columns>
            <column table="a" name="f46_name" title="Потребители" default="0" />
            <column name="f46_npp" title="Код строки" default="0" />
            <band title="1 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_1k" title="Всего" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_1k" title="Всего" default="0" />
              </band>
            </band>
            <band title="2 ценовая категория">
              <band title="Объем электрической энергии (мощности) потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_2k" title="Всего" default="0" />
              </band>
              <band title="Стоимость электрической энергии (мощности) потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_2k" title="Всего" default="0" />
              </band>
            </band>
            <band title="3 и 5 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_35k" title="Всего" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_35k" title="Всего" default="0" />
              </band>
            </band>
            <band title="3 и 5 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm_35k" title="Всего" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm_35k" title="Всего" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем электрической энергии потребителей за отчетный месяц (год), тыс кВт ч">
                <column name="cust_46k" title="Всего" default="0" />
              </band>
              <band title="Стоимость электрической энергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nach_46k" title="Всего" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем электрической мощности за отчетный месяц (год), МВт">
                <column name="custm72_46k" title="Всего" default="0" />
              </band>
              <band title="Стоимость электрической мощности за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm72_46k" title="Всего" default="0" />
              </band>
            </band>
            <band title="4 и 6 ценовые категории">
              <band title="Объем мощности услуг по передаче электроэнергии потребителей за отчетный месяц (год), МВт">
                <column name="custm22_46k" title="Всего" default="0" />
              </band>
              <band title="Стоимость мощности услуг по передаче электроэнергии потребителей за отчетный месяц (год) без НДС, тыс руб">
                <column name="nachm22_46k" title="Всего" default="0" />
              </band>
            </band>
            <band title="Стоимость электрической энергии (мощности) по 3-6 ценовой категории без учета стоимости отклонений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_all" title="Всего" default="0" />
            </band>
            <band title="Стоимость отклонений фактических объемов потребления электрической энергии по 5 и 6 ценовой категории от плановых (договорных) значений за отчетный месяц (год) без НДС, тыс руб">
              <column name="nach_otklon" title="Всего" default="0" />
            </band>
          </columns>
          <withparams>
            <useparam name="ym1"></useparam>
            <useparam name="ym2"></useparam>
            <useparam name="cond" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="20484-all" title="Ф46 (Исходные данные, детализация)" form="20484" folder="f46">
      <customers>
        <customer id="8" />
        <customer id="16" />
      </customers>
      <params>
        <param name="ym1" />
        <param name="ym2" />
      </params>
      <queries>
        <query name="20484-main" as="a">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
          </withparams>
        </query>
      </queries>
    </report>
  </reports>
  <queries>
    <query name="20484-all-volt">
      <select>
        <column table="a" column="voltage"></column>
        <column table="a" column="abbr" as="voltage_abbr"></column>
        <column table="a" column="kod_sort"></column>
      </select>
      <from>
        <query name="hk_voltage" as="a" />
      </from>
      <where>
        <call function="lt">
          <column table="a" column="voltage"></column>
          <const>5</const>
        </call>
      </where>
    </query>
    <query name="20484-all-46">
      <params>
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
      </params>
      <select>
        <column table="a" column="f46_npp" group="1" />
        <column table="a" column="f46_name" group="max" />
        <column table="a" column="cust" group="max" fixed="1" />
      </select>
      <from>
        <query name="20484-main" as="a">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="20484-all-volt-46">
      <params>
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
      </params>
      <select>
        <column table="b" column="f46_npp" />
        <column table="a" column="voltage" />
        <column table="a" column="voltage_abbr" />
        <column table="a" column="kod_sort" />
      </select>
      <from>
        <query name="20484-all-volt" as="a" />
        <query name="20484-all-46" as="b" join="cross">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="20484-В-new" order="f46_npp">
      <params>
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="cond" />
      </params>
      <select>
        <usepart part="20484-В-cols" />
      </select>
      <from>
        <query name="20484-main" as="a">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="20484-IАБ-new" order="f46_npp">
      <params>
        <param name="ym1" type="number">
          <const>2014.11</const>
        </param>
        <param name="ym2" type="number">
          <const>2014.11</const>
        </param>
        <param name="cond">
          <call function="and">
            <usepart part="20484-I-cond" />
            <usepart part="20484-Б-cond" />
          </call>
        </param>
      </params>
      <select>
        <usepart part="20484-IАБ-cols" />
      </select>
      <from>
        <query name="20484-main" as="a">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="20484-IАБ-new-volt" order="kod_sort">
      <params>
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="cond" />
      </params>
      <select>
        <column table="v46" column="voltage" as="voltage1" />
        <column table="v46" column="f46_npp" as="f46_npp1" />
        <column table="v46" column="kod_sort" />
        <column table="v46" column="voltage_abbr" />
        <column table="a" column="*" />
      </select>
      <from>
        <query name="20484-all-volt-46" as="v46">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
        <query name="20484-IАБ-new-volt-pre" as="a" join="left outer">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
          <call function="and">
            <call function="=nvl">
              <column table="v46" column="voltage" />
              <column table="a" column="voltage" />
            </call>
            <call function="=nvl">
              <column table="v46" column="f46_npp" />
              <column table="a" column="f46_npp" />
            </call>
          </call>
        </query>
      </from>
    </query>
    <query name="20484-IАБ-new-volt-pre">
      <params>
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="cond" />
      </params>
      <select>
        <column table="a" column="voltage" group="1"></column>
        <usepart part="20484-IАБ-cols" />
      </select>
      <from>
        <query name="20484-main" as="a">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="20484-IIАБ-new" order="f46_npp">
      <params>
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="cond" />
      </params>
      <select>
        <usepart part="20484-IIАБ-cols" />
      </select>
      <from>
        <query name="20484-main" as="a">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="20484-IIАБ-new-volt" order="kod_sort">
      <params>
        <param name="ym1" type="number">
          <const>2014.04</const>
        </param>
        <param name="ym2" type="number">
          <const>2014.05</const>
        </param>
        <param name="cond">
          <call function="and">
            <usepart part="20484-II-cond" />
            <usepart part="20484-А-cond" />
          </call>
        </param>
      </params>
      <select>
        <column table="v46" column="voltage" as="voltage1" />
        <column table="v46" column="f46_npp" as="f46_npp1" />
        <column table="v46" column="kod_sort" />
        <column table="v46" column="voltage_abbr" />
        <column table="a" column="*" />
      </select>
      <from>
        <query name="20484-all-volt-46" as="v46">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
        <query name="20484-IIАБ-new-volt-pre" as="a" join="left outer">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
          <call function="and">
            <call function="=nvl">
              <column table="v46" column="voltage" />
              <column table="a" column="voltage" />
            </call>
            <call function="=nvl">
              <column table="v46" column="f46_npp" />
              <column table="a" column="f46_npp" />
            </call>
          </call>
        </query>
      </from>
    </query>
    <query name="20484-IIАБ-new-volt-pre">
      <params>
        <param name="ym1" type="number" />
        <param name="ym2" type="number" />
        <param name="cond" />
      </params>
      <select>
        <column table="a" column="voltage" group="1" />
        <usepart part="20484-IIАБ-cols" />
      </select>
      <from>
        <query name="20484-main" as="a">
          <withparams>
            <useparam name="ym1" />
            <useparam name="ym2" />
            <useparam name="cond" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="20484-main-test">
      <select>
        <column table="a" column="f46_podrazdel_name" />
      </select>
      <from>
        <query name="20484-main" as="a" />
      </from>
      <where>
        <call function="=">
          <column table="a" column="num_obj" />
          <const>'890580008'</const>
        </call>
      </where>
    </query>
    <query name="20484-main-old">
      <params>
        <param name="ym1" type="number">
          <const>2014.01</const>
        </param>
        <param name="ym2" type="number">
          <const>2014.02</const>
        </param>
        <param name="cond">
          <undefined />
        </param>
      </params>
      <select>
        <column table="a" column="kod_f46"></column>
        <column table="a" column="dep"></column>
        <column table="a" column="dep_name"></column>
        <column table="a" column="ndog"></column>
        <column table="a" column="num_obj"></column>
        <column table="a" column="obj_name"></column>
        <column table="a" column="ym"></column>
        <column table="a" column="rym"></column>
        <column table="a" column="kod_ras"></column>
        <usepart part="20484-cols" />
        <column table="a" column="nach"></column>
        <column table="a" column="nachisl"></column>
        <column table="a" column="cust"></column>
        <column table="a" column="vid_t"></column>
        <column table="a" column="num_t"></column>
        <column table="a" column="vid_t_name"></column>
        <column table="a" column="pr_2rate"></column>
        <column table="a" column="pr_2rate_name"></column>
        <column table="a" column="voltage"></column>
        <column table="a" column="voltage_abbr"></column>
        <column table="a" column="kodinterval"></column>
        <column table="a" column="interval_name"></column>
        <column table="a" column="zone"></column>
        <column table="a" column="edizm"></column>
        <column table="a" column="edizm_name"></column>
        <call function="case" as="tip_tar" type="string" title="Тип тарифа (для Ф46)">
          <call function="when">
            <call function="!=">
              <call function="nvl">
                <column table="a" column="kodinterval"></column>
                <const>24</const>
              </call>
              <const>24</const>
            </call>
            <const>'Зонный'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="a" column="pr_2rate"></column>
              <const>1</const>
            </call>
            <const>'Трехставочный'</const>
          </call>
          <call function="else">
            <const>'Одноставочный'</const>
          </call>
        </call>
        <column table="a" column="category" />
        <column table="a" column="category_name" />
        <column table="t" column="npp" />
      </select>
      <from>
        <query name="sr_facras" as="a">
          <link name="tarif" as="t" />
          <!--<extendwhere>
            <call function="and">
              <call function="true"/>
              <call function="ge" >
                <column table="v" column="ym"/>
                <useparam name="ym1"/>
              </call>
              <call function="le" >
                <column table="v" column="ym"/>
                <useparam name="ym2"/>
              </call>
            </call>
          </extendwhere>-->
          <!--<extendwhere target="ftx/ac">
              <call function="and">
                <call function="true"/>
                <call function="ge" >
                  <column table="a" column="ym"/>
                  <useparam name="ym1"/>
                </call>
                <call function="le" >
                  <column table="a" column="ym"/>
                  <useparam name="ym2"/>
                </call>
              </call>
          </extendwhere>-->
          <!--<extendwhere target="n">
            <call function="and">
              <call function="true"/>
              <call function="ge" >
                <column table="kod_ras" column="ym"/>
                <useparam name="ym1"/>
              </call>
              <call function="le" >
                <column table="kod_ras" column="ym"/>
                <useparam name="ym2"/>
              </call>
            </call>
          </extendwhere>
          <extendwhere target="n/kod_ras">
            <call function="and">
              <call function="true"/>
              <call function="ge" >
                <column table="v" column="ym"/>
                <useparam name="ym1"/>
              </call>
              <call function="le" >
                <column table="v" column="ym"/>
                <useparam name="ym2"/>
              </call>
            </call>
          </extendwhere>-->
        </query>
      </from>
      <where>
        <call function="and">
          <call function="between">
            <column table="a" column="ym"></column>
            <useparam name="ym1" />
            <useparam name="ym2" />
          </call>
          <call function="in">
            <column table="a" column="edizm"></column>
            <call function="array">
              <const>3</const>
              <const>4</const>
            </call>
          </call>
          <call function="=">
            <column table="a" column="vid_real"></column>
            <const>2</const>
          </call>
          <call function="in">
            <column table="a" column="vid_t" />
            <usepart part="20484-all-t" />
          </call>
          <useparam name="cond" />
        </call>
      </where>
    </query>
    <query name="20484-main">
      <params>
        <param name="ym1" type="number">
          <const>2014.01</const>
        </param>
        <param name="ym2" type="number">
          <const>2014.02</const>
        </param>
        <param name="cond">
          <undefined />
        </param>
      </params>
      <select>
        <column table="a" column="kod_account" key="1" />
        <!--<column table="sr_facras_text" column="kod_ras" dgroup="max" key="1"/>-->
        <column table="kod_account" column="kod_f46" />
        <column table="a" column="dep" />
        <column table="dep" column="name" as="dep_name" title="Отделение" />
        <column table="a" column="kod_dog" />
        <column table="kod_dog" column="ndog" />
        <column table="a" column="vid_t" />
        <column table="a" column="kod_numobj" />
        <column table="kod_numobj" column="num_obj" />
        <column table="kod_numobj" column="name" as="obj_name" />
        <column table="kod_account" column="ym" />
        <call function="nvl" as="rym">
          <column table="kod_account" column="rym" />
          <column table="kod_account" column="ym" />
        </call>
        <column table="a" column="f46_razdel" />
        <column table="a" column="f46_podrazdel" />
        <column table="f46_razdel" column="name" as="f46_razdel_name" />
        <column table="f46_podrazdel" column="name" as="f46_podrazdel_name" />
        <!--<column table="a" column="f46_razdel"/>

      <column table="a" column="f46_podrazdel"/>

      <column table="a" column="f46_razdel_name"/>

      <column table="a" column="f46_podrazdel_name"/>-->
        <column table="kod_f46" column="npp" as="f46_npp" />
        <column table="kod_f46" column="name" as="f46_name" />
        <column table="a" column="acc_nach_bn" as="nach" />
        <column table="a" column="acc_nach" as="nachisl" />
        <column table="a" column="acc_cust" as="cust" />
        <column table="vid_t" column="num_t" type="number" />
        <column table="vid_t" column="name" as="vid_t_name" />
        <column table="kod_account" column="voltage" />
        <column table="voltage" column="abbr" as="voltage_abbr" />
        <column table="kod_account" column="kodinterval" />
        <column table="kodinterval" column="name" as="interval_name" />
        <column table="a" column="edizm" />
        <column table="edizm" column="name" as="edizm_name" />
        <column table="kod_account" column="category" />
        <column table="category" column="name" as="category_name" />
        <column table="tarif" column="npp" />
        <call function="case" as="tip_tar" type="string" title="Тип тарифа (для Ф46)">
          <call function="when">
            <call function="!=">
              <call function="nvl">
                <column table="kod_account" column="kodinterval"></column>
                <const>24</const>
              </call>
              <const>24</const>
            </call>
            <const>'Зонный'</const>
          </call>
          <call function="when">
            <call function="=">
              <column table="a" column="pr_2rate"></column>
              <const>1</const>
            </call>
            <const>'Трехставочный'</const>
          </call>
          <call function="else">
            <const>'Одноставочный'</const>
          </call>
        </call>
        <column table="a" column="pr_2rate" />
        <call function="case" type="string" as="pr_2rate_name" title="">
          <call function="when">
            <call function="=">
              <column table="a" column="pr_2rate"></column>
              <const>1</const>
            </call>
            <const>'Двухставочный/Трехставочный'</const>
          </call>
          <call function="else">
            <const>'Одноставочный'</const>
          </call>
        </call>
        <column table="kodinterval" column="zone" />
        <column table="a" column="pr_usl" />
        <column table="a" column="pr_free" />
        <column table="a" column="pr_nasel" />
      </select>
      <from>
        <query name="fingen_united" as="a">
          <link name="kod_account">
            <link name="tarif" />
            <link name="kod_numobj" />
            <link name="vid_t">
              <link name="edizm" />
            </link>
            <link name="voltage" />
            <link name="category" />
            <link name="kod_f46" />
            <link name="kodinterval" />
            <!--<dlink name="sr_facras_text"/>-->
          </link>
          <link name="kod_dog">
            <link name="dep" />
          </link>
          <extendwhere>
            <call function="between">
              <column table="*" column="ym"></column>
              <useparam name="ym1" />
              <useparam name="ym2" />
            </call>
            <!--<call function="=">
              <column table="*" column="kod_dog"/>
              <const>100001158</const>
            </call>-->
          </extendwhere>
        </query>
        <query name="f46_razdel" as="f46_razdel" join="left outer">
          <call function="=">
            <column table="this" column="f46_razdel" />
            <column table="f46_razdel" column="id" />
          </call>
        </query>
        <query name="f46_podrazdel" as="f46_podrazdel" join="left outer">
          <call function="=">
            <column table="this" column="f46_podrazdel" />
            <column table="f46_podrazdel" column="id" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="edizm"></column>
            <call function="array">
              <const>3</const>
              <const>4</const>
            </call>
          </call>
          <call function="=">
            <column table="a" column="vid_real"></column>
            <const>2</const>
          </call>
          <call function="in">
            <column table="a" column="vid_t" />
            <usepart part="20484-all-t" />
          </call>
          <!--<call function="is not null">
            <column table="this" column="kod_ras"/>
          </call>-->
          <useparam name="cond" />
        </call>
      </where>
    </query>
  </queries>
</root>