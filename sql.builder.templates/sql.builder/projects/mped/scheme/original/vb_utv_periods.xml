<?xml version="1.0" encoding="utf-8"?>
<root>
  <queries>
    <query name="vb_utv_periods" class="1" timestamp="16.08.2019 16:14:30">
      <select>
        <column table="a" column="kod_utv" type="number" column-mandatory="1" />
        <column table="a" column="god" type="number" title="" />
        <column table="a" column="mes" type="number" title="" />
        <column table="a" column="kod_direct" type="number" comment="Подразделение" />
        <column table="a" column="plan_utv" type="number" title="" comment="1 - план утвержден, 0 - план не утвержден" controlType="UICheck" />
        <column table="a" column="fact_utv" type="number" title="Факт утвержден" comment="1 - факт утвержден, 0 - факт не утвержден" controlType="UICheck" />
        <column table="a" column="agree" type="number" comment="0/null - не проверено, 1 - проверено, 2 - проверено с ошибками" controlType="UICheck" />
        <column table="a" column="agree_comment" type="string" comment="Комментарий к проверке" controlType="UITextEx" />
        <call as="pl_utv_1" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>1</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_2" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>2</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_3" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>3</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_4" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>4</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_5" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>5</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_6" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>6</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_7" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>7</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_8" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>8</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_9" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>9</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_10" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>10</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_11" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>11</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="pl_utv_12" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>12</const>
          </call>
          <column table="this" column="plan_utv" />
        </call>
        <call as="f_utv_1" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>1</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_2" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>2</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_3" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>3</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_4" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>4</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_5" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>5</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_6" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>6</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_7" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>7</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_8" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>8</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_9" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>9</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_10" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>10</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_11" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>11</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="f_utv_12" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>12</const>
          </call>
          <column table="this" column="fact_utv" />
        </call>
        <call as="agree_1" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>1</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_2" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>2</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_3" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>3</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_4" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>4</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_5" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>5</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_6" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>6</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_7" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>7</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_8" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>8</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_9" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>9</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_10" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>10</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_11" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>11</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_12" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>12</const>
          </call>
          <column table="this" column="agree" />
        </call>
        <call as="agree_comment_1" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>1</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_2" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>2</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_3" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>3</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_4" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>4</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_5" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>5</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_6" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>6</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_7" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>7</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_8" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>8</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_9" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>9</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_10" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>10</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_11" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>11</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
        <call as="agree_comment_12" function="if" type="number" exclude="1">
          <call function="=">
            <column table="this" column="mes" />
            <const>12</const>
          </call>
          <column table="this" column="agree_comment" />
        </call>
      </select>
      <from>
        <table name="vb_utv_periods" as="a" />
        <query as="kod_direct" join="left outer" name="is_spr_direct">
          <call function="=">
            <column column="kod_direct" table="a" />
            <column column="kod_direct" table="kod_direct" />
          </call>
        </query>
      </from>
    </query>
    <query name="vb_utv_periods_by_god" class="1" timestamp="14.08.2019 17:11:58">
      <params>
        <param name="god" type="number">
          <const>2019</const>
        </param>
      </params>
      <select>
        <call key="1" function="||-" as="id" group="1">
          <column table="this" column="kod_direct" />
          <column table="this" column="god" />
        </call>
        <column column="god" table="a" title="" type="number" group="1" />
        <column table="a" column="kod_direct" type="number" group="1" />
        <column table="a" column="pl_utv_1" group="sum" />
        <column table="a" column="pl_utv_2" group="sum" />
        <column table="a" column="pl_utv_3" group="sum" />
        <column table="a" column="pl_utv_4" group="sum" />
        <column table="a" column="pl_utv_5" group="sum" />
        <column table="a" column="pl_utv_6" group="sum" />
        <column table="a" column="pl_utv_7" group="sum" />
        <column table="a" column="pl_utv_8" group="sum" />
        <column table="a" column="pl_utv_9" group="sum" />
        <column table="a" column="pl_utv_10" group="sum" />
        <column table="a" column="pl_utv_11" group="sum" />
        <column table="a" column="pl_utv_12" group="sum" />
        <column table="a" column="f_utv_1" group="sum" />
        <column table="a" column="f_utv_2" group="sum" />
        <column table="a" column="f_utv_3" group="sum" />
        <column table="a" column="f_utv_4" group="sum" />
        <column table="a" column="f_utv_5" group="sum" />
        <column table="a" column="f_utv_6" group="sum" />
        <column table="a" column="f_utv_7" group="sum" />
        <column table="a" column="f_utv_8" group="sum" />
        <column table="a" column="f_utv_9" group="sum" />
        <column table="a" column="f_utv_10" group="sum" />
        <column table="a" column="f_utv_11" group="sum" />
        <column table="a" column="f_utv_12" group="sum" />
        <column table="a" column="agree_1" group="sum" />
        <column table="a" column="agree_2" group="sum" />
        <column table="a" column="agree_3" group="sum" />
        <column table="a" column="agree_4" group="sum" />
        <column table="a" column="agree_5" group="sum" />
        <column table="a" column="agree_6" group="sum" />
        <column table="a" column="agree_7" group="sum" />
        <column table="a" column="agree_8" group="sum" />
        <column table="a" column="agree_9" group="sum" />
        <column table="a" column="agree_10" group="sum" />
        <column table="a" column="agree_11" group="sum" />
        <column table="a" column="agree_12" group="sum" />
        <column table="a" column="agree_comment_1" group="max" />
        <column table="a" column="agree_comment_2" group="max" />
        <column table="a" column="agree_comment_3" group="max" />
        <column table="a" column="agree_comment_4" group="max" />
        <column table="a" column="agree_comment_5" group="max" />
        <column table="a" column="agree_comment_6" group="max" />
        <column table="a" column="agree_comment_7" group="max" />
        <column table="a" column="agree_comment_8" group="max" />
        <column table="a" column="agree_comment_9" group="max" />
        <column table="a" column="agree_comment_10" group="max" />
        <column table="a" column="agree_comment_11" group="max" />
        <column table="a" column="agree_comment_12" group="max" />
      </select>
      <from>
        <query name="vb_utv_periods" as="a" />
      </from>
      <where>
        <call function="=">
          <column table="this" column="god" />
          <useparam name="god" />
        </call>
      </where>
    </query>
    <query name="vb_utv_periods_dir_tree_old" class="1" timestamp="16.08.2019 15:53:05">
      <params>
        <param name="god" type="number">
          <const>2019</const>
        </param>
      </params>
      <select>
        <column table="kod_direct" column="kod_direct" />
        <column table="kod_direct" column="parent_id" />
        <column table="kod_direct" column="name" />
        <column column="id" table="a" title="" />
        <column column="god" table="a" title="" />
        <column table="a" column="kod_direct" as="kod_dir_utv" />
        <column table="a" column="pl_utv_1" controlType="UICheck" />
        <column table="a" column="pl_utv_2" controlType="UICheck" />
        <column table="a" column="pl_utv_3" controlType="UICheck" />
        <column table="a" column="pl_utv_4" controlType="UICheck" />
        <column table="a" column="pl_utv_5" controlType="UICheck" />
        <column table="a" column="pl_utv_6" controlType="UICheck" />
        <column table="a" column="pl_utv_7" controlType="UICheck" />
        <column table="a" column="pl_utv_8" controlType="UICheck" />
        <column table="a" column="pl_utv_9" controlType="UICheck" />
        <column table="a" column="pl_utv_10" controlType="UICheck" />
        <column table="a" column="pl_utv_11" controlType="UICheck" />
        <column table="a" column="pl_utv_12" controlType="UICheck" />
        <column table="a" column="f_utv_1" controlType="UICheck" />
        <column table="a" column="f_utv_2" controlType="UICheck" />
        <column table="a" column="f_utv_3" controlType="UICheck" />
        <column table="a" column="f_utv_4" controlType="UICheck" />
        <column table="a" column="f_utv_5" controlType="UICheck" />
        <column table="a" column="f_utv_6" controlType="UICheck" />
        <column table="a" column="f_utv_7" controlType="UICheck" />
        <column table="a" column="f_utv_8" controlType="UICheck" />
        <column table="a" column="f_utv_9" controlType="UICheck" />
        <column table="a" column="f_utv_10" controlType="UICheck" />
        <column table="a" column="f_utv_11" controlType="UICheck" />
        <column table="a" column="f_utv_12" controlType="UICheck" />
        <column table="a" column="agree_1" controlType="UICheck" />
        <column table="a" column="agree_2" controlType="UICheck" />
        <column table="a" column="agree_3" controlType="UICheck" />
        <column table="a" column="agree_4" controlType="UICheck" />
        <column table="a" column="agree_5" controlType="UICheck" />
        <column table="a" column="agree_6" controlType="UICheck" />
        <column table="a" column="agree_7" controlType="UICheck" />
        <column table="a" column="agree_8" controlType="UICheck" />
        <column table="a" column="agree_9" controlType="UICheck" />
        <column table="a" column="agree_10" controlType="UICheck" />
        <column table="a" column="agree_11" controlType="UICheck" />
        <column table="a" column="agree_12" controlType="UICheck" />
        <column table="a" column="agree_comment_1" />
        <column table="a" column="agree_comment_2" />
        <column table="a" column="agree_comment_3" />
        <column table="a" column="agree_comment_4" />
        <column table="a" column="agree_comment_5" />
        <column table="a" column="agree_comment_6" />
        <column table="a" column="agree_comment_7" />
        <column table="a" column="agree_comment_8" />
        <column table="a" column="agree_comment_9" />
        <column table="a" column="agree_comment_10" />
        <column table="a" column="agree_comment_11" />
        <column table="a" column="agree_comment_12" />
        <call as="pl_utv_v_1" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_1" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_2" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_2" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_3" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_3" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_4" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_4" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_5" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_5" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_6" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_6" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_7" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_7" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_8" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_8" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_9" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_9" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_10" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_10" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_11" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_11" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="pl_utv_v_12" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="pl_utv_12" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_1" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_1" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_2" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_2" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_3" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_3" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_4" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_4" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_5" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_5" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_6" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_6" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_7" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_7" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_8" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_8" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_9" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_9" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_10" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_10" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_11" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_11" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
        <call as="f_utv_v_12" function="if" type="string" exclude="1">
          <call function="=">
            <column table="this" column="f_utv_12" />
            <const>1</const>
          </call>
          <const>'V'</const>
        </call>
      </select>
      <from>
        <query name="vb_utv_periods_by_god" as="a">
          <withparams>
            <useparam name="god" />
          </withparams>
        </query>
        <query as="kod_direct" join="right outer" name="va_dr_fq_list1">
          <call function="=">
            <column column="kod_direct" table="a" />
            <column column="kod_direct" table="kod_direct" />
          </call>
        </query>
      </from>
    </query>
    <query name="vb_utv_per_by_dir_tree_dist" timestamp="17.06.2019 18:31:46" class="1" stored="va_direct_tree_mv" comment="Если утверждено родительское подразделение, то утверждено дочернее">
      <select>
        <call function="||-" group="1" as="id">
          <column table="this" column="ym" />
          <column table="this" column="kod_direct" />
        </call>
        <column table="a" column="ym" group="1" />
        <column table="a" column="kod_direct" group="1" />
        <column table="a" column="fact_utv" group="1" />
      </select>
      <from>
        <query name="vb_utv_per_by_dir_tree" as="a" />
      </from>
    </query>
    <query name="vb_utv_per_by_dir_tree" timestamp="17.06.2019 18:31:56" class="1" stored="va_direct_tree_mv" comment="Если утверждено родительское подразделение, то утверждено дочернее">
      <select>
        <call as="id" function="rownum" />
        <call as="ym" function="num to ym">
          <column table="this" column="god" />
          <column table="this" column="mes" />
        </call>
        <call function="connect_by_root" as="god" type="number">
          <column table="utv" column="god" />
        </call>
        <call function="connect_by_root" as="mes" type="number">
          <column table="utv" column="mes" />
        </call>
        <column table="a" column="kod_direct" />
        <call as="fact_utv" function="connect_by_root" type="string">
          <call function="if">
            <call function="=">
              <column table="utv" column="fact_utv" />
              <const>1</const>
            </call>
            <const>'V'</const>
          </call>
        </call>
      </select>
      <from>
        <query as="a" name="is_spr_direct" />
        <query name="vb_utv_periods" as="utv" join="left outer">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_direct" />
              <column table="utv" column="kod_direct" />
            </call>
            <call function="=">
              <column table="utv" column="fact_utv" />
              <const>1</const>
            </call>
          </call>
        </query>
      </from>
      <connect>
        <call function="=">
          <column table="a" column="kod_direct" prior="1" />
          <column table="a" column="kod_parent" />
        </call>
      </connect>
      <start>
        <call function="=">
          <column table="a" column="kod_direct" />
          <column table="utv" column="kod_direct" />
        </call>
      </start>
    </query>
    <query name="vb_spr_time_utv_ym_by_dir" class="1" timestamp="17.06.2019 18:49:23" order="ym desc">
      <params>
        <param name="p_kod_direct" type="number">
          <const>1150</const>
        </param>
      </params>
      <select>
        <column table="a" column="ym" />
        <column table="a" column="name" />
        <column table="utv" column="fact_utv" halign="center" />
      </select>
      <from>
        <query name="spr_time_ym_pre" as="a" />
        <query name="vb_utv_per_by_dir_tree_dist" as="utv" join="left outer">
          <call function="and">
            <call function="=">
              <column table="a" column="ym" />
              <column table="utv" column="ym" />
            </call>
            <call function="=">
              <column table="utv" column="kod_direct" />
              <useparam name="p_kod_direct" />
            </call>
          </call>
        </query>
      </from>
      <where>
        <call function="le">
          <column table="a" column="year" />
          <call function="year">
            <call function="sysdate" />
          </call>
        </call>
      </where>
    </query>
    <query name="vb_spr_time_utv_ym_by_dir_bool" class="1" timestamp="23.07.2019 15:40:38" order="ym desc">
      <params>
        <param name="p_kod_direct" type="number" />
        <param name="p_period" type="number" />
      </params>
      <select>
        <call as="utv" group="max" type="number" function="if">
          <call function="or">
            <call function="=">
              <column table="a" column="fact_utv" />
              <const>'V'</const>
            </call>
            <call function="lt">
              <column table="a" column="ym" />
              <const>2019.01</const>
            </call>
          </call>
          <const>0</const>
          <const>1</const>
        </call>
      </select>
      <from>
        <query name="vb_spr_time_utv_ym_by_dir" as="a">
          <withparams>
            <useparam name="p_kod_direct" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="=">
          <column table="a" column="ym" />
          <useparam name="p_period" />
        </call>
      </where>
    </query>
    <query name="vb_utv_periods_dir_tree" class="1" timestamp="16.08.2019 15:54:40">
      <params>
        <param name="god" type="number">
          <const>2019</const>
        </param>
      </params>
      <select>
        <column table="b" column="kod_direct" key="1" as="id" />
        <column table="b" column="kod_direct" />
        <column table="b" column="parent_id" />
        <column table="b" column="name" />
        <column table="b" column="ord" />
        <column table="a" column="year" as="god" />
        <column table="v1" column="kod_utv" as="kod_utv_1" />
        <column table="v1" column="god" as="god_1" />
        <column table="v1" column="kod_direct" as="kod_direct_1" />
        <column table="v1" column="plan_utv" as="pl_utv_1" />
        <column table="v1" column="fact_utv" as="f_utv_1" />
        <column table="v1" column="agree" as="agree_1" />
        <column table="v1" column="agree_comment" as="agree_comment_1" />
        <column table="v2" column="kod_utv" as="kod_utv_2" />
        <column table="v2" column="god" as="god_2" />
        <column table="v2" column="kod_direct" as="kod_direct_2" />
        <column table="v2" column="plan_utv" as="pl_utv_2" />
        <column table="v2" column="fact_utv" as="f_utv_2" />
        <column table="v2" column="agree" as="agree_2" />
        <column table="v2" column="agree_comment" as="agree_comment_2" />
        <column table="v3" column="kod_utv" as="kod_utv_3" />
        <column table="v3" column="god" as="god_3" />
        <column table="v3" column="kod_direct" as="kod_direct_3" />
        <column table="v3" column="plan_utv" as="pl_utv_3" />
        <column table="v3" column="fact_utv" as="f_utv_3" />
        <column table="v3" column="agree" as="agree_3" />
        <column table="v3" column="agree_comment" as="agree_comment_3" />
        <column table="v4" column="kod_utv" as="kod_utv_4" />
        <column table="v4" column="god" as="god_4" />
        <column table="v4" column="kod_direct" as="kod_direct_4" />
        <column table="v4" column="plan_utv" as="pl_utv_4" />
        <column table="v4" column="fact_utv" as="f_utv_4" />
        <column table="v4" column="agree" as="agree_4" />
        <column table="v4" column="agree_comment" as="agree_comment_4" />
        <column table="v5" column="kod_utv" as="kod_utv_5" />
        <column table="v5" column="god" as="god_5" />
        <column table="v5" column="kod_direct" as="kod_direct_5" />
        <column table="v5" column="plan_utv" as="pl_utv_5" />
        <column table="v5" column="fact_utv" as="f_utv_5" />
        <column table="v5" column="agree" as="agree_5" />
        <column table="v5" column="agree_comment" as="agree_comment_5" />
        <column table="v6" column="kod_utv" as="kod_utv_6" />
        <column table="v6" column="god" as="god_6" />
        <column table="v6" column="kod_direct" as="kod_direct_6" />
        <column table="v6" column="plan_utv" as="pl_utv_6" />
        <column table="v6" column="fact_utv" as="f_utv_6" />
        <column table="v6" column="agree" as="agree_6" />
        <column table="v6" column="agree_comment" as="agree_comment_6" />
        <column table="v7" column="kod_utv" as="kod_utv_7" />
        <column table="v7" column="god" as="god_7" />
        <column table="v7" column="kod_direct" as="kod_direct_7" />
        <column table="v7" column="plan_utv" as="pl_utv_7" />
        <column table="v7" column="fact_utv" as="f_utv_7" />
        <column table="v7" column="agree" as="agree_7" />
        <column table="v7" column="agree_comment" as="agree_comment_7" />
        <column table="v8" column="kod_utv" as="kod_utv_8" />
        <column table="v8" column="god" as="god_8" />
        <column table="v8" column="kod_direct" as="kod_direct_8" />
        <column table="v8" column="plan_utv" as="pl_utv_8" />
        <column table="v8" column="fact_utv" as="f_utv_8" />
        <column table="v8" column="agree" as="agree_8" />
        <column table="v8" column="agree_comment" as="agree_comment_8" />
        <column table="v9" column="kod_utv" as="kod_utv_9" />
        <column table="v9" column="god" as="god_9" />
        <column table="v9" column="kod_direct" as="kod_direct_9" />
        <column table="v9" column="plan_utv" as="pl_utv_9" />
        <column table="v9" column="fact_utv" as="f_utv_9" />
        <column table="v9" column="agree" as="agree_9" />
        <column table="v9" column="agree_comment" as="agree_comment_9" />
        <column table="v10" column="kod_utv" as="kod_utv_10" />
        <column table="v10" column="god" as="god_10" />
        <column table="v10" column="kod_direct" as="kod_direct_10" />
        <column table="v10" column="plan_utv" as="pl_utv_10" />
        <column table="v10" column="fact_utv" as="f_utv_10" />
        <column table="v10" column="agree" as="agree_10" />
        <column table="v10" column="agree_comment" as="agree_comment_10" />
        <column table="v11" column="kod_utv" as="kod_utv_11" />
        <column table="v11" column="god" as="god_11" />
        <column table="v11" column="kod_direct" as="kod_direct_11" />
        <column table="v11" column="plan_utv" as="pl_utv_11" />
        <column table="v11" column="fact_utv" as="f_utv_11" />
        <column table="v11" column="agree" as="agree_11" />
        <column table="v11" column="agree_comment" as="agree_comment_11" />
        <column table="v12" column="kod_utv" as="kod_utv_12" />
        <column table="v12" column="god" as="god_12" />
        <column table="v12" column="kod_direct" as="kod_direct_12" />
        <column table="v12" column="plan_utv" as="pl_utv_12" />
        <column table="v12" column="fact_utv" as="f_utv_12" />
        <column table="v12" column="agree" as="agree_12" />
        <column table="v12" column="agree_comment" as="agree_comment_12" />
      </select>
      <from>
        <query name="spr_time_year" as="a" />
        <query name="va_dr_fq_list1" as="b" join="left outer">
          <call function="true" />
        </query>
        <query name="vb_utv_periods" as="v1" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v1" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v1" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v1" column="mes" />
              <const>1</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v2" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v2" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v2" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v2" column="mes" />
              <const>2</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v3" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v3" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v3" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v3" column="mes" />
              <const>3</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v4" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v4" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v4" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v4" column="mes" />
              <const>4</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v5" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v5" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v5" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v5" column="mes" />
              <const>5</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v6" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v6" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v6" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v6" column="mes" />
              <const>6</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v7" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v7" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v7" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v7" column="mes" />
              <const>7</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v8" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v8" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v8" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v8" column="mes" />
              <const>8</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v9" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v9" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v9" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v9" column="mes" />
              <const>9</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v10" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v10" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v10" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v10" column="mes" />
              <const>10</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v11" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v11" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v11" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v11" column="mes" />
              <const>11</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods" as="v12" join="left outer" updateable="1">
          <call function="and">
            <call function="=">
              <column table="v12" column="god" />
              <column table="this" column="god" />
            </call>
            <call function="=">
              <column table="v12" column="kod_direct" />
              <column table="this" column="kod_direct" />
            </call>
            <call function="=">
              <column table="v12" column="mes" />
              <const>12</const>
            </call>
          </call>
        </query>
        <query name="vb_utv_periods_by_god" as="a" exclude="1">
          <withparams>
            <useparam name="god" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="=">
          <column table="a" column="year" />
          <useparam name="god" />
        </call>
      </where>
    </query>
  </queries>
</root>