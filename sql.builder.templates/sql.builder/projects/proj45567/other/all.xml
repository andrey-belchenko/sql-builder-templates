<?xml version="1.0" encoding="utf-8"?>
<root>
  <queries>
    <query name="45567-r023" timestamp="21.01.2020 12:56:40" title="Перечень КЛ в сводке за период" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="cmn_date" title="На" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" exclude="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-FRemList1.xlsx" title="Перечень КЛ в сводке за период" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure exclude="1">
        <text>BEGIN
  
    JG_REPORTS_ISE.jr_rep_cons_init(:p_d1, :p_d2);
END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <column table="t" column="name" as="uks" />
        <column column="name" table="b" title="Район" as="rer" />
        <column column="num_failure" table="a" title="номер повреждения" />
        <column column="dat_repair" table="a" title="Дата" type="date" />
        <column column="line_name" table="a" title="Наименование" />
        <column column="name" table="kod_use_line" title="Назначение КЛ" as="type_line" />
        <column table="a" column="id_parent_failure" />
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="hr_otg_repair" as="r" />
          <link name="kod_use_line" />
        </query>
        <query name="hv_otg_rpdistrict" as="b" join="right outer">
          <call function="=">
            <column table="a" column="rer" />
            <column table="b" column="kodp" />
          </call>
        </query>
        <query name="hv_otg_okrug" as="t" join="right outer">
          <call function="=">
            <column table="b" column="kod_parent" />
            <column table="t" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="between" exclude="1">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" exclude="1" />
          </call>
          <call function="=">
            <column table="a" column="kod_typeline" />
            <const>'1'</const>
          </call>
          <call function="lt">
            <column table="a" column="dat_repair" />
            <useparam name="p_d1" />
          </call>
          <call function="ge">
            <call function="nvl">
              <column table="r" column="dat_work_on" />
              <const type="string">to_date('01.01.9000','DD.MM.YYYY')</const>
            </call>
            <useparam name="p_d1" />
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
          <call function="is null" exclude="1">
            <column table="r" column="dat_work_on" />
          </call>
          <call function="not in">
            <column table="a" column="id_failure" />
            <const>(select d.id_failure from hr_otg_failure d where d.id_failure = a.id_parent_failure)</const>
          </call>
          <call function="or" exclude="1">
            <call function="is null">
              <column table="a" column="id_parent_failure" />
            </call>
            <call function="and">
              <call function="is not null">
                <column table="a" column="id_parent_failure" />
              </call>
              <call function="!=">
                <column table="id_parent_failure" column="kod_type_repair" />
                <const>2</const>
              </call>
            </call>
          </call>
          <call function="=0">
            <column table="a" column="pr_proboi" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-r16" timestamp="25.10.2018 20:16:27" title="Ф.016 Распределение повреждений оборудования по причинам" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_016(:p_year, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <print-templates>
        <excel>
          <template name="45567-F016.xlsx" title="РАСПРЕДЕЛЕНИЕ поврежденного электрооборудования" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="a" column="kod_cause_failure" />
        <column table="a" column="name" />
        <column table="a" column="type" />
        <column table="a" column="type_name" title="тип" />
        <column table="a" column="v_0" group="sum" title="v1" />
        <column table="a" column="v_22" group="sum" title="v22" />
        <column table="a" column="v_21" group="sum" title="v21" />
        <column table="a" column="v_19" group="sum" title="v19" />
        <column table="a" column="v_18" group="sum" title="v18" />
        <column table="a" column="v_16" group="sum" title="v16" />
        <column table="a" column="v_14" group="sum" title="v14" />
        <column table="a" column="v_13" group="sum" title="v13" />
        <column table="a" column="v_12" group="sum" title="v12" />
        <column table="a" column="v_11" group="sum" title="v11" />
        <column table="a" column="v_10" group="sum" title="v10" />
        <column table="a" column="v_9" group="sum" title="v9" />
        <column table="a" column="v_8" group="sum" title="v8" />
        <column table="a" column="v_7" group="sum" title="v7" />
      </select>
      <from>
        <query name="hv_otg_rep_r016" as="a" />
      </from>
      <grouping>
        <grset as="itog">
          <where>
            <call function="!=">
              <column table="this" column="kod_cause_failure" />
              <const>-10</const>
            </call>
          </where>
          <grset as="tip">
            <group>
              <column table="this" column="type_name" />
            </group>
            <grset as="row">
              <group>
                <column table="this" column="name" />
              </group>
            </grset>
          </grset>
        </grset>
        <grset as="err">
          <where>
            <call function="=">
              <column table="this" column="kod_cause_failure" />
              <const>-10</const>
            </call>
          </where>
        </grset>
      </grouping>
    </query>
    <query name="45567-r26" timestamp="30.11.2018 18:40:37" title="График выполнения благоустройства" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-FSviks_F2.xlsx" title="График выполнения благоустройства" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure exclude="1">
        <text>BEGIN
  
    JG_REPORTS_ISE.jr_rep_cons_init(:p_d1, :p_d2);
END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <call function="rownum" as="num_row" />
        <column table="a" column="rer_name" />
        <column table="a" column="dat_repair" />
        <column table="a" column="line_name" />
        <column table="a" column="bal_name" />
        <column table="a" column="dat_omp" />
        <column table="a" column="dat_repair_start" />
        <column table="a" column="dat_repair_end" />
        <column table="a" column="dat_test" />
        <column table="a" column="dat_work_on" />
        <column table="a" column="adr_mp" />
        <column table="a" column="info_dat_tel_oati" />
        <column table="a" column="info_num_tel_oati" />
        <column table="a" column="blag_dat_start" />
        <column table="a" column="blag_num_tel_start" />
        <column table="a" column="blag_dat_vost" />
        <column table="a" column="blag_dat_bal" />
        <column table="a" column="blag_dat_end_ati" />
        <column table="a" column="blag_dat_end_oati" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
        <query name="hr_otg_failure" as="a" exclude="1">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-f036" timestamp="30.11.2018 17:34:58" title="Ф.036 Объем ремонта и демонтажа" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-F036.xlsx" title="Ф.036 Объем ремонта и демонтажа" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure exclude="1">
        <text>BEGIN
  
    JG_REPORTS_ISE.jr_rep_cons_init(:p_d1, :p_d2);
END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <call function="rownum" as="num_row" />
        <column table="a" column="dat_repair_end" />
        <column table="a" column="line_name" />
        <column table="a" column="ins_marka_name" />
        <column table="a" column="ins_section_name" />
        <column table="a" column="ins_dist" />
        <column table="a" column="sm_marka_name" />
        <column table="a" column="sm_count" />
        <column table="a" column="sm2_marka_name" />
        <column table="a" column="sm2_count" />
        <column table="a" column="kz_marka_name" />
        <column table="a" column="kz_count" />
        <column table="a" column="sm_marka_dem_name" />
        <column table="a" column="sm_count_dem" />
        <column table="a" column="sm2_marka_dem_name" />
        <column table="a" column="sm2_count_dem" />
        <column table="a" column="kz_marka_dem_name" />
        <column table="a" column="kz_count_dem" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
        <query name="hr_otg_failure" as="a" exclude="1">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-f237" timestamp="30.11.2018 11:59:06" title="Ф.237 Сводка ремонта отказов" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета" exclude="1">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
        <usefield field="ym" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F237.xlsx" title="Ф.237 Сводка ремонта отказов" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure exclude="1">
        <text>BEGIN
  
    JG_REPORTS_ISE.jr_rep_cons_init(:p_d1, :p_d2);
END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <call function="rownum" as="num_row" />
        <column table="a" column="rer_name" />
        <column table="a" column="num_failure" />
        <column table="a" column="dat_repair" />
        <column table="a" column="line_name" />
        <column table="a" column="dat_repair_end" />
        <column table="a" column="life_time" />
        <column table="a" column="dat_test" />
        <column table="a" column="equip_elem" />
        <column table="a" column="mark_elem" />
        <column table="a" column="cause_failure" />
        <column table="a" column="sm_marka_name" />
        <column table="a" column="sm_count" />
        <column table="a" column="sm2_marka_name" />
        <column table="a" column="sm2_count" />
        <column table="a" column="kz_marka_name" />
        <column table="a" column="kz_count" />
        <column table="a" column="ins_marka_name" />
        <column table="a" column="ins_section_name" />
        <column table="a" column="ins_dist" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
        <query name="hr_otg_failure" as="a" exclude="1">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null">
            <column table="a" column="dat_work_on" />
          </call>
          <call function="between">
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end time">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-r022" timestamp="23.04.2019 12:58:23" title="Справка о повреждениях и ремонтах КЛ" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <params exclude="1">
        <param name="p_d1" type="date">
          <const>to_date('01.01.2008','dd.mm.yyyy')</const>
        </param>
        <param name="p_d2" type="date">
          <const>to_date('01.12.2018','dd.mm.yyyy')</const>
        </param>
      </params>
      <print-templates>
        <excel>
          <template name="45567-FSpravka2.xlsx" title="Сводка поврежденных КЛ" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure exclude="1">
        <text>BEGIN
  
    JG_REPORTS_ISE.jr_rep_cons_init(:p_d1, :p_d2);
END;
</text>
      </procedure>
      <select>
        <column table="b" column="name" group="1" />
        <call as="count_nrs" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="lt">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_nrp" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="lt">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d2" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_cfa" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(1,2)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_cfp" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>2</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_cra" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(1,2)</const>
            </call>
            <call function="in">
              <column column="kod_kind_failure" table="a" />
              <const>(1,2)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crp" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>2</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crkz" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_equip_elem" table="r" />
              <const>3</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crpr" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>3</const>
            </call>
            <call function="between">
              <call function="if" exclude="1">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <column table="r" column="dat_work_on" />
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_crus" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>4</const>
            </call>
            <call function="between">
              <call function="if" exclude="1">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <column table="r" column="dat_work_on" />
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_pkl" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const>1</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_rkl" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const>(2,3,8)</const>
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_nn" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="NN">(4,13)</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call as="count_kl" function="if" type="number" group="sum">
          <call function="and">
            <call function="in">
              <column column="kod_typeline" table="a" />
              <const>1</const>
            </call>
            <call function="is not null">
              <column column="dat_work_on" table="r" />
            </call>
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(2,2,3)</const>
            </call>
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(1,2,3,4)</const>
            </call>
            <call function="between">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
              <useparam name="p_d1" />
              <useparam name="p_d2" />
            </call>
          </call>
          <const>1</const>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
          <link name="hr_otg_repair" as="r" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer">
          <call function="=">
            <column table="rer" column="kod_parent" />
            <column table="b" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Признак удаленного">0</const>
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
        </call>
        <call function="and" exclude="1">
          <call function="between">
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <column table="a" column="dat_repair" />
              <column table="a" column="data_dop" />
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" />
          </call>
          <call function="is not null" exclude="1">
            <column table="r" column="dat_repair_end" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset order="id_failure,name" as="a">
          <group>
            <column column="id_failure" table="this" />
            <column column="name" table="this" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-f010" timestamp="25.10.2018 14:37:13" title="Ф.010 Перечень КЛ повредившихся более 2-х раз в год" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <procedure exclude="1">
        <text>BEGIN
  
    hg_otg_report.REPORT_016(:p_year);
END;
</text>
      </procedure>
      <print-templates>
        <excel>
          <template name="45567-F010.xlsx" title="Ф.010 Перечень КЛ повредившихся более 2-х раз в год" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call table="a" function="rownum" as="n_row" />
        <column table="a" column="rer_name" />
        <column table="a" column="num_failure" />
        <column table="a" column="dat_repair" />
        <column table="a" column="type_detect" />
        <column table="a" column="line_name" />
        <column table="a" column="life_time" />
        <column table="a" column="equip_elem" />
        <column table="a" column="mark_elem" />
        <column table="a" column="degree_failure" />
        <column table="a" column="exec_r" />
        <column table="a" column="type_layr" />
      </select>
      <from>
        <query name="45567-line_2x_repair" as="a">
          <withparams>
            <useparam name="p_year" />
          </withparams>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="gt">
            <column table="a" column="count_name" />
            <const>1</const>
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="itog">
          <where>
            <call function="!=">
              <column table="this" column="kod_cause_failure" />
              <const>79</const>
            </call>
          </where>
          <grset as="tip">
            <group>
              <column table="this" column="type_name" />
            </group>
            <grset as="row">
              <group>
                <column table="this" column="name" />
              </group>
            </grset>
          </grset>
        </grset>
        <grset as="err">
          <where>
            <call function="=">
              <column table="this" column="kod_cause_failure" />
              <const>79</const>
            </call>
          </where>
        </grset>
      </grouping>
    </query>
    <query name="45567-line_2x_repair" title="Больше 2х повреждений КЛ в год" timestamp="30.11.2018 17:37:53">
      <params>
        <param type="date" name="p_year" title="p_year" field="year" />
      </params>
      <select>
        <column table="a" column="rer" />
        <call function="row_number" as="rank_name" type="number">
          <call function="partition by">
            <column table="a" column="line_name" />
          </call>
          <call function="order by rows * *">
            <column table="a" column="id_failure" />
          </call>
        </call>
        <call function="over" as="count_name" type="number">
          <call function="count">
            <column table="a" column="line_name" />
          </call>
          <call function="partition by">
            <column table="a" column="line_name" />
          </call>
          <call function="order by rows * *">
            <column table="a" column="id_failure" />
          </call>
        </call>
        <column table="a" column="rer_name" />
        <column table="a" column="num_failure" />
        <column table="a" column="dat_repair" />
        <column table="a" column="type_detect" />
        <column table="a" column="line_name" />
        <column table="a" column="life_time" />
        <column table="a" column="equip_elem" />
        <column table="a" column="mark_elem" />
        <column table="a" column="degree_failure" />
        <column table="a" column="exec_r" />
        <column table="a" column="type_layr" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call part="column" function="=">
          <useparam name="p_year" />
          <call function="year">
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <column table="a" column="dat_repair" />
              <column table="a" column="data_dop" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f003" timestamp="25.10.2018 20:05:30" title="Ф.003 Классификация аварий и отказов в сети 6-10" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="ym" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F003.xlsx" title="Ф.003 Классификация аварий и отказов в сети 6-10" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F003(:p_ym, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <call function="||" as="key_full">
          <column table="a" column="pr" />
          <const>'_'</const>
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="klass_group_type" type="number" />
          <const>'_'</const>
          <column table="a" column="kod_degree_failure" />
        </call>
        <column table="a" column="value_count" />
      </select>
      <from>
        <query name="hv_otg_rep_f003" as="a" />
      </from>
      <where exclude="1" />
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-f004" timestamp="25.10.2018 19:59:10" title="Ф.004 Распределение повреждений по способу выявления " is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="ym" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F004.xlsx" title="Ф.004 Распределение повреждений по способу выявления " del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F004(:p_ym, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <call function="||" as="key_full">
          <column table="a" column="pr" />
          <const>'_'</const>
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="klass_group_type" type="number" />
          <const>'_'</const>
          <column table="a" column="kod_degree_failure" />
        </call>
        <column table="a" column="value_count" />
      </select>
      <from>
        <query name="hv_otg_rep_f003" as="a" />
      </from>
      <where exclude="1" />
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-f011" timestamp="25.10.2018 20:12:14" title="Ф.011 Распределение повреждений по элементам по способу выявления" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F011.xlsx" title="Ф.011 Распределение повреждений по элементам по способу выявления" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod'; 
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F011(:p_year, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <call function="||" as="key_full">
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="kod_equip_elem" />
          <const>'_'</const>
          <column table="a" column="pr" type="number" />
          <const>'_'</const>
          <column table="a" column="kod_type_detect" />
        </call>
        <column table="a" column="value_count" />
      </select>
      <from>
        <query name="hv_otg_rep_f011" as="a" />
      </from>
      <where exclude="1" />
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-f025" timestamp="25.10.2018 20:14:08" title="Ф.025 Распределение ОМП кабелей по способам и исполнителям" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <usefield field="year" name="p_year" column-mandatory="1" />
      </content>
      <print-templates>
        <excel>
          <template name="45567-F025.xlsx" title="Ф.025 Распределение ОМП кабелей по способам и исполнителям" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <procedure>
        <text>BEGIN
 
delete vr_number_array where array_id='kod';
insert into vr_number_array (array_id, val)   
select 'kod',kodp from kr_org where kodp in :rer;
 
    hg_otg_report.REPORT_F025(:p_year, 'kod',:glbl_PARAM_PR_SECRET);

END;
</text>
      </procedure>
      <events exclude="1">
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-1" column="t0_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-2" column="t0_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-0-3" column="t0_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-1" column="t2_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-2" column="t2_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_sk" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pp" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_bes" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_pe" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-2-3" column="t2_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-1" column="t1_1_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-2" column="t1_2_ivs" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_total" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_cco" />
        <useaction event-name="double-click" action-type="open-column-grouping-detail" call="45258-d-1-3" column="t1_3_ivs" />
      </events>
      <select>
        <call function="||" as="key_full">
          <column table="a" column="rer" />
          <const>'_'</const>
          <column table="a" column="pr_exec" />
          <const>'_'</const>
          <column table="a" column="kod_use_line" type="number" />
        </call>
        <column table="a" column="value_count" />
      </select>
      <from>
        <query name="hv_otg_rep_f025" as="a" />
      </from>
      <where exclude="1" />
      <grouping exclude="1">
        <grset as="a" order="kod_fl_name,kod_res_name,kod_consctg_name,kod_consgr_name,voltage_name">
          <group>
            <sourcelink table="kod_consctg" />
            <sourcelink table="kod_consgr" />
            <sourcelink table="kod_fl" />
            <sourcelink table="kod_res" />
            <sourcelink table="voltage" />
          </group>
        </grset>
      </grouping>
    </query>
    <query name="45567-f021" timestamp="03.07.2020 14:55:22" title="Ф.021 Распределение ремонтов КЛ по виду, исполнителям и назначению КЛ" is-report="1" mode="excel" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" default="rer" mandatory="rer" column-mandatory="1" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <params exclude="1">
        <param name="p_d1" type="date">
          <const>to_date('01.01.2008','dd.mm.yyyy')</const>
        </param>
        <param name="p_d2" type="date">
          <const>to_date('01.12.2018','dd.mm.yyyy')</const>
        </param>
      </params>
      <print-templates>
        <excel>
          <template name="45567-F021.xlsx" title="Сводка поврежденных КЛ" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="rer" column="name" as="name_rer" />
        <column table="b" column="name" as="name_okr" />
        <call function="if" type="number" group="sum" as="m_pkl">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rkl">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_nn">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_klall" exclude="1">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(1,2,3,4)</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_kz">
          <call function="and">
            <call function="like2">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_r">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_ro">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_a">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_abc">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <array>3,6,7</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_ex_oth">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_first">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="первичные ремонты">1</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_sec">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="повторный ремонты">2</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_rec">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="реконструкция">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="m_rep_tec">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="Устранение течи">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <const>1</const>
        </call>
        <call type="number" group="avg" as="m_avg_ex_r" function="if">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_ro" function="if">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_a" function="if">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_abc" function="if">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <array>3,6,7</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="m_avg_ex_oth" function="if">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call function="if" type="number" group="avg" as="m_avg_pkl">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="m_avg_rkl">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="m_avg_nn">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <usepart part="f021_dat_repair_end_between" />
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="sum" as="y_pkl">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rkl">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_nn">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_klall" exclude="1">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(1,2,3,4)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_kz">
          <call function="and">
            <call function="like2">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_r">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_ro">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_a">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_abc">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <array>3,6,7</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_ex_oth">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_first">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="первичные ремонты">1</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_sec">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="повторный ремонты">2</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_rec">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="реконструкция">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="y_rep_tec">
          <call function="and">
            <call function="=">
              <column column="kod_type_repair" table="a" />
              <const comment="Устранение течи">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call type="number" group="avg" as="y_avg_ex_r" function="if">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <call function="nvl">
                <column table="rer_brig" column="kodp" />
                <column table="a" column="rer" />
              </call>
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_ro" function="if">
          <call function="and">
            <call function="not in">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <array>2,3,4,5,6,7,-10</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="not in">
              <column table="rer_brig" column="kodp" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_a" function="if">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">2</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_abc" function="if">
          <call function="and">
            <call function="in">
              <column table="hr_otg_repair" column="kod_executor_repair" />
              <array>3,6,7</array>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call type="number" group="avg" as="y_avg_ex_oth" function="if">
          <call function="and">
            <call function="=">
              <column column="kod_executor_repair" table="hr_otg_repair" />
              <const comment="Абонент">4</const>
            </call>
            <call function="not like">
              <column table="hr_otg_repair" column="work_num_shifr" />
              <const type="string">'%-0-12'</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
          </call>
          <column table="hr_otg_repair" column="work_count">1</column>
        </call>
        <call function="if" type="number" group="avg" as="y_avg_pkl">
          <call function="and">
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="y_avg_rkl">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(2,3,8)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="y_avg_nn">
          <call function="and">
            <call function="in">
              <column column="kod_use_line" table="a" />
              <const comment="RKL">(4,13)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_type_repair" />
              <const type="number">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_repair_end" />
            <column table="hr_otg_repair" column="dat_repair_start" />1</call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
          <link name="hr_otg_repair">
            <link name="kod_brig">
              <link name="kod_parent">
                <link name="kod_parent" as="rer_brig" />
              </link>
            </link>
          </link>
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in" exclude="1">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="or">
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="and">
              <call function="in">
                <column table="rer_brig" column="kodp" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
          </call>
          <call function="=1">
            <column table="hr_otg_repair" column="sign_2" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="between">
            <call function="trunc">
              <column column="dat_repair_end" table="hr_otg_repair" />
            </call>
            <call function="year begin time">
              <call function="trunc" name="p_d1">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="ym end day">
              <useparam name="p_d1" />
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="i">
          <grset as="o">
            <group>
              <column column="name_okr" table="this" />
            </group>
            <grset as="r">
              <group>
                <column column="name_rer" table="this" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-r20" title="Данные для смет по ремонтным работам на КЛ" is-report="1" timestamp="30.11.2018 17:41:38" mode="excel" can-use-simple-params="1">
      <content>
        <usefield field="field_RER" name="rer" />
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield title="C" name="p_d1" column-mandatory="1" field="cmn_date" />
          <usefield field="cmn_date" name="p_d2" title="По" column-mandatory="1" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-r20.xlsx" title="Данные для смет по ремонтным работам на КЛ" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call function="rownum" as="num_row" />
        <column table="a" column="num_failure" />
        <column table="a" column="dat_repair" />
        <column table="a" column="rer_name" />
        <column table="a" column="line_name" />
        <column table="a" column="use_line" />
        <column table="a" column="kod_assets_inv" />
        <column table="a" column="insautor" />
        <column table="a" column="adr_mp" />
        <column table="a" column="dat_repair_start" />
        <column table="a" column="dat_repair_end" />
        <column table="a" column="mark_elem" />
        <column table="a" column="ins_marka_name" />
        <column table="a" column="ins_section" />
        <column table="a" column="ins_dist" />
        <column table="a" column="sm_marka_name" />
        <column table="a" column="sm_count" />
        <column table="a" column="sm2_marka_name" />
        <column table="a" column="sm2_count" />
        <column table="a" column="blag_road" />
        <column table="a" column="blag_sidewalk" />
        <column table="a" column="blag_grass" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <useparam name="p_d1" />
            <useparam name="p_d2" />
          </call>
        </call>
      </where>
    </query>
    <query name="b" title="Данные для смет по ремонтным работам на КЛ" timestamp="25.10.2018 22:12:34">
      <select />
      <from />
    </query>
    <query name="45567-r21-summ" title="запрос сумм" timestamp="08.07.2020 11:14:29">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call table="a" column="rer" group="count" function="if" as="kl">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_orderby" />
              <array>0,7,8</array>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="kz">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_orderby" />
              <const>7</const>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="itogo_rer">
          <call function="or">
            <call function="in">
              <column table="a" column="kod_orderby" />
              <array>1</array>
            </call>
            <call function="and">
              <call function="in">
                <column table="a" column="kod_orderby" />
                <array>7</array>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam name="rer" />
              </call>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="defect">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_orderby" />
              <const>8</const>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="itogo" exclude="1">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_type_repair" />
              <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="abonent">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>4</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="abc">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>3</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="other_uks">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>2</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="other_rer">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>6</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="podrorg">
          <call function="=">
            <column table="a" column="kod_orderby" />
            <const>5</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="predypr">
          <call function="=">
            <column table="a" column="kod_type_repair" />
            <const comment="Предупредительные">3</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="predypr_rer">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупредительные">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer_brig" />
              <useparam name="rer" />
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="predypr_rer_kz">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупредительные">3</const>
            </call>
            <call function="in">
              <column table="a" column="rer_brig" />
              <useparam name="rer" />
            </call>
            <call function="=">
              <column table="a" column="kod_orderby" />
              <const type="number">7</const>
            </call>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="count" function="if" as="techi" exclude="1">
          <call function="=">
            <column table="a" column="kod_type_repair" />
            <const comment="Устранение течей">4</const>
          </call>
          <column column="id_failure" table="a" />
        </call>
        <call table="a" column="rer" group="sum" function="if" as="abonent_work" exclude="1">
          <call function="=">
            <column table="a" column="kod_executor_repair" />
            <const comment="Абонент">2</const>
          </call>
          <column column="work_count" table="a" />
        </call>
        <call table="a" column="rer" group="sum" function="if" as="abc_work" exclude="1">
          <call function="=">
            <column table="a" column="kod_executor_repair" />
            <const comment="Абонент">2</const>
          </call>
          <column column="work_count" table="a" />
        </call>
        <call table="a" column="rer" group="sum" function="if" as="all_work">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_orderby" />
              <array>0,2</array>
            </call>
          </call>
          <column column="work_count" table="a" />
        </call>
        <call table="a" column="rer" group="sum" function="if" as="rer_work">
          <call function="or">
            <call function="in">
              <column table="a" column="kod_orderby" />
              <array>1,6</array>
            </call>
            <call function="and">
              <call function="not in">
                <column table="a" column="kod_orderby" />
                <array>0,2,3,4,5</array>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam name="rer" />
              </call>
            </call>
          </call>
          <column column="work_count" table="a" />
        </call>
      </select>
      <from>
        <query name="45567-r21-main-data" as="a">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
      </from>
      <where exclude="1">
        <call function="and" exclude="1">
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="is not null">
            <column table="a" column="adr_mp" />
          </call>
          <call function="is not null" exclude="1">
            <column column="info_num_tel_oati" table="a" />
          </call>
          <call function="is not null">
            <column table="a" column="bal_name" />
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="info_dat_tel_oati" />
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
        <call function="and" exclude="1">
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="is not null">
            <column table="a" column="adr_mp" />
          </call>
          <call function="is not null" exclude="1">
            <column column="info_num_tel_oati" table="a" />
          </call>
          <call function="is not null">
            <column table="a" column="bal_name" />
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="info_dat_tel_oati" />
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc" exclude="1">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r21-isnull" title="Не вошли в отчет из за пустых значений" timestamp="11.08.2021 12:01:57">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call function="rownum" as="row_id1" key="1" />
        <column table="a" column="num_failure" />
        <column table="a" column="dat_repair" />
        <column table="a" column="rer_name" />
        <column table="a" column="line_name" />
        <call function="nvl" as="nvl_bal">
          <column table="a" column="bal_name" />
          <const>'-'</const>
        </call>
        <call function="nvl" as="nvl_adr">
          <column table="a" column="adr_mp" />
          <const>'-'</const>
        </call>
        <call function="nvl" as="nvl_dat_oati" type="string">
          <call function="to_char">
            <column column="info_dat_tel_oati" table="a" />
            <const>'dd.mm.yyyy'</const>
          </call>
          <const>'-'</const>
        </call>
        <call function="nvl" as="nvl_tel_oati">
          <column table="a" column="info_num_tel_oati" />
          <const>'-'</const>
        </call>
        <call function="if" as="sign_2">
          <call function="=1">
            <column table="a" column="sign_2" />
          </call>
          <const type="string">'Да'</const>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="or">
            <call function="is null">
              <column table="a" column="bal_name" />
            </call>
            <call function="is null">
              <column table="a" column="adr_mp" />
            </call>
            <call function="!=">
              <column table="a" column="sign_2" />
              <const>1</const>
            </call>
          </call>
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc" exclude="1">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f3_t1" timestamp="06.09.2019 14:22:12" title="Распределение по месяцам">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call function="trunc" as="dat" type="date" group="max">
          <call function="if">
            <call function="=">
              <useglobparam name="PARAM_PR_SECRET" />
              <const>0</const>
            </call>
            <column table="a" column="dat_repair" />
            <column table="a" column="data_dop" />
          </call>
        </call>
        <call function="year" as="god" group="max">
          <column table="this" column="dat" group="no" />
        </call>
        <call function="month" as="mes" group="max">
          <column table="this" column="dat" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_all">
          <call function="and">
            <call function="=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="=">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
              <column table="this" column="god" group="no" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m1">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>1</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m2">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>2</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m3">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>3</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m4">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>4</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m5">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>5</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m6">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>6</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m7">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>7</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m8">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>8</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m9">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>9</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m10">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>10</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m11">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>11</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_kl_m12">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>12</const>
            </call>
          </call>
          <column table="this" column="t1_kl_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_all">
          <call function="and">
            <call function="=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
            <call function="=">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
              <column table="this" column="god" group="no" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_kind_failure" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_type_detect" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_equip_elem" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_mark_elem" />
            </call>
            <call function="is not null">
              <column table="a" column="kod_cause_failure" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m1">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>1</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m2">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>2</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m3">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>3</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m4">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>4</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m5">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>5</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m6">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>6</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m7">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>7</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m8">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>8</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m9">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>9</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m10">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>10</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m11">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>11</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_ras_m12">
          <call function="and">
            <call function="=">
              <column table="this" column="mes" group="no" />
              <const>12</const>
            </call>
          </call>
          <column table="this" column="t1_ras_all" group="no" />
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_all">
          <call function="and">
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m1">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call function="trunc">
                  <useparam name="p_ym" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">1</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m2">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">1</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">2</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m3">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="март">2</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">3</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m4">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">3</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">4</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m5">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">4</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">5</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m6">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">5</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">6</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m7">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">6</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">7</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m8">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">7</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">8</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m9">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">8</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">9</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m10">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">9</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">10</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m11">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">10</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">11</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t1_eq_m12">
          <call function="and">
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="апрель">11</const>
              </call>
              <call function="add_months">
                <call function="year begin time">
                  <call function="trunc">
                    <useparam name="p_ym" />
                  </call>
                </call>
                <const comment="февраль">12</const>
              </call>
            </call>
            <call function="!=">
              <column column="kod_typeline" table="a" />
              <const comment="PKL">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="year begin time">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
            </call>
            <call function="year end time">
              <call function="trunc">
                <useparam name="p_ym" />
              </call>
            </call>
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f3_t3" timestamp="06.09.2019 14:22:36" title="Распределение по месяцам">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call function="if" type="number" group="sum" as="t3_i_all">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="is not null">
              <column column="kod_klass_group" table="a" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_1_1">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Оперативного-111">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_1_2">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Ремонтного-112">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_1_3">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Эксплуатационного-113">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_2_1">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Заводов-изготовителей-21">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_2_5">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Монтажных-25">5</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_3_3">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Посторонних лиц ( механич. повреждения )-33">6</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_1">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гроза-41">7</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_2">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гололед-42">8</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_3">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Сильный ветер-43">9</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_4">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Температурное атмосферное воздействие-44">10</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_5">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Попад.воды (протечка кровли,затопл.КЗ)-45">13</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_4_6">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Пожар, возгорание-46">14</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_5_0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Естественный износ ( более 25 лет )-50">11</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_i_7_0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Причина не установлена-70">12</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_all">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="is not null">
              <column column="kod_klass_group" table="a" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_1_1">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Оперативного-111">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_1_2">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Ремонтного-112">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_1_3">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Эксплуатационного-113">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_2_1">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Заводов-изготовителей-21">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_2_5">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Монтажных-25">5</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_3_3">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Посторонних лиц ( механич. повреждения )-33">6</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_1">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гроза-41">7</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_2">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Гололед-42">8</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_3">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Сильный ветер-43">9</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_4">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Температурное атмосферное воздействие-44">10</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_5">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Попад.воды (протечка кровли,затопл.КЗ)-45">13</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_4_6">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Пожар, возгорание-46">14</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_5_0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Естественный износ ( более 25 лет )-50">11</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t3_a_7_0">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_degree_failure" />
              <const comment="Механическое">2</const>
            </call>
            <call function="=">
              <column column="kod_klass_group" table="a" />
              <const comment="Причина не установлена-70">12</const>
            </call>
          </call>
          <const>1</const>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
          <call function="between">
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <column table="a" column="dat_repair" />
              <column table="a" column="data_dop" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end time">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f3_t2" timestamp="04.12.2020 15:28:14" title="Распределение по месяцам">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call function="if" type="number" group="sum" as="t2_pkl_is">
          <call function="and">
            <call function="=" exclude="1">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_au">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_fa">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_os">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_du">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_na">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_kz">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_me">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_el">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_meh">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_nd">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_pkl_kv">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_is">
          <call function="and">
            <call function="=" exclude="1">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_au">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_fa">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_os">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_du">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_na">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_kz">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_me">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_el">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_meh">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_nd">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_cv_kv">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь">(2,3,8,13)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_is">
          <call function="and">
            <call function="=" exclude="1">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_au">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_fa">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_os">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_du">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_na">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_kz">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_me">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_el">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_meh">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_nd">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_nn_kv">
          <call function="and">
            <call function="=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="нн">(4)</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_is">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_au">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_fa">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_os">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_du">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_na">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_kz">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_me">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_el">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_meh">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_nd">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_ovn_kv">
          <call function="and">
            <call function="not in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_is">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Испытание">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_au">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_fa">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="р.напр: Зем.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_os">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_detect" />
              <const comment="Осмотр">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_du">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="Эл. дуга">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_na">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="перенапр.">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_kz">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="токи КЗ">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_me">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_cause_second" />
              <const comment="механич.">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_el">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Электрическое">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_meh">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_type_detect" />
              <const>(1,3,4)</const>
            </call>
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_kind_failure" />
              <const comment="Механическое">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_nd">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="t2_onn_kv">
          <call function="and">
            <call function="in">
              <column table="a" column="kod_v" />
              <const comment="вн">(1,13,14,16,17)</const>
            </call>
            <call function="!=">
              <column table="a" column="kod_typeline" />
              <const comment="КЛ">1</const>
            </call>
            <call function="is not null">
              <column table="a" column="value_nedop" />
            </call>
          </call>
          <column table="a" column="value_nedop" />
        </call>
        <call function="case" as="t2_else" type="string">
          <call function="when">
            <call function="=">
              <call function="case" group="sum">
                <call function="when">
                  <call function="or">
                    <call function="=">
                      <column table="a" column="kod_type_detect" />
                      <const type="number">-10</const>
                    </call>
                    <call function="=">
                      <column table="a" column="kod_use_line" />
                      <const type="number">-10</const>
                    </call>
                  </call>
                  <const type="number">1</const>
                </call>
                <call function="else">
                  <const type="number">0</const>
                </call>
              </call>
              <const type="number">0</const>
            </call>
            <const type="string">''</const>
          </call>
          <call function="else">
            <const type="string">'Имеются повреждения, не классифицированные по способу выявления.'</const>
          </call>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="not in">
            <column table="a" column="kod_type_repair" />
            <const comment="Не (реконстр.,устр. течей.)">(3,4)</const>
          </call>
          <call function="between">
            <call function="if">
              <call function="=">
                <useglobparam name="PARAM_PR_SECRET" />
                <const>0</const>
              </call>
              <column table="a" column="dat_repair" />
              <column table="a" column="data_dop" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end time">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r21-exec" timestamp="24.06.2019 11:03:30" title="Исполнители ремонтов" order="DECODE(exec_r, 'СРСЭО', 0, 1), exec_r">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call function="distinct" as="exec_r" key="1" type="string">
          <call function="case">
            <call function="when">
              <call function="and">
                <call function="=">
                  <column table="a" column="kod_type_repair" />
                  <const>4</const>
                </call>
                <call function="=">
                  <column table="a" column="kod_equip_elem" />
                  <const>3</const>
                </call>
              </call>
              <const type="string">'Концевые заделки'</const>
            </call>
            <call function="else">
              <column table="a" column="exec_r" />
            </call>
          </call>
        </call>
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="is not null">
            <column table="a" column="adr_mp" />
          </call>
          <call function="=" exclude="1">
            <column table="a" column="sign_2" />
            <const>1</const>
          </call>
          <call function="is not null" exclude="1">
            <column column="info_num_tel_oati" table="a" />
          </call>
          <call function="is not null">
            <column table="a" column="bal_name" />
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="info_dat_tel_oati" />
          </call>
          <call function="in">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc" exclude="1">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f034" timestamp="26.04.2019 17:28:45" title="Ф.034 Расшифровка выполненых ремонтов по назначению КЛ и длительности ремонтов" is-report="1" mode="excel" can-use-simple-params="1">
      <content>
        <usefield field="cmn_combo_num" name="rer" default="rer" mandatory="rer" column-mandatory="1">
          <listquery>
            <query name="hv_otg_rpdistrict" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict" />
          </defaultquery>
        </usefield>
        <usefield field="cmn_string" name="rer_name" column-visible="0">
          <listquery>
            <query name="hv_otg_rpdistrict_str" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict_str" />
          </defaultquery>
        </usefield>
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <params exclude="1">
        <param name="p_d1" type="date">
          <const>to_date('01.01.2008','dd.mm.yyyy')</const>
        </param>
        <param name="p_d2" type="date">
          <const>to_date('01.12.2018','dd.mm.yyyy')</const>
        </param>
      </params>
      <print-templates>
        <excel>
          <template name="45567-F034.xlsx" title="Ф.034 Расшифровка выполненых ремонтов по назначению КЛ и длительности ремонтов" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call function="if" type="number" group="sum" as="SM_1_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 16)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_1_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 16)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_2_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 18)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_2_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 18)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_3_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 19)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_3_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 19)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_4_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 20)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="SM_4_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 20)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_1_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Одно- жильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 60)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_1_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Одно- жильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 60)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_2_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Трех- и четырехжильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 61)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_2_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Трех- и четырехжильные КЗ">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 61)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_3_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Прочие">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 62)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="KZ_3_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const comment="Прочие">(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 62)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="DEF_1">
          <call function="and">
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(3,4)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="DEF_2">
          <call function="and">
            <call function="in">
              <column column="kod_type_repair" table="a" />
              <const>(3,4)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call type="number" group="sum" as="KAB_1" function="if">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_count">1</column>
        </call>
        <call function="if" type="number" group="sum" as="KAB_2">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_count">1</column>
        </call>
        <call function="if" type="number" group="sum" as="SUMM_1">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_dist">1</column>
        </call>
        <call function="if" type="number" group="sum" as="SUMM_2">
          <call function="and">
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &lt; 1)</const>
            </call>
          </call>
          <column table="hr_otg_repair" column="ins_dist">1</column>
        </call>
        <call function="if" type="number" group="sum" as="R_1">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="R_2">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="R_3">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RS_1">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Повторный">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RS_2">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Повторный">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RS_3">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Повторный">2</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RP_1">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупр. рем.">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RP_2">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупр. рем.">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RP_3">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Предупр. рем.">3</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RY_1">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column column="kod_use_line" table="a" />
              <const comment="ПКЛ">1</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RY_2">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="sum" as="RY_3">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="н\н">4</const>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <const>1</const>
        </call>
        <call function="if" type="number" group="avg" as="AVG_1">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_use_line" />
              <const comment="ПКЛ">1</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_work_on" />
            <column table="a" column="dat_repair" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="AVG_2">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="in">
              <column table="a" column="kod_use_line" />
              <const comment="Связь, р\с">(2,3)</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_work_on" />
            <column table="a" column="dat_repair" />1</call>
        </call>
        <call function="if" type="number" group="avg" as="AVG_3">
          <call function="and">
            <call function="between">
              <column table="hr_otg_repair" column="dat_work_on" />
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
            <call function="=">
              <column table="a" column="kod_type_repair" />
              <const comment="Устранение течи">4</const>
            </call>
          </call>
          <call function="-">
            <column table="hr_otg_repair" column="dat_work_on" />
            <column table="a" column="dat_repair" />1</call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
          <link name="hr_otg_repair" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
          <call function="between">
            <column table="a" column="dat_repair" />
            <call name="p_d1" function="ym begin time">
              <useparam name="p_d1" />
            </call>
            <call name="p_d1" function="ym end day">
              <useparam name="p_d1" />
            </call>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f035" timestamp="14.06.2019 17:49:03" title="Ф.035 Сведения о демонтированных соединительных и концевых муфт" is-report="1" mode="excel" can-use-simple-params="1">
      <content>
        <usefield field="cmn_combo_num" name="rer" default="rer" mandatory="rer" column-mandatory="1">
          <listquery>
            <query name="hv_otg_rpdistrict" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict" />
          </defaultquery>
        </usefield>
        <usefield field="cmn_string" name="rer_name" column-visible="0">
          <listquery>
            <query name="hv_otg_rpdistrict_str" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict_str" />
          </defaultquery>
        </usefield>
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <params exclude="1">
        <param name="p_d1" type="date">
          <const>to_date('01.01.2008','dd.mm.yyyy')</const>
        </param>
        <param name="p_d2" type="date">
          <const>to_date('01.12.2018','dd.mm.yyyy')</const>
        </param>
      </params>
      <print-templates>
        <excel>
          <template name="45567-F035.xlsx" title="Ф.035 Сведения о демонтированных соединительных и концевых муфт" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <column table="a" column="*" />
      </select>
      <from>
        <query name="45567-f035_all" as="a">
          <withparams>
            <useparam name="rer" />
            <useparam name="p_d1" />
          </withparams>
        </query>
      </from>
      <where />
    </query>
    <query name="45567-f035_sm" timestamp="14.06.2019 18:05:42" title="Распределение по месяцам">
      <params>
        <usepart part="45567-f035-part" />
        <param part="45567-r21-part" name="rer" type="number" exclude="1" />
        <param name="p_d1" type="number" exclude="1" />
      </params>
      <select>
        <call function="if" type="number" group="sum" as="sm_m_1_1">
          <call function="and">
            <call function="in">
              <column column="sm_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_1_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_2_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_3_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_m_4_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 84)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 83)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 82)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 37)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 36)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 35)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_4_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_3_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_2_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="sm_y_1_1">
          <call function="and">
            <call function="in">
              <column column="sm_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 34)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="sm_count_dem">1</column>
          </call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
          <link name="hr_otg_repair" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f035_kz" timestamp="14.06.2019 14:33:28" title="Распределение по месяцам">
      <params>
        <usepart part="45567-f035-part" />
        <param part="45567-r21-part" name="rer" type="number" exclude="1" />
        <param name="p_d1" type="number" exclude="1" />
      </params>
      <select>
        <call function="if" type="number" group="sum" as="kz_m_1_1">
          <call function="and">
            <call function="in">
              <column column="kz_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_1_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_2_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_3_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_m_4_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call name="p_d1" function="ym begin time">
                <useparam name="p_d1" />
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym begin time">
                    <useparam name="p_d1" />
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_7">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 91)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_6">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 90)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_5">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 89)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="ym begin time">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_4">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 88)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_3">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 87)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_2">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 86)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_4_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt;= 20 and a.nv&lt;=35)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_3_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 10)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_2_1">
          <call function="and">
            <call function="in">
              <column column="kod_mark_elem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv = 6)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
        <call function="if" type="number" group="sum" as="kz_y_1_1">
          <call function="and">
            <call function="in">
              <column column="kz_marka_dem" table="hr_otg_repair" />
              <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
            </call>
            <call function="in">
              <column column="kod_v" table="a" />
              <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
            </call>
            <call function="between">
              <call function="trunc">
                <call function="if">
                  <call function="=">
                    <useglobparam name="PARAM_PR_SECRET" />
                    <const>0</const>
                  </call>
                  <column table="a" column="dat_repair" />
                  <column table="a" column="data_dop" />
                </call>
              </call>
              <call function="year begin time">
                <call name="p_d1" function="trunc">
                  <useparam name="p_d1" />
                </call>
              </call>
              <call name="p_d1" function="ym end day">
                <useparam name="p_d1" />
              </call>
            </call>
          </call>
          <call function="+">
            <call function="if">
              <call function="and">
                <call function="in">
                  <column column="sm2_marka_dem" table="hr_otg_repair" />
                  <const>(SELECT a.value_slovar FROM hk_otg_groupings a WHERE a.parent_key = 85)</const>
                </call>
                <call function="in">
                  <column column="kod_v" table="a" />
                  <const>(select a.kod_v from hk_v a where a.nv &gt; 1)</const>
                </call>
                <call function="between">
                  <call function="trunc">
                    <call function="if">
                      <call function="=">
                        <useglobparam name="PARAM_PR_SECRET" />
                        <const>0</const>
                      </call>
                      <column table="a" column="dat_repair" />
                      <column table="a" column="data_dop" />
                    </call>
                  </call>
                  <call function="year begin time">
                    <call name="p_d1" function="trunc">
                      <useparam name="p_d1" />
                    </call>
                  </call>
                  <call name="p_d1" function="ym end day">
                    <useparam name="p_d1" />
                  </call>
                </call>
              </call>
              <column table="hr_otg_repair" column="sm2_count_dem">1</column>
            </call>
            <column table="hr_otg_repair" column="kz_count_dem">1</column>
          </call>
        </call>
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="rer">
            <link name="kod_parent" />
          </link>
          <link name="kod_typeline" />
          <link name="hr_otg_repair" />
        </query>
        <query name="hv_otg_okrug" as="b" join="right outer">
          <call function="=">
            <column table="b" column="kodp" />
            <column table="rer" column="kod_parent" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="in">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="=">
            <column table="a" column="pr_deleted" />
            <const comment="Не удален">0</const>
          </call>
        </call>
      </where>
    </query>
    <query name="45567-f031" timestamp="07.10.2021 13:34:36" title="Наряд на сдельные работы" is-report="1" mode="excel" nogrid="1" can-use-simple-params="1">
      <content>
        <usefield field="cmn_combo_num" name="rer" default="rer" mandatory="rer" column-mandatory="1">
          <listquery>
            <query name="hv_otg_rpdistrict" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict" />
          </defaultquery>
        </usefield>
        <usefield field="cmn_string" name="rer_name" column-visible="0">
          <listquery>
            <query name="hv_otg_rpdistrict_str" />
          </listquery>
          <defaultquery>
            <query name="hv_otg_rpdistrict_str" />
          </defaultquery>
        </usefield>
        <fieldgroup title="Дата" as="Переод отчета">
          <usefield name="p_d1" column-mandatory="1" field="ym" title="Отчетный месяц" />
        </fieldgroup>
      </content>
      <print-templates>
        <excel>
          <template name="45567-F031.xlsx" title="Наряд на сдельные работы" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <select>
        <call table="a" function="rownum" as="rnum" exclude="1" />
        <column table="br" column="name" as="br_name" group="max" />
        <call function="||" as="br_name1" group="max">
          <column table="br" column="name" />
          <const>' ('</const>
          <column table="rer" column="name" />
          <const>')'</const>
        </call>
        <column table="r" column="kod_brig" />
        <column table="ar" column="name" as="ar_name" group="max" />
        <column table="r" column="kod_area" />
        <column table="r" column="dat_repair_end" group="max" />
        <column table="a" column="line_name" group="max" />
        <column table="kod_use_line" column="name" as="use_line" group="max" />
        <column table="r" column="work_num_shifr" group="max" />
        <column table="r" column="work_count" group="max" />
        <column table="r" column="ins_dist" group="max" />
        <column table="a" column="id_failure" />
      </select>
      <from>
        <query name="hr_otg_failure" as="a">
          <link name="hr_otg_repair" as="r" />
          <link name="kod_use_line" />
        </query>
        <query name="hv_otg_rpdistrict" as="b" join="right outer">
          <call function="=">
            <column table="a" column="rer" />
            <column table="b" column="kodp" />
          </call>
        </query>
        <query name="hv_otg_okrug" as="t" join="right outer">
          <call function="=">
            <column table="b" column="kod_parent" />
            <column table="t" column="kodp" />
          </call>
        </query>
        <query name="kr_org" as="br" join="left outer">
          <call function="=">
            <column table="r" column="kod_brig" />
            <column table="br" column="kodp" />
          </call>
          <link name="kod_parent">
            <link name="kod_parent" as="rer" />
          </link>
        </query>
        <query name="kr_org" as="ar" join="left outer">
          <call function="=">
            <column table="r" column="kod_area" />
            <column table="ar" column="kodp" />
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="is not null">
            <column table="r" column="kod_area" />
          </call>
          <call function="is not null">
            <column table="r" column="kod_brig" />
          </call>
          <call function="=">
            <column table="a" column="rer" />
            <useparam name="rer" />
          </call>
          <call function="between">
            <call function="trunc" exclude="1">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="r" column="dat_repair_end" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="trunc">
              <column table="r" column="dat_repair_end" />
            </call>
            <call name="p_d1" function="ym begin time">
              <useparam name="p_d1" />
            </call>
            <call name="p_d1" function="ym end day">
              <useparam name="p_d1" />
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="brig">
          <where exclude="1">
            <call function="is not null">
              <column table="r" column="kod_area" />
            </call>
          </where>
          <group>
            <column table="r" column="kod_brig" />
          </group>
          <grset as="list_name">
            <where exclude="1">
              <call function="is not null">
                <column table="r" column="kod_brig" />
              </call>
            </where>
            <group>
              <column table="r" column="kod_area" />
            </group>
            <grset as="rows">
              <where exclude="1">
                <call function="is not null">
                  <column table="r" column="kod_brig" />
                </call>
              </where>
              <group>
                <column table="a" column="id_failure" />
              </group>
            </grset>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-f035_all" timestamp="14.06.2019 14:11:45" title="Распределение по месяцам">
      <params>
        <usepart part="45567-f035-part" />
        <param part="45567-r21-part" name="rer" type="number" exclude="1" />
        <param name="p_d1" type="number" exclude="1" />
      </params>
      <select>
        <column table="a" column="*" />
        <column table="b" column="*" />
      </select>
      <from>
        <query name="45567-f035_sm" as="a">
          <withparams>
            <useparam name="rer" />
            <useparam name="p_d1" />
          </withparams>
        </query>
        <query name="45567-f035_kz" as="b" join="cross">
          <withparams>
            <useparam name="rer" />
            <useparam name="p_d1" />
          </withparams>
        </query>
      </from>
    </query>
    <query name="45567-r21-main-data" timestamp="04.12.2020 14:48:48" title="Основная таблица">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call function="case" as="exec_r" type="string" exclude="1">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const>4</const>
              </call>
              <call function="=">
                <column table="a" column="kod_equip_elem" />
                <const>3</const>
              </call>
            </call>
            <const type="string">'Концевые заделки'</const>
          </call>
          <call function="else">
            <column table="a" column="exec_r" />
          </call>
        </call>
        <call function="case" type="string" as="kod_orderby">
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <call function="nvl">
                  <column table="a" column="rer_brig" />
                  <column table="a" column="rer" />
                </call>
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">1</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="not in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">2</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>3,6,7</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">3</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>2</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">4</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>4</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">5</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">6</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="like2">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">7</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">8</const>
          </call>
          <call function="else">
            <const type="number">0</const>
          </call>
        </call>
        <call function="case" type="string" as="name_gr">
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <call function="nvl">
                  <column table="a" column="rer_brig" />
                  <column table="a" column="rer" />
                </call>
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column type="number" table="a" column="rer_name">1</column>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="not in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column type="number" table="a" column="rer_brig_name">1</column>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>3,6,7</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>2</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>4</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <call type="number" function="||">
              <const type="string">'Работы бригад '</const>
              <column table="a" column="rer_brig_name" />
              <const type="string">' в других подразделениях'</const>6</call>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="like2">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="string">'Замена КЗ'</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="string">'Устранение дефектов'</const>
          </call>
          <call function="else">
            <const type="string">'Нет'</const>
          </call>
        </call>
        <column table="a" column="rer_name" />
        <column table="a" column="num_failure" />
        <column table="a" column="dat_repair_end" />
        <column table="a" column="line_name" />
        <column table="a" column="num_kalk" />
        <column table="a" column="num_book" />
        <column table="a" column="bal_name" />
        <column table="a" column="life_time" />
        <column table="a" column="ins_dist" />
        <column table="a" column="deep" />
        <column table="a" column="work_num_shifr" />
        <column table="a" column="work_count" />
        <column table="a" column="type_repair" />
        <column table="a" column="id_failure" />
        <column table="a" column="kod_type_repair" />
        <column table="a" column="rer_brig" />
      </select>
      <from>
        <query name="hv_otg_repair_all" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="is not null">
            <column table="a" column="adr_mp" />
          </call>
          <call function="=">
            <column table="a" column="sign_2" />
            <const>1</const>
          </call>
          <call function="is not null" exclude="1">
            <column column="info_num_tel_oati" table="a" />
          </call>
          <call function="is not null">
            <column table="a" column="bal_name" />
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="info_dat_tel_oati" />
          </call>
          <call function="or">
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="and">
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
          </call>
          <call function="in" exclude="1">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc" exclude="1">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="name_gr" order="kod_orderby">
          <group>
            <column table="this" column="name_gr" />
            <column table="this" column="kod_orderby" />
          </group>
          <grset as="repair" order="dat_repair_end">
            <group>
              <column table="this" column="id_failure" />
              <column table="this" column="dat_repair_end" />
              <column table="this" column="rer_name" exclude="1" />
              <column table="this" column="num_failure" exclude="1" />
              <column table="this" column="line_name" exclude="1" />
              <column table="this" column="num_kalk" exclude="1" />
              <column table="this" column="num_book" exclude="1" />
              <column table="this" column="bal_name" exclude="1" />
              <column table="this" column="ins_dist" exclude="1" />
              <column table="this" column="deep" exclude="1" />
              <column table="this" column="work_num_shifr" exclude="1" />
              <column table="this" column="work_count" exclude="1" />
              <column table="this" column="type_repair" exclude="1" />
              <column table="this" column="kod_type_repair" exclude="1" />
              <column table="this" column="rer_brig" exclude="1" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-r21-title" timestamp="11.06.2020 17:40:45" file="sql.builder.templates\sql.builder\projects\proj45567\other\all.xml">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <column table="a" column="sname" group="stragg_dist" as="rer_name" key="0" />
        <call function="()" as="ym" type="string" key="0">
          <useparam name="p_ym" />
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="in" optional="1">
            <column table="a" column="kodp" />
            <useparam name="rer" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-r21-main" timestamp="04.12.2020 14:49:35" title="Основная таблица">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <select>
        <call function="case" as="exec_r" type="string" exclude="1">
          <call function="when">
            <call function="and">
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const>4</const>
              </call>
              <call function="=">
                <column table="a" column="kod_equip_elem" />
                <const>3</const>
              </call>
            </call>
            <const type="string">'Концевые заделки'</const>
          </call>
          <call function="else">
            <column table="a" column="exec_r" />
          </call>
        </call>
        <call function="case" type="string" as="kod_orderby" exclude="1">
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <call function="nvl">
                  <column table="a" column="rer_brig" />
                  <column table="a" column="rer" />
                </call>
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">1</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="not in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">2</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>3,6,7</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">3</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>2</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">4</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>4</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">5</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">6</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="like2">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">7</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="number">8</const>
          </call>
          <call function="else">
            <const type="number">0</const>
          </call>
        </call>
        <call function="case" type="string" as="name_gr" exclude="1">
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <call function="nvl">
                  <column table="a" column="rer_brig" />
                  <column table="a" column="rer" />
                </call>
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column type="number" table="a" column="rer_name">1</column>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not in">
                <column table="a" column="kod_executor_repair" />
                <array>2,3,4,5,6,7,-10</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="not in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column type="number" table="a" column="rer_brig_name">1</column>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>3,6,7</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>2</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="in">
                <column table="a" column="kod_executor_repair" />
                <array>4</array>
              </call>
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <column table="a" column="exec_r" />
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <call type="number" function="||">
              <const type="string">'Работы бригад '</const>
              <column table="a" column="rer_brig_name" />
              <const type="string">' в других подразделениях'</const>6</call>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="like2">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="!=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="string">'Замена КЗ'</const>
          </call>
          <call function="when">
            <call table="a" function="and">
              <call function="not like">
                <column table="a" column="work_num_shifr" />
                <const type="string">'%-0-12'</const>
              </call>
              <call function="=">
                <column table="a" column="kod_type_repair" />
                <const type="number">4</const>
              </call>
              <call function="in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
            <const type="string">'Устранение дефектов'</const>
          </call>
          <call function="else">
            <const type="string">'Нет'</const>
          </call>
        </call>
        <column table="a" column="kod_orderby" />
        <column table="a" column="name_gr" />
        <column table="a" column="rer_name" group="max" />
        <column table="a" column="num_failure" group="max" />
        <column table="a" column="dat_repair_end" />
        <column table="a" column="line_name" group="max" />
        <column table="a" column="num_kalk" group="max" />
        <column table="a" column="num_book" group="max" />
        <column table="a" column="bal_name" group="max" />
        <column table="a" column="life_time" group="max" />
        <column table="a" column="ins_dist" group="max" />
        <column table="a" column="deep" group="max" />
        <column table="a" column="work_num_shifr" group="max" />
        <column table="a" column="work_count" group="max" />
        <column table="a" column="type_repair" group="max" />
        <column table="a" column="id_failure" />
        <column table="a" column="kod_type_repair" group="max" />
        <column table="a" column="rer_brig" group="max" />
      </select>
      <from>
        <query name="45567-r21-main-data" as="a">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
      </from>
      <where exclude="1">
        <call function="and">
          <call function="=">
            <column column="kod_typeline" table="a" />
            <const comment="КЛ">1</const>
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="dat_repair_end" />
          </call>
          <call function="is not null">
            <column table="a" column="adr_mp" />
          </call>
          <call function="=">
            <column table="a" column="sign_2" />
            <const>1</const>
          </call>
          <call function="is not null" exclude="1">
            <column column="info_num_tel_oati" table="a" />
          </call>
          <call function="is not null">
            <column table="a" column="bal_name" />
          </call>
          <call function="is not null" exclude="1">
            <column table="a" column="info_dat_tel_oati" />
          </call>
          <call function="or">
            <call function="in">
              <column table="a" column="rer" />
              <useparam part="45567-r21-part" name="rer" />
            </call>
            <call function="and">
              <call function="in">
                <column table="a" column="rer_brig" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
              <call function="not in">
                <column table="a" column="rer" />
                <useparam part="45567-r21-part" name="rer" />
              </call>
            </call>
          </call>
          <call function="in" exclude="1">
            <column table="a" column="rer" />
            <useparam part="45567-r21-part" name="rer" />
          </call>
          <call function="between">
            <call function="trunc" exclude="1">
              <call function="if">
                <call function="=">
                  <useglobparam name="PARAM_PR_SECRET" />
                  <const>0</const>
                </call>
                <column table="a" column="dat_repair" />
                <column table="a" column="data_dop" />
              </call>
            </call>
            <call function="trunc">
              <column table="a" column="dat_repair_end" />
            </call>
            <call function="ym begin time">
              <useparam name="p_ym" />
            </call>
            <call function="ym end day">
              <useparam name="p_ym" />
            </call>
          </call>
        </call>
      </where>
      <grouping>
        <grset as="name_gr" order="kod_orderby">
          <group>
            <column table="this" column="name_gr" />
            <column table="this" column="kod_orderby" />
          </group>
          <grset as="repair" order="dat_repair_end">
            <group>
              <column table="this" column="id_failure" />
              <column table="this" column="dat_repair_end" />
              <column table="this" column="rer_name" exclude="1" />
              <column table="this" column="num_failure" exclude="1" />
              <column table="this" column="line_name" exclude="1" />
              <column table="this" column="num_kalk" exclude="1" />
              <column table="this" column="num_book" exclude="1" />
              <column table="this" column="bal_name" exclude="1" />
              <column table="this" column="ins_dist" exclude="1" />
              <column table="this" column="deep" exclude="1" />
              <column table="this" column="work_num_shifr" exclude="1" />
              <column table="this" column="work_count" exclude="1" />
              <column table="this" column="type_repair" exclude="1" />
              <column table="this" column="kod_type_repair" exclude="1" />
              <column table="this" column="rer_brig" exclude="1" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-f3-title" timestamp="04.12.2020 15:12:41">
      <params>
        <param name="rer" type="array">
          <call function="array">
            <const>1028</const>
            <const>1029</const>
            <const>1030</const>
            <const>1031</const>
            <const>1033</const>
            <const>1034</const>
            <const>1035</const>
            <const>1036</const>
            <const>1037</const>
            <const>1038</const>
            <const>1039</const>
            <const>1040</const>
            <const>1041</const>
            <const>1042</const>
            <const>1043</const>
            <const>1044</const>
            <const>1045</const>
            <const>1046</const>
            <const>1047</const>
            <const>1048</const>
            <const>1049</const>
            <const>1050</const>
            <const>1051</const>
            <const>1052</const>
            <const>1053</const>
            <const>1054</const>
          </call>
        </param>
        <param name="p_ym" type="number">
          <const>2017.12</const>
        </param>
      </params>
      <select>
        <column table="a" column="sname" group="stragg_dist" as="rer_name" key="0" />
        <call function="()" as="ym" type="string" key="0">
          <useparam name="p_ym" />
        </call>
      </select>
      <from>
        <query name="kr_org" as="a" />
      </from>
      <where>
        <call function="or">
          <call function="false" />
          <call function="in" optional="1">
            <column table="a" column="kodp" />
            <useparam name="rer" />
          </call>
        </call>
      </where>
    </query>
    <query name="45567-svod-date" timestamp="22.10.2021 16:13:16" mode="default" title="Сводка на дату" can-use-simple-params="1" order="rer_name,num_failure">
      <params>
        <usepart part="45567-svod-part" />
      </params>
      <print-templates exclude="1">
        <excel>
          <template name="45567-Svod.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка общая" />
        </excel>
        <excel exclude="1">
          <template name="45567-Svod.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка по РЭР" />
        </excel>
      </print-templates>
      <select>
        <call function="()" exclude="1">
          <const>1</const>
        </call>
        <call function="rownum" as="num_row" key="1" />
        <column table="a" column="id_failure" />
        <column table="a" column="rer" />
        <column table="a" column="date_svod" />
        <column table="a" column="okr_name" title="УКС" />
        <column table="a" column="rer_name" title="Район" />
        <column table="a" column="num_failure" title="№ повреждения" format="N0" />
        <column table="a" column="num_failure_parent" title="№ родительского повреждения" format="N0" />
        <column table="a" column="num_failure_iteration" title="№ итерации" format="N0" />
        <column table="a" column="id_group" title="Индекс группы" format="N0" />
        <column table="a" column="dat_repair" title="Дата повреждения" />
        <call function="()" title="Процент выполнения" exclude="1" />
        <column table="a" column="sign_2" title="Подпись Ф002" format="N0" />
        <column table="a" column="line_name" title="Диспетчерское наименование" />
        <column table="a" column="typeline" title="Элемент сети" />
        <column table="a" column="bal_name" title="Балансовая принадлежность" />
        <column table="a" column="gar_name" title="Гарантия Договор" />
        <column table="a" column="type_repair" title="Вид ремонта" />
        <column table="a" column="equip_elem" title="Элемент повреждения" />
        <column table="a" column="dat_omp" title="Дата ОМП" />
        <column table="a" column="dat_repair_start" title="Дата начала ремонта (раскопки)" />
        <column table="a" column="dat_repair_end" title="Дата конца ремонта" />
        <column table="a" column="dat_test" title="Дата испытания" />
        <column table="a" column="dat_work_on" title="Дата вкл. В работу" />
        <column table="a" column="inscomp" title="Компьютер ввода" />
        <column table="a" column="insautor" title="Пользователь добавивший" />
        <column table="a" column="pr_blag" title="Благоустройство" format="N0" />
        <column table="a" column="pr_start_repair" title="КЛ в ремонте" format="N0" />
        <column table="a" column="remark" title="Примечание" exclude="1" />
        <column table="a" column="days_without_repair" title="Количество дней без ремонта" format="N0" />
        <column table="a" column="days_without_on" title="Количество дней без включения" format="N0" />
        <column table="a" column="pr_proboi" title="Пробой" format="N0" />
      </select>
      <from>
        <query name="vv_repository_summary" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="date_svod" />
            <useparam name="date_svod" />
          </call>
        </call>
      </where>
      <grouping exclude="1">
        <grset as="date_svod">
          <group>
            <column table="a" column="date_svod" />
          </group>
          <grset as="rer">
            <group>
              <column table="a" column="rer_name" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
    <query name="45567-svod-date_rer" timestamp="06.10.2021 12:57:52" mode="default" title="Сводка на дату по РЭР" can-use-simple-params="1" order="rer_name,num_failure">
      <params>
        <usepart part="45567-svod-part" />
      </params>
      <print-templates exclude="1">
        <excel>
          <template name="45567-Svod.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка общая" />
        </excel>
        <excel exclude="1">
          <template name="45567-Svod.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка по РЭР" />
        </excel>
      </print-templates>
      <select>
        <call function="rownum" as="num_row" key="1" />
        <column table="a" column="rer" />
        <column table="a" column="id_failure" group="2" />
        <column table="a" column="date_svod" />
        <column table="a" column="okr_name" title="УКС" group="max" />
        <column table="a" column="rer_name" title="Район" group="1" />
        <column table="a" column="num_failure" title="№ повреждения" format="N0" group="max" />
        <column table="a" column="num_failure_parent" title="№ родительского повреждения" format="N0" group="max" />
        <column table="a" column="num_failure_iteration" title="№ итерации" format="N0" group="max" />
        <column table="a" column="id_group" title="Индекс группы" format="N0" group="max" />
        <column table="a" column="dat_repair" title="Дата повреждения" group="max" />
        <call function="()" title="Процент выполнения" exclude="1" />
        <column table="a" column="sign_2" title="Подпись Ф002" format="N0" group="max" />
        <column table="a" column="line_name" title="Диспетчерское наименование" group="max" />
        <column table="a" column="typeline" title="Элемент сети" group="max" />
        <column table="a" column="bal_name" title="Балансовая принадлежность" group="max" />
        <column table="a" column="gar_name" title="Гарантия Договор" group="max" />
        <column table="a" column="type_repair" title="Вид ремонта" group="max" />
        <column table="a" column="equip_elem" title="Элемент повреждения" group="max" />
        <column table="a" column="dat_omp" title="Дата ОМП" group="max" />
        <column table="a" column="dat_repair_start" title="Дата начала ремонта (раскопки)" group="max" />
        <column table="a" column="dat_repair_end" title="Дата конца ремонта" group="max" />
        <column table="a" column="dat_test" title="Дата испытания" group="max" />
        <column table="a" column="dat_work_on" title="Дата вкл. В работу" group="max" />
        <column table="a" column="inscomp" title="Компьютер ввода" group="max" />
        <column table="a" column="insautor" title="Пользователь добавивший" group="max" />
        <column table="a" column="pr_blag" title="Благоустройство" format="N0" group="max" />
        <column table="a" column="pr_start_repair" title="КЛ в ремонте" format="N0" group="max" />
        <column table="a" column="remark" title="Примечание" group="max" />
        <column table="a" column="days_without_repair" title="Количество дней без ремонта" format="N0" group="max" />
        <column table="a" column="days_without_on" title="Количество дней без включения" format="N0" group="max" />
        <column table="a" column="pr_proboi" title="Пробой" format="N0" group="max" />
      </select>
      <from>
        <query name="vv_repository_summary" as="a" />
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="date_svod" />
            <useparam name="date_svod" />
          </call>
        </call>
      </where>
      <grouping>
        <grset as="rer">
          <group>
            <column table="a" column="rer_name" />
          </group>
          <grset as="dat" order="dat_repair,num_failure">
            <group>
              <column table="this" column="id_failure" />
            </group>
          </grset>
        </grset>
      </grouping>
    </query>
  </queries>
  <fields>
    <field id="field_RER" name="Район" title="Район" controlType="UIList" timestamp="25.10.2018 13:16:16" type="number">
      <listquery>
        <query name="hv_otg_rpdistrict" />
      </listquery>
      <defaultquery>
        <query name="hv_otg_rpdistrict" />
      </defaultquery>
    </field>
  </fields>
  <reports>
    <report name="45567-r21" title="Ф.7Н Отчет о выполненных ремонтах КЛ за месяц" timestamp="15.06.2020 13:53:05" form="45567-r21-form" mode="excel" is-report="1">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <print-templates>
        <excel>
          <template name="45567-r21-F7N.xlsx" title="Ф.7Н Отчет о выполненных ремонтах КЛ за месяц" del-cols="1" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-r21-exec" as="e" exclude="1">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
          <query name="45567-r21-main" as="a">
            <withparams>
              <usepart part="45567-r21-withparams" />
            </withparams>
            <call function="=">
              <column table="a" column="exec_r" />
              <column table="e" column="exec_r" />
            </call>
          </query>
        </query>
        <query name="45567-r21-main" as="a">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
        <query name="45567-r21-summ" as="b">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
        <query name="45567-r21-isnull" as="c">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
        <query name="45567-r21-title" as="title">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="45567-f3" title="Форма 3 Сводка и расшифровка повреждений, классификация аварий и отказов в РЭР" timestamp="04.12.2020 15:14:14" form="45567-r21-form" mode="excel" is-report="1">
      <params>
        <usepart part="45567-r21-part" />
      </params>
      <print-templates>
        <excel>
          <template name="45567-F3Svod1.xlsx" title="Форма 3 Сводка и расшифровка повреждений, классификация аварий и отказов в РЭР" print-proc="2" print-xlsx="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-f3_t1" as="a">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
        <query name="45567-f3_t2" as="b">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
        <query name="45567-f3_t3" as="c">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
        <query name="45567-f3-title" as="title">
          <withparams>
            <usepart part="45567-r21-withparams" />
          </withparams>
        </query>
      </queries>
    </report>
    <report name="45567-svod" title="Сводка на дату" timestamp="22.10.2021 17:05:24" form="45567-svod-form" mode="excel" nogrid="1">
      <params>
        <usepart part="45567-svod-part" />
      </params>
      <print-templates>
        <excel>
          <template name="45567-Svod.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка общая" />
          <template name="45567-Svod-rer.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка по РЭР" exclude="1" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-svod-date" as="a">
          <withparams>
            <usepart part="45567-svod-withparams" />
          </withparams>
        </query>
        <query name="45567-svod-date_rer" as="b" exclude="1">
          <withparams>
            <usepart part="45567-svod-withparams" />
          </withparams>
          <call function="=">
            <column table="a" column="id_failure" />
            <column table="b" column="id_failure" />
          </call>
        </query>
      </queries>
    </report>
    <report name="45567-svod-rer" title="Сводка на дату по РЭР" timestamp="22.10.2021 17:05:05" form="45567-svod-form" mode="excel" nogrid="1">
      <params>
        <usepart part="45567-svod-part" />
      </params>
      <print-templates>
        <excel>
          <template name="45567-Svod.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка общая" exclude="1" />
          <template name="45567-Svod-rer.xlsx" del-cols="1" print-proc="2" print-xlsx="1" title="Сводка по РЭР" />
        </excel>
      </print-templates>
      <queries>
        <query name="45567-svod-date" as="a" exclude="1">
          <withparams>
            <usepart part="45567-svod-withparams" />
          </withparams>
        </query>
        <query name="45567-svod-date_rer" as="b">
          <withparams>
            <usepart part="45567-svod-withparams" />
          </withparams>
          <call function="=">
            <column table="a" column="id_failure" />
            <column table="b" column="id_failure" />
          </call>
        </query>
      </queries>
    </report>
  </reports>
  <forms>
    <form name="45567-r21-form" timestamp="26.10.2018 16:25:29">
      <usefield field="field_RER" name="rer" />
      <fieldgroup title="Дата" as="Переод отчета">
        <usefield title="Год.Месяц" name="p_ym" column-mandatory="1" field="ym" />
      </fieldgroup>
    </form>
    <form name="45567-svod-form" timestamp="05.10.2021 16:26:02">
      <usefield field="date_svod" title="На дату" name="date_svod" />
    </form>
  </forms>
  <parts>
    <part id="45567-r21-part" timestamp="29.12.2018 14:16:19">
      <param name="rer" type="array">
        <call function="array">
          <const>1028</const>
          <const>1029</const>
          <const>1030</const>
          <const>1031</const>
          <const>1033</const>
          <const>1034</const>
          <const>1035</const>
          <const>1036</const>
          <const>1037</const>
          <const>1038</const>
          <const>1039</const>
          <const>1040</const>
          <const>1041</const>
          <const>1042</const>
          <const>1043</const>
          <const>1044</const>
          <const>1045</const>
          <const>1046</const>
          <const>1047</const>
          <const>1048</const>
          <const>1049</const>
          <const>1050</const>
          <const>1051</const>
          <const>1052</const>
          <const>1053</const>
          <const>1054</const>
        </call>
      </param>
      <param name="p_ym" type="number">
        <const>2017.12</const>
      </param>
    </part>
    <part id="45567-r21-withparams" timestamp="26.10.2018 16:31:37">
      <useparam part="45567-r21-part" name="rer" />
      <useparam name="p_ym" />
    </part>
    <part id="45567-f035-part" timestamp="27.04.2019 17:25:22">
      <param name="rer" type="number">
        <call function="array">
          <const>1028</const>
          <const>1029</const>
          <const>1030</const>
          <const>1031</const>
          <const>1033</const>
          <const>1034</const>
          <const>1035</const>
          <const>1036</const>
          <const>1037</const>
          <const>1038</const>
          <const>1039</const>
          <const>1040</const>
          <const>1041</const>
          <const>1042</const>
          <const>1043</const>
          <const>1044</const>
          <const>1045</const>
          <const>1046</const>
          <const>1047</const>
          <const>1048</const>
          <const>1049</const>
          <const>1050</const>
          <const>1051</const>
          <const>1052</const>
          <const>1053</const>
          <const>1054</const>
        </call>
      </param>
      <param name="p_d1" type="number">
        <const>2017.12</const>
      </param>
    </part>
    <part id="f021_dat_repair_end_between" timestamp="03.07.2020 12:57:04">
      <call function="between">
        <column column="dat_repair_end" table="hr_otg_repair" />
        <call name="p_d1" function="ym begin time">
          <useparam name="p_d1" />
        </call>
        <call name="p_d1" function="ym end day">
          <useparam name="p_d1" />
        </call>
      </call>
    </part>
    <part id="45567-svod-part" timestamp="06.10.2021 11:43:45">
      <param name="date_svod" type="date" />
    </part>
    <part id="45567-svod-withparams" timestamp="05.10.2021 16:29:06">
      <useparam part="45567-svod-part" name="date_svod" />
    </part>
  </parts>
</root>