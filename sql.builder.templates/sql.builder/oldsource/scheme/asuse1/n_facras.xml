<root>
  <queries>
    <query name="n_facras" hint="USE_NL(a v)">
      <params>
        <param name="date">
        </param>
        <param name="kodp_cond">
        </param>
      </params>
      <select>
        <column table="a" column="kod_ras" type="number">
        </column>
        <column table="a" column="kod_sf" type="number">
        </column>
        <column table="a" column="codeabon" type="number">
        </column>
        <column table="a" column="nachisl" type="number">
        </column>
        <column table="a" column="nds" type="number">
        </column>
        <call function="+nvl" as="summa" type="number" title="Начислено (руб)">
          <column table="a" column="nachisl">
          </column>
          <column table="a" column="nds">
          </column>
        </call>
        <call function="+" as="rym" type="number">
          <column table="a" column="god" />
          <call function="/">
            <column table="a" column="mes" />
            <const>100</const>
          </call>
        </call>
        <column table="v" column="kod_deb">
        </column>
        <column table="v" column="vid_real">
        </column>
        <column table="v" column="kodp">
        </column>
        <column table="v" column="num_sf">
        </column>
        <column table="v" column="dat_sf">
        </column>
        <column table="v" column="dat_bzad_nvl">
        </column>
        <column table="v" column="ym">
        </column>
        <column table="v" column="kod_bu_akt">
        </column>
        <column table="v" column="num_akt">
        </column>
        <column table="v" column="dat_akt">
        </column>
        <column table="v" column="name" as="sf_name">
        </column>
        <column table="v" column="akt_name">
        </column>
      </select>
      <from>
        <table name="n_facras" as="a">
        </table>
        <query name="n_facvip" as="v" join="left outer">
          <withparams>
            <useparam name="date">
            </useparam>
            <useparam name="kodp_cond">
            </useparam>
          </withparams>
          <call function="=">
            <column table="a" column="kod_sf">
            </column>
            <column table="v" column="kod_sf">
            </column>
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <usepart part="ext-cond">
            <const>v</const>
            <useparam name="kodp_cond">
            </useparam>
          </usepart>
        </call>
      </where>
    </query>
  </queries>
</root>