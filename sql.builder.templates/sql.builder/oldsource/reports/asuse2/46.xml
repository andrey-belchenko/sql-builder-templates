<root>
  <queries>
    <query name="val.1">
      <select>
        <const as="val">1</const>
      </select>
      <from>
        <table name="dual">
        </table>
      </from>
    </query>
    <query name="val.0">
      <select>
        <const as="val">0</const>
      </select>
      <from>
        <table name="dual">
        </table>
      </from>
    </query>
    <query name="vr_0_1">
      <union>
        <query name="val.1">
        </query>
        <query name="val.0">
        </query>
      </union>
    </query>
    <query name="vr_gor_obl">
      <select>
        <column table="c" column="val" as="prizn_selo">
        </column>
        <call function="decode" as="name">
          <column table="c" column="val">
          </column>
          <const>0</const>
          <const>'Г'</const>
          <const>'О'</const>
        </call>
      </select>
      <from>
        <query name="vr_0_1" as="c">
        </query>
      </from>
    </query>
    <query name="46main">
      <select>
        <column table="b" column="kodp" as="podr">
        </column>
        <column table="b" column="sname" as="podr_name">
        </column>
        <column table="a" column="ym">
        </column>
        <column table="c" column="val" as="pr_free">
        </column>
        <column table="f46" column="kod_f46">
        </column>
        <column table="d" column="tarif">
        </column>
        <column table="d" column="tarif_parent">
        </column>
        <column table="d" column="npp" as="tarif_npp">
        </column>
        <column table="go" column="prizn_selo">
        </column>
        <column table="go" column="name" as="prizn_selo_name">
        </column>
        <column table="i" column="kod_ist">
        </column>
        <column table="v" column="voltage">
        </column>
        <column table="v" column="abbr" as="voltage_abbr">
        </column>
      </select>
      <from>
        <query name="kr_calc" as="a">
        </query>
        <query name="kr_org" as="b" join="inner">
          <call function="=">
            <column table="a" column="podr">
            </column>
            <column table="b" column="kodp">
            </column>
          </call>
        </query>
        <query name="vr_0_1" as="c" join="cross">
        </query>
        <query name="ks_tarif" as="d" join="cross">
        </query>
        <query name="hk_voltage+null" as="v" join="cross">
        </query>
        <query name="vr_gor_obl" as="go" join="cross">
        </query>
        <query name="ks_46" as="f46" join="cross">
        </query>
        <query name="ks_istfin" as="i" join="cross">
        </query>
      </from>
    </query>
    <query name="46main1">
      <select>
        <column table="a" column="*">
        </column>
      </select>
      <from>
        <query name="46.nr_account" as="a" params="nr_account[ym],2013.11">
        </query>
      </from>
    </query>
    <query name="46.nr_account">
      <select>
        <column table="b" column="podr">
        </column>
        <column table="b" column="pr_free">
        </column>
        <column table="b" column="kod_f46">
        </column>
        <column table="b" column="kod_ist">
        </column>
        <column table="b" column="tarif_osn" as="tarif">
        </column>
        <column table="b" column="tarif2">
        </column>
        <column table="b" column="tarif16">
        </column>
        <column table="b" column="ym">
        </column>
        <column table="b" column="prizn_selo">
        </column>
        <column table="b" column="voltage">
        </column>
        <column table="b" column="category">
        </column>
        <column table="b" column="kod_dhh">
        </column>
        <column table="b" column="kodinterval">
        </column>
        <column table="b" column="nal_pr_add">
        </column>
        <call function="sum" as="cust">
          <column table="b" column="cust">
          </column>
        </call>
        <call function="sum" as="nachisl">
          <column table="b" column="nachisl">
          </column>
        </call>
      </select>
      <from>
        <query name=":1" as="b" params=":2">
        </query>
      </from>
      <group>
        <column table="b" column="podr">
        </column>
        <column table="b" column="pr_free">
        </column>
        <column table="b" column="kod_f46">
        </column>
        <column table="b" column="kod_ist">
        </column>
        <column table="b" column="tarif_osn">
        </column>
        <column table="b" column="tarif2">
        </column>
        <column table="b" column="tarif16">
        </column>
        <column table="b" column="ym">
        </column>
        <column table="b" column="prizn_selo">
        </column>
        <column table="b" column="voltage">
        </column>
        <column table="b" column="category">
        </column>
        <column table="b" column="kod_dhh">
        </column>
        <column table="b" column="kodinterval">
        </column>
        <column table="b" column="nal_pr_add">
        </column>
      </group>
    </query>
    <query name="test1">
      <select>
        <call function="sum" as="nachisl">
          <column table="a" column="kod_ist">
          </column>
        </call>
      </select>
      <from>
        <query name="46" as="a">
        </query>
      </from>
    </query>
    <query name="46">
      <select>
        <call function="case" as="c1">
          <call function="and">
            <call function="=">
              <column table="a" column="ym">
              </column>
              <const>2013</const>
            </call>
            <call function="=">
              <const>2012</const>
              <const>2013</const>
            </call>
          </call>
          <column table="a" column="kod_ist">
          </column>
          <column table="c" column="cust">
          </column>
        </call>
        <call function="trunc" as="god">
          <column table="a" column="ym">
          </column>
        </call>
        <call function="mes" as="mes">
          <column table="a" column="ym">
          </column>
        </call>
        <column table="o" column="sname" as="podr_name">
        </column>
        <column table="t" column="npp" as="tarif_npp">
        </column>
        <column table="tm" column="npp" as="tarif_parent_npp">
        </column>
        <column table="a" column="pr_free">
        </column>
        <column table="a" column="kod_ist">
        </column>
        <column table="v" column="abbr" as="voltage_abbr">
        </column>
        <column table="b" column="cust" as="cust_3_22">
        </column>
        <column table="b" column="nachisl" as="nachisl_3_22">
        </column>
        <column table="c" column="cust" as="cust_3_72">
        </column>
        <column table="c" column="nachisl" as="nachisl_3_72">
        </column>
        <call function="+nvl" as="cust_3">
          <column table="b" column="cust">
          </column>
          <column table="c" column="cust">
          </column>
        </call>
        <call function="+nvl" as="nachisl_3">
          <column table="b" column="nachisl">
          </column>
          <column table="c" column="nachisl">
          </column>
        </call>
        <column table="d" column="cust" as="cust_4">
        </column>
        <call function="round" as="price_3">
          <call function="/0">
            <column table="d" column="nachisl">
            </column>
            <column table="d" column="cust">
            </column>
          </call>
          <const>5</const>
        </call>
        <column table="d" column="nachisl" as="nachisl_4">
        </column>
        <call function="decode" as="prizn_selo">
          <column table="a" column="prizn_selo">
          </column>
          <const>1</const>
          <const>'О'</const>
          <const>'Г'</const>
        </call>
        <column table="f" column="npp" as="f46">
        </column>
        <call function="||" as="tarif2_name">
          <column table="t2" column="npp">
          </column>
          <const>' '</const>
          <column table="t2" column="name">
          </column>
        </call>
        <column table="a" column="category">
        </column>
        <column table="h" column="name" as="dhh">
        </column>
        <column table="i" column="abbr" as="interval">
        </column>
        <const as="vid_dog">'?'</const>
        <call function="||" as="tarif16_name">
          <column table="t16" column="npp">
          </column>
          <const>' '</const>
          <column table="t16" column="name">
          </column>
        </call>
        <column table="a" column="nal_pr_add">
        </column>
        <const as="ist">'?'</const>
        <const as="seti">'?'</const>
      </select>
      <from>
        <query name="46main1" as="a">
        </query>
        <query name="46.nr_account" as="b" join="left outer" params="nr_account[vid_t],72">
          <usepart part="46join" params="a,b">
          </usepart>
        </query>
        <query name="46.nr_account" as="c" join="left outer" params="nr_account[vid_t],22">
          <usepart part="46join" params="a,c">
          </usepart>
        </query>
        <query name="46.nr_account" as="d" join="left outer" params="nr_account[edizm],4">
          <usepart part="46join" params="a,d">
          </usepart>
        </query>
        <query name="ks_tarif" as="t" join="inner">
          <call function="=">
            <column table="a" column="tarif">
            </column>
            <column table="t" column="tarif">
            </column>
          </call>
        </query>
        <query name="ks_tarif" as="t2" join="left outer">
          <call function="=nvl">
            <column table="a" column="tarif2">
            </column>
            <column table="t2" column="tarif">
            </column>
          </call>
        </query>
        <query name="ks_tarif" as="t16" join="left outer">
          <call function="=nvl">
            <column table="a" column="tarif16">
            </column>
            <column table="t16" column="tarif">
            </column>
          </call>
        </query>
        <query name="kr_org" as="o" join="inner">
          <call function="=">
            <column table="a" column="podr">
            </column>
            <column table="o" column="kodp">
            </column>
          </call>
        </query>
        <query name="ks_tarif" as="tm" join="inner">
          <call function="=">
            <column table="t" column="tarif_parent">
            </column>
            <column table="tm" column="tarif">
            </column>
          </call>
        </query>
        <query name="hk_voltage" as="v" join="left outer">
          <call function="=">
            <column table="a" column="voltage">
            </column>
            <column table="v" column="voltage">
            </column>
          </call>
        </query>
        <query name="hk_dhh" as="h" join="left outer">
          <call function="=">
            <column table="a" column="kod_dhh">
            </column>
            <column table="h" column="kod_dhh">
            </column>
          </call>
        </query>
        <query name="kk_interval" as="i" join="left outer">
          <call function="=">
            <column table="a" column="kodinterval">
            </column>
            <column table="i" column="kodinterval">
            </column>
          </call>
        </query>
        <query name="ks_46" as="f" join="left outer">
          <call function="=">
            <column table="a" column="kod_f46">
            </column>
            <column table="f" column="kod_f46">
            </column>
          </call>
        </query>
      </from>
      <where>
        <call function="and">
          <call function="=">
            <column table="a" column="ym">
            </column>
            <const>2013.11</const>
          </call>
          <call function="or">
            <call function="is not null">
              <column table="b" column="cust">
              </column>
            </call>
            <call function="is not null">
              <column table="c" column="cust">
              </column>
            </call>
            <call function="is not null">
              <column table="d" column="cust">
              </column>
            </call>
          </call>
        </call>
      </where>
    </query>
  </queries>
  <parts>
    <part id="46join">
      <call function="and">
        <call function="=">
          <column table=":1" column="ym">
          </column>
          <column table=":2" column="ym">
          </column>
        </call>
        <call function="=">
          <column table=":1" column="pr_free">
          </column>
          <column table=":2" column="pr_free">
          </column>
        </call>
        <call function="=">
          <column table=":1" column="kod_f46">
          </column>
          <column table=":2" column="kod_f46">
          </column>
        </call>
        <call function="=">
          <column table=":1" column="tarif">
          </column>
          <column table=":2" column="tarif">
          </column>
        </call>
        <call function="=">
          <column table=":1" column="podr">
          </column>
          <column table=":2" column="podr">
          </column>
        </call>
        <call function="=">
          <column table=":1" column="kod_ist">
          </column>
          <column table=":2" column="kod_ist">
          </column>
        </call>
        <call function="=">
          <column table=":1" column="prizn_selo">
          </column>
          <column table=":2" column="prizn_selo">
          </column>
        </call>
        <call function="=nvl">
          <column table=":1" column="voltage">
          </column>
          <column table=":2" column="voltage">
          </column>
        </call>
        <call function="=nvl">
          <column table=":1" column="tarif2">
          </column>
          <column table=":2" column="tarif2">
          </column>
        </call>
        <call function="=nvl">
          <column table=":1" column="tarif16">
          </column>
          <column table=":2" column="tarif16">
          </column>
        </call>
        <call function="=">
          <column table=":1" column="category">
          </column>
          <column table=":2" column="category">
          </column>
        </call>
        <call function="=nvl">
          <column table=":1" column="kod_dhh">
          </column>
          <column table=":2" column="kod_dhh">
          </column>
        </call>
        <call function="=nvl">
          <column table=":1" column="kodinterval">
          </column>
          <column table=":2" column="kodinterval">
          </column>
        </call>
        <call function="=nvl">
          <column table=":1" column="nal_pr_add">
          </column>
          <column table=":2" column="nal_pr_add">
          </column>
        </call>
      </call>
    </part>
  </parts>
</root>